(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Oc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ru={exports:{}},ao={},Du={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function v1(){if(qh)return me;qh=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(O,z,fe){this.props=O,this.context=z,this.refs=x,this.updater=fe||S}E.prototype.isReactComponent={},E.prototype.setState=function(O,z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,z,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function R(){}R.prototype=E.prototype;function _(O,z,fe){this.props=O,this.context=z,this.refs=x,this.updater=fe||S}var H=_.prototype=new R;H.constructor=_,w(H,E.prototype),H.isPureReactComponent=!0;var Q=Array.isArray,T=Object.prototype.hasOwnProperty,b={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function W(O,z,fe){var ge,ve={},ke=null,Ee=null;if(z!=null)for(ge in z.ref!==void 0&&(Ee=z.ref),z.key!==void 0&&(ke=""+z.key),z)T.call(z,ge)&&!I.hasOwnProperty(ge)&&(ve[ge]=z[ge]);var we=arguments.length-2;if(we===1)ve.children=fe;else if(1<we){for(var be=Array(we),bt=0;bt<we;bt++)be[bt]=arguments[bt+2];ve.children=be}if(O&&O.defaultProps)for(ge in we=O.defaultProps,we)ve[ge]===void 0&&(ve[ge]=we[ge]);return{$$typeof:n,type:O,key:ke,ref:Ee,props:ve,_owner:b.current}}function $(O,z){return{$$typeof:n,type:O.type,key:z,ref:O.ref,props:O.props,_owner:O._owner}}function pe(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Me(O){var z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return z[fe]})}var je=/\/+/g;function ae(O,z){return typeof O=="object"&&O!==null&&O.key!=null?Me(""+O.key):z.toString(36)}function te(O,z,fe,ge,ve){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(ke){case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=O,ve=ve(Ee),O=ge===""?"."+ae(Ee,0):ge,Q(ve)?(fe="",O!=null&&(fe=O.replace(je,"$&/")+"/"),te(ve,z,fe,"",function(bt){return bt})):ve!=null&&(pe(ve)&&(ve=$(ve,fe+(!ve.key||Ee&&Ee.key===ve.key?"":(""+ve.key).replace(je,"$&/")+"/")+O)),z.push(ve)),1;if(Ee=0,ge=ge===""?".":ge+":",Q(O))for(var we=0;we<O.length;we++){ke=O[we];var be=ge+ae(ke,we);Ee+=te(ke,z,fe,be,ve)}else if(be=v(O),typeof be=="function")for(O=be.call(O),we=0;!(ke=O.next()).done;)ke=ke.value,be=ge+ae(ke,we++),Ee+=te(ke,z,fe,be,ve);else if(ke==="object")throw z=String(O),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Pe(O,z,fe){if(O==null)return O;var ge=[],ve=0;return te(O,ge,"","",function(ke){return z.call(fe,ke,ve++)}),ge}function rt(O){if(O._status===-1){var z=O._result;z=z(),z.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=z)}if(O._status===1)return O._result.default;throw O._result}var Ie={current:null},U={transition:null},oe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:U,ReactCurrentOwner:b};function G(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Pe,forEach:function(O,z,fe){Pe(O,function(){z.apply(this,arguments)},fe)},count:function(O){var z=0;return Pe(O,function(){z++}),z},toArray:function(O){return Pe(O,function(z){return z})||[]},only:function(O){if(!pe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},me.Component=E,me.Fragment=t,me.Profiler=o,me.PureComponent=_,me.StrictMode=r,me.Suspense=f,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,me.act=G,me.cloneElement=function(O,z,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ge=w({},O.props),ve=O.key,ke=O.ref,Ee=O._owner;if(z!=null){if(z.ref!==void 0&&(ke=z.ref,Ee=b.current),z.key!==void 0&&(ve=""+z.key),O.type&&O.type.defaultProps)var we=O.type.defaultProps;for(be in z)T.call(z,be)&&!I.hasOwnProperty(be)&&(ge[be]=z[be]===void 0&&we!==void 0?we[be]:z[be])}var be=arguments.length-2;if(be===1)ge.children=fe;else if(1<be){we=Array(be);for(var bt=0;bt<be;bt++)we[bt]=arguments[bt+2];ge.children=we}return{$$typeof:n,type:O.type,key:ve,ref:ke,props:ge,_owner:Ee}},me.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},me.createElement=W,me.createFactory=function(O){var z=W.bind(null,O);return z.type=O,z},me.createRef=function(){return{current:null}},me.forwardRef=function(O){return{$$typeof:c,render:O}},me.isValidElement=pe,me.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:rt}},me.memo=function(O,z){return{$$typeof:h,type:O,compare:z===void 0?null:z}},me.startTransition=function(O){var z=U.transition;U.transition={};try{O()}finally{U.transition=z}},me.unstable_act=G,me.useCallback=function(O,z){return Ie.current.useCallback(O,z)},me.useContext=function(O){return Ie.current.useContext(O)},me.useDebugValue=function(){},me.useDeferredValue=function(O){return Ie.current.useDeferredValue(O)},me.useEffect=function(O,z){return Ie.current.useEffect(O,z)},me.useId=function(){return Ie.current.useId()},me.useImperativeHandle=function(O,z,fe){return Ie.current.useImperativeHandle(O,z,fe)},me.useInsertionEffect=function(O,z){return Ie.current.useInsertionEffect(O,z)},me.useLayoutEffect=function(O,z){return Ie.current.useLayoutEffect(O,z)},me.useMemo=function(O,z){return Ie.current.useMemo(O,z)},me.useReducer=function(O,z,fe){return Ie.current.useReducer(O,z,fe)},me.useRef=function(O){return Ie.current.useRef(O)},me.useState=function(O){return Ie.current.useState(O)},me.useSyncExternalStore=function(O,z,fe){return Ie.current.useSyncExternalStore(O,z,fe)},me.useTransition=function(){return Ie.current.useTransition()},me.version="18.3.1",me}var Kh;function Io(){return Kh||(Kh=1,Du.exports=v1()),Du.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function k1(){if(Jh)return ao;Jh=1;var n=Io(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,f,h){var m,y={},v=null,S=null;h!==void 0&&(v=""+h),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!l.hasOwnProperty(m)&&(y[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:c,key:v,ref:S,props:y,_owner:o.current}}return ao.Fragment=t,ao.jsx=a,ao.jsxs=a,ao}var Gh;function S1(){return Gh||(Gh=1,Ru.exports=k1()),Ru.exports}var ue=S1(),mt=Io();const pt=Oc(mt);var Gs={},Pu={exports:{}},Tt={},Iu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function w1(){return Xh||(Xh=1,function(n){function e(U,oe){var G=U.length;U.push(oe);e:for(;0<G;){var O=G-1>>>1,z=U[O];if(0<o(z,oe))U[O]=oe,U[G]=z,G=O;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var oe=U[0],G=U.pop();if(G!==oe){U[0]=G;e:for(var O=0,z=U.length,fe=z>>>1;O<fe;){var ge=2*(O+1)-1,ve=U[ge],ke=ge+1,Ee=U[ke];if(0>o(ve,G))ke<z&&0>o(Ee,ve)?(U[O]=Ee,U[ke]=G,O=ke):(U[O]=ve,U[ge]=G,O=ge);else if(ke<z&&0>o(Ee,G))U[O]=Ee,U[ke]=G,O=ke;else break e}}return oe}function o(U,oe){var G=U.sortIndex-oe.sortIndex;return G!==0?G:U.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var f=[],h=[],m=1,y=null,v=3,S=!1,w=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(U){for(var oe=t(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=U)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(h)}}function Q(U){if(x=!1,H(U),!w)if(t(f)!==null)w=!0,rt(T);else{var oe=t(h);oe!==null&&Ie(Q,oe.startTime-U)}}function T(U,oe){w=!1,x&&(x=!1,R(W),W=-1),S=!0;var G=v;try{for(H(oe),y=t(f);y!==null&&(!(y.expirationTime>oe)||U&&!Me());){var O=y.callback;if(typeof O=="function"){y.callback=null,v=y.priorityLevel;var z=O(y.expirationTime<=oe);oe=n.unstable_now(),typeof z=="function"?y.callback=z:y===t(f)&&r(f),H(oe)}else r(f);y=t(f)}if(y!==null)var fe=!0;else{var ge=t(h);ge!==null&&Ie(Q,ge.startTime-oe),fe=!1}return fe}finally{y=null,v=G,S=!1}}var b=!1,I=null,W=-1,$=5,pe=-1;function Me(){return!(n.unstable_now()-pe<$)}function je(){if(I!==null){var U=n.unstable_now();pe=U;var oe=!0;try{oe=I(!0,U)}finally{oe?ae():(b=!1,I=null)}}else b=!1}var ae;if(typeof _=="function")ae=function(){_(je)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Pe=te.port2;te.port1.onmessage=je,ae=function(){Pe.postMessage(null)}}else ae=function(){E(je,0)};function rt(U){I=U,b||(b=!0,ae())}function Ie(U,oe){W=E(function(){U(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){w||S||(w=!0,rt(T))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(U){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var G=v;v=oe;try{return U()}finally{v=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,oe){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=v;v=U;try{return oe()}finally{v=G}},n.unstable_scheduleCallback=function(U,oe,G){var O=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?O+G:O):G=O,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,U={id:m++,callback:oe,priorityLevel:U,startTime:G,expirationTime:z,sortIndex:-1},G>O?(U.sortIndex=G,e(h,U),t(f)===null&&U===t(h)&&(x?(R(W),W=-1):x=!0,Ie(Q,G-O))):(U.sortIndex=z,e(f,U),w||S||(w=!0,rt(T))),U},n.unstable_shouldYield=Me,n.unstable_wrapCallback=function(U){var oe=v;return function(){var G=v;v=oe;try{return U.apply(this,arguments)}finally{v=G}}}}(_u)),_u}var Qh;function x1(){return Qh||(Qh=1,Iu.exports=w1()),Iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function C1(){if(Yh)return Tt;Yh=1;var n=Io(),e=x1();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,s){a(i,s),a(i+"Capture",s)}function a(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(i){return f.call(y,i)?!0:f.call(m,i)?!1:h.test(i)?y[i]=!0:(m[i]=!0,!1)}function S(i,s,u,d){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,s,u,d){if(s===null||typeof s>"u"||S(i,s,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(i,s,u,d,p,g,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=k}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];E[s]=new x(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function _(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(R,_);E[s]=new x(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(R,_);E[s]=new x(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(R,_);E[s]=new x(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,s,u,d){var p=E.hasOwnProperty(s)?E[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,u,p,d)&&(u=null),d||p===null?v(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):p.mustUseProperty?i[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,d=p.attributeNamespace,u===null?i.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,d?i.setAttributeNS(d,s,u):i.setAttribute(s,u))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Me=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),U=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var G=Object.assign,O;function z(i){if(O===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+i}var fe=!1;function ge(i,s){if(!i||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(P){var d=P}Reflect.construct(i,[],s)}else{try{s.call()}catch(P){d=P}i.call(s.prototype)}else{try{throw Error()}catch(P){d=P}i()}}catch(P){if(P&&d&&typeof P.stack=="string"){for(var p=P.stack.split(`
`),g=d.stack.split(`
`),k=p.length-1,C=g.length-1;1<=k&&0<=C&&p[k]!==g[C];)C--;for(;1<=k&&0<=C;k--,C--)if(p[k]!==g[C]){if(k!==1||C!==1)do if(k--,C--,0>C||p[k]!==g[C]){var M=`
`+p[k].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=k&&0<=C);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?z(i):""}function ve(i){switch(i.tag){case 5:return z(i.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case b:return"Portal";case $:return"Profiler";case W:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Me:return(i.displayName||"Context")+".Consumer";case pe:return(i._context.displayName||"Context")+".Provider";case je:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Pe:return s=i.displayName||null,s!==null?s:ke(i.type)||"Memo";case rt:s=i._payload,i=i._init;try{return ke(i(s))}catch{}}return null}function Ee(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function be(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bt(i){var s=be(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(k){d=""+k,g.call(this,k)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Bo(i){i._valueTracker||(i._valueTracker=bt(i))}function Qc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return i&&(d=be(i)?i.checked?"true":"false":i.value),i=d,i!==u?(s.setValue(i),!0):!1}function Fo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Bl(i,s){var u=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Yc(i,s){var u=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;u=we(s.value!=null?s.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zc(i,s){s=s.checked,s!=null&&H(i,"checked",s,!1)}function Fl(i,s){Zc(i,s);var u=we(s.value),d=s.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Vl(i,s.type,u):s.hasOwnProperty("defaultValue")&&Vl(i,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function ef(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Vl(i,s,u){(s!=="number"||Fo(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ci=Array.isArray;function _r(i,s,u,d){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&d&&(i[u].defaultSelected=!0)}else{for(u=""+we(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function jl(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function tf(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(Ci(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:we(u)}}function nf(i,s){var u=we(s.value),d=we(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function rf(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function of(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?of(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Vo,sf=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,d,p){MSApp.execUnsafeLocalFunction(function(){return i(s,u,d,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Ei(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cy=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(i){Cy.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ti[s]=Ti[i]})});function lf(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Ti.hasOwnProperty(i)&&Ti[i]?(""+s).trim():s+"px"}function af(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var d=u.indexOf("--")===0,p=lf(u,s[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,p):i[u]=p}}var Ey=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(i,s){if(s){if(Ey[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ul(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function ql(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Kl=null,Lr=null,zr=null;function uf(i){if(i=Ki(i)){if(typeof Kl!="function")throw Error(t(280));var s=i.stateNode;s&&(s=cs(s),Kl(i.stateNode,i.type,s))}}function cf(i){Lr?zr?zr.push(i):zr=[i]:Lr=i}function ff(){if(Lr){var i=Lr,s=zr;if(zr=Lr=null,uf(i),s)for(i=0;i<s.length;i++)uf(s[i])}}function df(i,s){return i(s)}function hf(){}var Jl=!1;function pf(i,s,u){if(Jl)return i(s,u);Jl=!0;try{return df(i,s,u)}finally{Jl=!1,(Lr!==null||zr!==null)&&(hf(),ff())}}function Mi(i,s){var u=i.stateNode;if(u===null)return null;var d=cs(u);if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Gl=!1;if(c)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Gl=!1}function Ty(i,s,u,d,p,g,k,C,M){var P=Array.prototype.slice.call(arguments,3);try{s.apply(u,P)}catch(B){this.onError(B)}}var Oi=!1,jo=null,$o=!1,Xl=null,My={onError:function(i){Oi=!0,jo=i}};function Ny(i,s,u,d,p,g,k,C,M){Oi=!1,jo=null,Ty.apply(My,arguments)}function Oy(i,s,u,d,p,g,k,C,M){if(Ny.apply(this,arguments),Oi){if(Oi){var P=jo;Oi=!1,jo=null}else throw Error(t(198));$o||($o=!0,Xl=P)}}function lr(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function mf(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function gf(i){if(lr(i)!==i)throw Error(t(188))}function by(i){var s=i.alternate;if(!s){if(s=lr(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,d=s;;){var p=u.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===u)return gf(p),i;if(g===d)return gf(p),s;g=g.sibling}throw Error(t(188))}if(u.return!==d.return)u=p,d=g;else{for(var k=!1,C=p.child;C;){if(C===u){k=!0,u=p,d=g;break}if(C===d){k=!0,d=p,u=g;break}C=C.sibling}if(!k){for(C=g.child;C;){if(C===u){k=!0,u=g,d=p;break}if(C===d){k=!0,d=g,u=p;break}C=C.sibling}if(!k)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function yf(i){return i=by(i),i!==null?vf(i):null}function vf(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=vf(i);if(s!==null)return s;i=i.sibling}return null}var kf=e.unstable_scheduleCallback,Sf=e.unstable_cancelCallback,Ay=e.unstable_shouldYield,Ry=e.unstable_requestPaint,ze=e.unstable_now,Dy=e.unstable_getCurrentPriorityLevel,Ql=e.unstable_ImmediatePriority,wf=e.unstable_UserBlockingPriority,Ho=e.unstable_NormalPriority,Py=e.unstable_LowPriority,xf=e.unstable_IdlePriority,Uo=null,nn=null;function Iy(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Uo,i,void 0,(i.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:zy,_y=Math.log,Ly=Math.LN2;function zy(i){return i>>>=0,i===0?32:31-(_y(i)/Ly|0)|0}var Wo=64,qo=4194304;function bi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ko(i,s){var u=i.pendingLanes;if(u===0)return 0;var d=0,p=i.suspendedLanes,g=i.pingedLanes,k=u&268435455;if(k!==0){var C=k&~p;C!==0?d=bi(C):(g&=k,g!==0&&(d=bi(g)))}else k=u&~p,k!==0?d=bi(k):g!==0&&(d=bi(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(d&4&&(d|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)u=31-qt(s),p=1<<u,d|=i[u],s&=~p;return d}function By(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fy(i,s){for(var u=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes;0<g;){var k=31-qt(g),C=1<<k,M=p[k];M===-1?(!(C&u)||C&d)&&(p[k]=By(C,s)):M<=s&&(i.expiredLanes|=C),g&=~C}}function Yl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cf(){var i=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),i}function Zl(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ai(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-qt(s),i[s]=u}function Vy(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var p=31-qt(u),g=1<<p;s[p]=0,d[p]=-1,i[p]=-1,u&=~g}}function ea(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var d=31-qt(u),p=1<<d;p&s|i[d]&s&&(i[d]|=s),u&=~p}}var xe=0;function Ef(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Tf,ta,Mf,Nf,Of,na=!1,Jo=[],Mn=null,Nn=null,On=null,Ri=new Map,Di=new Map,bn=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bf(i,s){switch(i){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Ri.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(s.pointerId)}}function Pi(i,s,u,d,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ki(s),s!==null&&ta(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function $y(i,s,u,d,p){switch(s){case"focusin":return Mn=Pi(Mn,i,s,u,d,p),!0;case"dragenter":return Nn=Pi(Nn,i,s,u,d,p),!0;case"mouseover":return On=Pi(On,i,s,u,d,p),!0;case"pointerover":var g=p.pointerId;return Ri.set(g,Pi(Ri.get(g)||null,i,s,u,d,p)),!0;case"gotpointercapture":return g=p.pointerId,Di.set(g,Pi(Di.get(g)||null,i,s,u,d,p)),!0}return!1}function Af(i){var s=ar(i.target);if(s!==null){var u=lr(s);if(u!==null){if(s=u.tag,s===13){if(s=mf(u),s!==null){i.blockedOn=s,Of(i.priority,function(){Mf(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Go(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=ia(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Wl=d,u.target.dispatchEvent(d),Wl=null}else return s=Ki(u),s!==null&&ta(s),i.blockedOn=u,!1;s.shift()}return!0}function Rf(i,s,u){Go(i)&&u.delete(s)}function Hy(){na=!1,Mn!==null&&Go(Mn)&&(Mn=null),Nn!==null&&Go(Nn)&&(Nn=null),On!==null&&Go(On)&&(On=null),Ri.forEach(Rf),Di.forEach(Rf)}function Ii(i,s){i.blockedOn===s&&(i.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hy)))}function _i(i){function s(p){return Ii(p,i)}if(0<Jo.length){Ii(Jo[0],i);for(var u=1;u<Jo.length;u++){var d=Jo[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Mn!==null&&Ii(Mn,i),Nn!==null&&Ii(Nn,i),On!==null&&Ii(On,i),Ri.forEach(s),Di.forEach(s),u=0;u<bn.length;u++)d=bn[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<bn.length&&(u=bn[0],u.blockedOn===null);)Af(u),u.blockedOn===null&&bn.shift()}var Br=Q.ReactCurrentBatchConfig,Xo=!0;function Uy(i,s,u,d){var p=xe,g=Br.transition;Br.transition=null;try{xe=1,ra(i,s,u,d)}finally{xe=p,Br.transition=g}}function Wy(i,s,u,d){var p=xe,g=Br.transition;Br.transition=null;try{xe=4,ra(i,s,u,d)}finally{xe=p,Br.transition=g}}function ra(i,s,u,d){if(Xo){var p=ia(i,s,u,d);if(p===null)wa(i,s,d,Qo,u),bf(i,d);else if($y(p,i,s,u,d))d.stopPropagation();else if(bf(i,d),s&4&&-1<jy.indexOf(i)){for(;p!==null;){var g=Ki(p);if(g!==null&&Tf(g),g=ia(i,s,u,d),g===null&&wa(i,s,d,Qo,u),g===p)break;p=g}p!==null&&d.stopPropagation()}else wa(i,s,d,null,u)}}var Qo=null;function ia(i,s,u,d){if(Qo=null,i=ql(d),i=ar(i),i!==null)if(s=lr(i),s===null)i=null;else if(u=s.tag,u===13){if(i=mf(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Qo=i,null}function Df(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dy()){case Ql:return 1;case wf:return 4;case Ho:case Py:return 16;case xf:return 536870912;default:return 16}default:return 16}}var An=null,oa=null,Yo=null;function Pf(){if(Yo)return Yo;var i,s=oa,u=s.length,d,p="value"in An?An.value:An.textContent,g=p.length;for(i=0;i<u&&s[i]===p[i];i++);var k=u-i;for(d=1;d<=k&&s[u-d]===p[g-d];d++);return Yo=p.slice(i,1<d?1-d:void 0)}function Zo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function es(){return!0}function If(){return!1}function At(i){function s(u,d,p,g,k){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?es:If,this.isPropagationStopped=If,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),s}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=At(Fr),Li=G({},Fr,{view:0,detail:0}),qy=At(Li),la,aa,zi,ts=G({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(la=i.screenX-zi.screenX,aa=i.screenY-zi.screenY):aa=la=0,zi=i),la)},movementY:function(i){return"movementY"in i?i.movementY:aa}}),_f=At(ts),Ky=G({},ts,{dataTransfer:0}),Jy=At(Ky),Gy=G({},Li,{relatedTarget:0}),ua=At(Gy),Xy=G({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=At(Xy),Yy=G({},Fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zy=At(Yy),e0=G({},Fr,{data:0}),Lf=At(e0),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=r0[i])?!!s[i]:!1}function ca(){return i0}var o0=G({},Li,{key:function(i){if(i.key){var s=t0[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Zo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?n0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(i){return i.type==="keypress"?Zo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),s0=At(o0),l0=G({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=At(l0),a0=G({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),u0=At(a0),c0=G({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=At(c0),d0=G({},ts,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),h0=At(d0),p0=[9,13,27,32],fa=c&&"CompositionEvent"in window,Bi=null;c&&"documentMode"in document&&(Bi=document.documentMode);var m0=c&&"TextEvent"in window&&!Bi,Bf=c&&(!fa||Bi&&8<Bi&&11>=Bi),Ff=" ",Vf=!1;function jf(i,s){switch(i){case"keyup":return p0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vr=!1;function g0(i,s){switch(i){case"compositionend":return $f(s);case"keypress":return s.which!==32?null:(Vf=!0,Ff);case"textInput":return i=s.data,i===Ff&&Vf?null:i;default:return null}}function y0(i,s){if(Vr)return i==="compositionend"||!fa&&jf(i,s)?(i=Pf(),Yo=oa=An=null,Vr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bf&&s.locale!=="ko"?null:s.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!v0[i.type]:s==="textarea"}function Uf(i,s,u,d){cf(d),s=ls(s,"onChange"),0<s.length&&(u=new sa("onChange","change",null,u,d),i.push({event:u,listeners:s}))}var Fi=null,Vi=null;function k0(i){ad(i,0)}function ns(i){var s=Wr(i);if(Qc(s))return i}function S0(i,s){if(i==="change")return s}var Wf=!1;if(c){var da;if(c){var ha="oninput"in document;if(!ha){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),ha=typeof qf.oninput=="function"}da=ha}else da=!1;Wf=da&&(!document.documentMode||9<document.documentMode)}function Kf(){Fi&&(Fi.detachEvent("onpropertychange",Jf),Vi=Fi=null)}function Jf(i){if(i.propertyName==="value"&&ns(Vi)){var s=[];Uf(s,Vi,i,ql(i)),pf(k0,s)}}function w0(i,s,u){i==="focusin"?(Kf(),Fi=s,Vi=u,Fi.attachEvent("onpropertychange",Jf)):i==="focusout"&&Kf()}function x0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ns(Vi)}function C0(i,s){if(i==="click")return ns(s)}function E0(i,s){if(i==="input"||i==="change")return ns(s)}function T0(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kt=typeof Object.is=="function"?Object.is:T0;function ji(i,s){if(Kt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!f.call(s,p)||!Kt(i[p],s[p]))return!1}return!0}function Gf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xf(i,s){var u=Gf(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=s&&d>=s)return{node:u,offset:s-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gf(u)}}function Qf(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Qf(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Yf(){for(var i=window,s=Fo();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Fo(i.document)}return s}function pa(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function M0(i){var s=Yf(),u=i.focusedElem,d=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Qf(u.ownerDocument.documentElement,u)){if(d!==null&&pa(u)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=u.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!i.extend&&g>d&&(p=d,d=g,g=p),p=Xf(u,g);var k=Xf(u,d);p&&k&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),g>d?(i.addRange(s),i.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var N0=c&&"documentMode"in document&&11>=document.documentMode,jr=null,ma=null,$i=null,ga=!1;function Zf(i,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ga||jr==null||jr!==Fo(d)||(d=jr,"selectionStart"in d&&pa(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$i&&ji($i,d)||($i=d,d=ls(ma,"onSelect"),0<d.length&&(s=new sa("onSelect","select",null,s,u),i.push({event:s,listeners:d}),s.target=jr)))}function rs(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var $r={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},ya={},ed={};c&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function is(i){if(ya[i])return ya[i];if(!$r[i])return i;var s=$r[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in ed)return ya[i]=s[u];return i}var td=is("animationend"),nd=is("animationiteration"),rd=is("animationstart"),id=is("transitionend"),od=new Map,sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(i,s){od.set(i,s),l(s,[i])}for(var va=0;va<sd.length;va++){var ka=sd[va],O0=ka.toLowerCase(),b0=ka[0].toUpperCase()+ka.slice(1);Rn(O0,"on"+b0)}Rn(td,"onAnimationEnd"),Rn(nd,"onAnimationIteration"),Rn(rd,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(id,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function ld(i,s,u){var d=i.type||"unknown-event";i.currentTarget=u,Oy(d,s,void 0,i),i.currentTarget=null}function ad(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var k=d.length-1;0<=k;k--){var C=d[k],M=C.instance,P=C.currentTarget;if(C=C.listener,M!==g&&p.isPropagationStopped())break e;ld(p,C,P),g=M}else for(k=0;k<d.length;k++){if(C=d[k],M=C.instance,P=C.currentTarget,C=C.listener,M!==g&&p.isPropagationStopped())break e;ld(p,C,P),g=M}}}if($o)throw i=Xl,$o=!1,Xl=null,i}function Ne(i,s){var u=s[Na];u===void 0&&(u=s[Na]=new Set);var d=i+"__bubble";u.has(d)||(ud(s,i,2,!1),u.add(d))}function Sa(i,s,u){var d=0;s&&(d|=4),ud(u,i,d,s)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Ui(i){if(!i[ss]){i[ss]=!0,r.forEach(function(u){u!=="selectionchange"&&(A0.has(u)||Sa(u,!1,i),Sa(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ss]||(s[ss]=!0,Sa("selectionchange",!1,s))}}function ud(i,s,u,d){switch(Df(s)){case 1:var p=Uy;break;case 4:p=Wy;break;default:p=ra}u=p.bind(null,s,u,i),p=void 0,!Gl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function wa(i,s,u,d,p){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(k===4)for(k=d.return;k!==null;){var M=k.tag;if((M===3||M===4)&&(M=k.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;k=k.return}for(;C!==null;){if(k=ar(C),k===null)return;if(M=k.tag,M===5||M===6){d=g=k;continue e}C=C.parentNode}}d=d.return}pf(function(){var P=g,B=ql(u),V=[];e:{var L=od.get(i);if(L!==void 0){var K=sa,X=i;switch(i){case"keypress":if(Zo(u)===0)break e;case"keydown":case"keyup":K=s0;break;case"focusin":X="focus",K=ua;break;case"focusout":X="blur",K=ua;break;case"beforeblur":case"afterblur":K=ua;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=u0;break;case td:case nd:case rd:K=Qy;break;case id:K=f0;break;case"scroll":K=qy;break;case"wheel":K=h0;break;case"copy":case"cut":case"paste":K=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=zf}var Z=(s&4)!==0,Be=!Z&&i==="scroll",A=Z?L!==null?L+"Capture":null:L;Z=[];for(var N=P,D;N!==null;){D=N;var j=D.stateNode;if(D.tag===5&&j!==null&&(D=j,A!==null&&(j=Mi(N,A),j!=null&&Z.push(Wi(N,j,D)))),Be)break;N=N.return}0<Z.length&&(L=new K(L,X,null,u,B),V.push({event:L,listeners:Z}))}}if(!(s&7)){e:{if(L=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",L&&u!==Wl&&(X=u.relatedTarget||u.fromElement)&&(ar(X)||X[hn]))break e;if((K||L)&&(L=B.window===B?B:(L=B.ownerDocument)?L.defaultView||L.parentWindow:window,K?(X=u.relatedTarget||u.toElement,K=P,X=X?ar(X):null,X!==null&&(Be=lr(X),X!==Be||X.tag!==5&&X.tag!==6)&&(X=null)):(K=null,X=P),K!==X)){if(Z=_f,j="onMouseLeave",A="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Z=zf,j="onPointerLeave",A="onPointerEnter",N="pointer"),Be=K==null?L:Wr(K),D=X==null?L:Wr(X),L=new Z(j,N+"leave",K,u,B),L.target=Be,L.relatedTarget=D,j=null,ar(B)===P&&(Z=new Z(A,N+"enter",X,u,B),Z.target=D,Z.relatedTarget=Be,j=Z),Be=j,K&&X)t:{for(Z=K,A=X,N=0,D=Z;D;D=Hr(D))N++;for(D=0,j=A;j;j=Hr(j))D++;for(;0<N-D;)Z=Hr(Z),N--;for(;0<D-N;)A=Hr(A),D--;for(;N--;){if(Z===A||A!==null&&Z===A.alternate)break t;Z=Hr(Z),A=Hr(A)}Z=null}else Z=null;K!==null&&cd(V,L,K,Z,!1),X!==null&&Be!==null&&cd(V,Be,X,Z,!0)}}e:{if(L=P?Wr(P):window,K=L.nodeName&&L.nodeName.toLowerCase(),K==="select"||K==="input"&&L.type==="file")var ee=S0;else if(Hf(L))if(Wf)ee=E0;else{ee=x0;var ne=w0}else(K=L.nodeName)&&K.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(ee=C0);if(ee&&(ee=ee(i,P))){Uf(V,ee,u,B);break e}ne&&ne(i,L,P),i==="focusout"&&(ne=L._wrapperState)&&ne.controlled&&L.type==="number"&&Vl(L,"number",L.value)}switch(ne=P?Wr(P):window,i){case"focusin":(Hf(ne)||ne.contentEditable==="true")&&(jr=ne,ma=P,$i=null);break;case"focusout":$i=ma=jr=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,Zf(V,u,B);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":Zf(V,u,B)}var re;if(fa)e:{switch(i){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Vr?jf(i,u)&&(se="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(se="onCompositionStart");se&&(Bf&&u.locale!=="ko"&&(Vr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Vr&&(re=Pf()):(An=B,oa="value"in An?An.value:An.textContent,Vr=!0)),ne=ls(P,se),0<ne.length&&(se=new Lf(se,i,null,u,B),V.push({event:se,listeners:ne}),re?se.data=re:(re=$f(u),re!==null&&(se.data=re)))),(re=m0?g0(i,u):y0(i,u))&&(P=ls(P,"onBeforeInput"),0<P.length&&(B=new Lf("onBeforeInput","beforeinput",null,u,B),V.push({event:B,listeners:P}),B.data=re))}ad(V,s)})}function Wi(i,s,u){return{instance:i,listener:s,currentTarget:u}}function ls(i,s){for(var u=s+"Capture",d=[];i!==null;){var p=i,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Mi(i,u),g!=null&&d.unshift(Wi(i,g,p)),g=Mi(i,s),g!=null&&d.push(Wi(i,g,p))),i=i.return}return d}function Hr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function cd(i,s,u,d,p){for(var g=s._reactName,k=[];u!==null&&u!==d;){var C=u,M=C.alternate,P=C.stateNode;if(M!==null&&M===d)break;C.tag===5&&P!==null&&(C=P,p?(M=Mi(u,g),M!=null&&k.unshift(Wi(u,M,C))):p||(M=Mi(u,g),M!=null&&k.push(Wi(u,M,C)))),u=u.return}k.length!==0&&i.push({event:s,listeners:k})}var R0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function fd(i){return(typeof i=="string"?i:""+i).replace(R0,`
`).replace(D0,"")}function as(i,s,u){if(s=fd(s),fd(i)!==s&&u)throw Error(t(425))}function us(){}var xa=null,Ca=null;function Ea(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,I0=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(i){return dd.resolve(null).then(i).catch(_0)}:Ta;function _0(i){setTimeout(function(){throw i})}function Ma(i,s){var u=s,d=0;do{var p=u.nextSibling;if(i.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(d===0){i.removeChild(p),_i(s);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=p}while(u);_i(s)}function Dn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function hd(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ur,qi="__reactProps$"+Ur,hn="__reactContainer$"+Ur,Na="__reactEvents$"+Ur,L0="__reactListeners$"+Ur,z0="__reactHandles$"+Ur;function ar(i){var s=i[rn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[hn]||u[rn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=hd(i);i!==null;){if(u=i[rn])return u;i=hd(i)}return s}i=u,u=i.parentNode}return null}function Ki(i){return i=i[rn]||i[hn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function cs(i){return i[qi]||null}var Oa=[],qr=-1;function Pn(i){return{current:i}}function Oe(i){0>qr||(i.current=Oa[qr],Oa[qr]=null,qr--)}function Te(i,s){qr++,Oa[qr]=i.current,i.current=s}var In={},it=Pn(In),St=Pn(!1),ur=In;function Kr(i,s){var u=i.type.contextTypes;if(!u)return In;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in u)p[g]=s[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function wt(i){return i=i.childContextTypes,i!=null}function fs(){Oe(St),Oe(it)}function pd(i,s,u){if(it.current!==In)throw Error(t(168));Te(it,s),Te(St,u)}function md(i,s,u){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Ee(i)||"Unknown",p));return G({},u,d)}function ds(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||In,ur=it.current,Te(it,i),Te(St,St.current),!0}function gd(i,s,u){var d=i.stateNode;if(!d)throw Error(t(169));u?(i=md(i,s,ur),d.__reactInternalMemoizedMergedChildContext=i,Oe(St),Oe(it),Te(it,i)):Oe(St),Te(St,u)}var pn=null,hs=!1,ba=!1;function yd(i){pn===null?pn=[i]:pn.push(i)}function B0(i){hs=!0,yd(i)}function _n(){if(!ba&&pn!==null){ba=!0;var i=0,s=xe;try{var u=pn;for(xe=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}pn=null,hs=!1}catch(p){throw pn!==null&&(pn=pn.slice(i+1)),kf(Ql,_n),p}finally{xe=s,ba=!1}}return null}var Jr=[],Gr=0,ps=null,ms=0,_t=[],Lt=0,cr=null,mn=1,gn="";function fr(i,s){Jr[Gr++]=ms,Jr[Gr++]=ps,ps=i,ms=s}function vd(i,s,u){_t[Lt++]=mn,_t[Lt++]=gn,_t[Lt++]=cr,cr=i;var d=mn;i=gn;var p=32-qt(d)-1;d&=~(1<<p),u+=1;var g=32-qt(s)+p;if(30<g){var k=p-p%5;g=(d&(1<<k)-1).toString(32),d>>=k,p-=k,mn=1<<32-qt(s)+p|u<<p|d,gn=g+i}else mn=1<<g|u<<p|d,gn=i}function Aa(i){i.return!==null&&(fr(i,1),vd(i,1,0))}function Ra(i){for(;i===ps;)ps=Jr[--Gr],Jr[Gr]=null,ms=Jr[--Gr],Jr[Gr]=null;for(;i===cr;)cr=_t[--Lt],_t[Lt]=null,gn=_t[--Lt],_t[Lt]=null,mn=_t[--Lt],_t[Lt]=null}var Rt=null,Dt=null,Ae=!1,Jt=null;function kd(i,s){var u=Vt(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Sd(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Rt=i,Dt=Dn(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Rt=i,Dt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=cr!==null?{id:mn,overflow:gn}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Vt(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Rt=i,Dt=null,!0):!1;default:return!1}}function Da(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Pa(i){if(Ae){var s=Dt;if(s){var u=s;if(!Sd(i,s)){if(Da(i))throw Error(t(418));s=Dn(u.nextSibling);var d=Rt;s&&Sd(i,s)?kd(d,u):(i.flags=i.flags&-4097|2,Ae=!1,Rt=i)}}else{if(Da(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ae=!1,Rt=i}}}function wd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rt=i}function gs(i){if(i!==Rt)return!1;if(!Ae)return wd(i),Ae=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ea(i.type,i.memoizedProps)),s&&(s=Dt)){if(Da(i))throw xd(),Error(t(418));for(;s;)kd(i,s),s=Dn(s.nextSibling)}if(wd(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Dt=Dn(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Dt=null}}else Dt=Rt?Dn(i.stateNode.nextSibling):null;return!0}function xd(){for(var i=Dt;i;)i=Dn(i.nextSibling)}function Xr(){Dt=Rt=null,Ae=!1}function Ia(i){Jt===null?Jt=[i]:Jt.push(i)}var F0=Q.ReactCurrentBatchConfig;function Ji(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,i));var p=d,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(k){var C=p.refs;k===null?delete C[g]:C[g]=k},s._stringRef=g,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function ys(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Cd(i){var s=i._init;return s(i._payload)}function Ed(i){function s(A,N){if(i){var D=A.deletions;D===null?(A.deletions=[N],A.flags|=16):D.push(N)}}function u(A,N){if(!i)return null;for(;N!==null;)s(A,N),N=N.sibling;return null}function d(A,N){for(A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function p(A,N){return A=Hn(A,N),A.index=0,A.sibling=null,A}function g(A,N,D){return A.index=D,i?(D=A.alternate,D!==null?(D=D.index,D<N?(A.flags|=2,N):D):(A.flags|=2,N)):(A.flags|=1048576,N)}function k(A){return i&&A.alternate===null&&(A.flags|=2),A}function C(A,N,D,j){return N===null||N.tag!==6?(N=Tu(D,A.mode,j),N.return=A,N):(N=p(N,D),N.return=A,N)}function M(A,N,D,j){var ee=D.type;return ee===I?B(A,N,D.props.children,j,D.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===rt&&Cd(ee)===N.type)?(j=p(N,D.props),j.ref=Ji(A,N,D),j.return=A,j):(j=js(D.type,D.key,D.props,null,A.mode,j),j.ref=Ji(A,N,D),j.return=A,j)}function P(A,N,D,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Mu(D,A.mode,j),N.return=A,N):(N=p(N,D.children||[]),N.return=A,N)}function B(A,N,D,j,ee){return N===null||N.tag!==7?(N=kr(D,A.mode,j,ee),N.return=A,N):(N=p(N,D),N.return=A,N)}function V(A,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Tu(""+N,A.mode,D),N.return=A,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T:return D=js(N.type,N.key,N.props,null,A.mode,D),D.ref=Ji(A,null,N),D.return=A,D;case b:return N=Mu(N,A.mode,D),N.return=A,N;case rt:var j=N._init;return V(A,j(N._payload),D)}if(Ci(N)||oe(N))return N=kr(N,A.mode,D,null),N.return=A,N;ys(A,N)}return null}function L(A,N,D,j){var ee=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ee!==null?null:C(A,N,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return D.key===ee?M(A,N,D,j):null;case b:return D.key===ee?P(A,N,D,j):null;case rt:return ee=D._init,L(A,N,ee(D._payload),j)}if(Ci(D)||oe(D))return ee!==null?null:B(A,N,D,j,null);ys(A,D)}return null}function K(A,N,D,j,ee){if(typeof j=="string"&&j!==""||typeof j=="number")return A=A.get(D)||null,C(N,A,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return A=A.get(j.key===null?D:j.key)||null,M(N,A,j,ee);case b:return A=A.get(j.key===null?D:j.key)||null,P(N,A,j,ee);case rt:var ne=j._init;return K(A,N,D,ne(j._payload),ee)}if(Ci(j)||oe(j))return A=A.get(D)||null,B(N,A,j,ee,null);ys(N,j)}return null}function X(A,N,D,j){for(var ee=null,ne=null,re=N,se=N=0,Ke=null;re!==null&&se<D.length;se++){re.index>se?(Ke=re,re=null):Ke=re.sibling;var Se=L(A,re,D[se],j);if(Se===null){re===null&&(re=Ke);break}i&&re&&Se.alternate===null&&s(A,re),N=g(Se,N,se),ne===null?ee=Se:ne.sibling=Se,ne=Se,re=Ke}if(se===D.length)return u(A,re),Ae&&fr(A,se),ee;if(re===null){for(;se<D.length;se++)re=V(A,D[se],j),re!==null&&(N=g(re,N,se),ne===null?ee=re:ne.sibling=re,ne=re);return Ae&&fr(A,se),ee}for(re=d(A,re);se<D.length;se++)Ke=K(re,A,se,D[se],j),Ke!==null&&(i&&Ke.alternate!==null&&re.delete(Ke.key===null?se:Ke.key),N=g(Ke,N,se),ne===null?ee=Ke:ne.sibling=Ke,ne=Ke);return i&&re.forEach(function(Un){return s(A,Un)}),Ae&&fr(A,se),ee}function Z(A,N,D,j){var ee=oe(D);if(typeof ee!="function")throw Error(t(150));if(D=ee.call(D),D==null)throw Error(t(151));for(var ne=ee=null,re=N,se=N=0,Ke=null,Se=D.next();re!==null&&!Se.done;se++,Se=D.next()){re.index>se?(Ke=re,re=null):Ke=re.sibling;var Un=L(A,re,Se.value,j);if(Un===null){re===null&&(re=Ke);break}i&&re&&Un.alternate===null&&s(A,re),N=g(Un,N,se),ne===null?ee=Un:ne.sibling=Un,ne=Un,re=Ke}if(Se.done)return u(A,re),Ae&&fr(A,se),ee;if(re===null){for(;!Se.done;se++,Se=D.next())Se=V(A,Se.value,j),Se!==null&&(N=g(Se,N,se),ne===null?ee=Se:ne.sibling=Se,ne=Se);return Ae&&fr(A,se),ee}for(re=d(A,re);!Se.done;se++,Se=D.next())Se=K(re,A,se,Se.value,j),Se!==null&&(i&&Se.alternate!==null&&re.delete(Se.key===null?se:Se.key),N=g(Se,N,se),ne===null?ee=Se:ne.sibling=Se,ne=Se);return i&&re.forEach(function(y1){return s(A,y1)}),Ae&&fr(A,se),ee}function Be(A,N,D,j){if(typeof D=="object"&&D!==null&&D.type===I&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case T:e:{for(var ee=D.key,ne=N;ne!==null;){if(ne.key===ee){if(ee=D.type,ee===I){if(ne.tag===7){u(A,ne.sibling),N=p(ne,D.props.children),N.return=A,A=N;break e}}else if(ne.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===rt&&Cd(ee)===ne.type){u(A,ne.sibling),N=p(ne,D.props),N.ref=Ji(A,ne,D),N.return=A,A=N;break e}u(A,ne);break}else s(A,ne);ne=ne.sibling}D.type===I?(N=kr(D.props.children,A.mode,j,D.key),N.return=A,A=N):(j=js(D.type,D.key,D.props,null,A.mode,j),j.ref=Ji(A,N,D),j.return=A,A=j)}return k(A);case b:e:{for(ne=D.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){u(A,N.sibling),N=p(N,D.children||[]),N.return=A,A=N;break e}else{u(A,N);break}else s(A,N);N=N.sibling}N=Mu(D,A.mode,j),N.return=A,A=N}return k(A);case rt:return ne=D._init,Be(A,N,ne(D._payload),j)}if(Ci(D))return X(A,N,D,j);if(oe(D))return Z(A,N,D,j);ys(A,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,N!==null&&N.tag===6?(u(A,N.sibling),N=p(N,D),N.return=A,A=N):(u(A,N),N=Tu(D,A.mode,j),N.return=A,A=N),k(A)):u(A,N)}return Be}var Qr=Ed(!0),Td=Ed(!1),vs=Pn(null),ks=null,Yr=null,_a=null;function La(){_a=Yr=ks=null}function za(i){var s=vs.current;Oe(vs),i._currentValue=s}function Ba(i,s,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===u)break;i=i.return}}function Zr(i,s){ks=i,_a=Yr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(xt=!0),i.firstContext=null)}function zt(i){var s=i._currentValue;if(_a!==i)if(i={context:i,memoizedValue:s,next:null},Yr===null){if(ks===null)throw Error(t(308));Yr=i,ks.dependencies={lanes:0,firstContext:i}}else Yr=Yr.next=i;return s}var dr=null;function Fa(i){dr===null?dr=[i]:dr.push(i)}function Md(i,s,u,d){var p=s.interleaved;return p===null?(u.next=u,Fa(s)):(u.next=p.next,p.next=u),s.interleaved=u,yn(i,d)}function yn(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ln=!1;function Va(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vn(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function zn(i,s,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,ye&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,yn(i,u)}return p=d.interleaved,p===null?(s.next=s,Fa(d)):(s.next=p.next,p.next=s),d.interleaved=s,yn(i,u)}function Ss(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,ea(i,u)}}function Od(i,s){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?p=g=k:g=g.next=k,u=u.next}while(u!==null);g===null?p=g=s:g=g.next=s}else p=g=s;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function ws(i,s,u,d){var p=i.updateQueue;Ln=!1;var g=p.firstBaseUpdate,k=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var M=C,P=M.next;M.next=null,k===null?g=P:k.next=P,k=M;var B=i.alternate;B!==null&&(B=B.updateQueue,C=B.lastBaseUpdate,C!==k&&(C===null?B.firstBaseUpdate=P:C.next=P,B.lastBaseUpdate=M))}if(g!==null){var V=p.baseState;k=0,B=P=M=null,C=g;do{var L=C.lane,K=C.eventTime;if((d&L)===L){B!==null&&(B=B.next={eventTime:K,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var X=i,Z=C;switch(L=s,K=u,Z.tag){case 1:if(X=Z.payload,typeof X=="function"){V=X.call(K,V,L);break e}V=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Z.payload,L=typeof X=="function"?X.call(K,V,L):X,L==null)break e;V=G({},V,L);break e;case 2:Ln=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,L=p.effects,L===null?p.effects=[C]:L.push(C))}else K={eventTime:K,lane:L,tag:C.tag,payload:C.payload,callback:C.callback,next:null},B===null?(P=B=K,M=V):B=B.next=K,k|=L;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;L=C,C=L.next,L.next=null,p.lastBaseUpdate=L,p.shared.pending=null}}while(!0);if(B===null&&(M=V),p.baseState=M,p.firstBaseUpdate=P,p.lastBaseUpdate=B,s=p.shared.interleaved,s!==null){p=s;do k|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);mr|=k,i.lanes=k,i.memoizedState=V}}function bd(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],p=d.callback;if(p!==null){if(d.callback=null,d=u,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Gi={},on=Pn(Gi),Xi=Pn(Gi),Qi=Pn(Gi);function hr(i){if(i===Gi)throw Error(t(174));return i}function ja(i,s){switch(Te(Qi,s),Te(Xi,i),Te(on,Gi),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$l(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=$l(s,i)}Oe(on),Te(on,s)}function ei(){Oe(on),Oe(Xi),Oe(Qi)}function Ad(i){hr(Qi.current);var s=hr(on.current),u=$l(s,i.type);s!==u&&(Te(Xi,i),Te(on,u))}function $a(i){Xi.current===i&&(Oe(on),Oe(Xi))}var Re=Pn(0);function xs(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ha=[];function Ua(){for(var i=0;i<Ha.length;i++)Ha[i]._workInProgressVersionPrimary=null;Ha.length=0}var Cs=Q.ReactCurrentDispatcher,Wa=Q.ReactCurrentBatchConfig,pr=0,De=null,$e=null,We=null,Es=!1,Yi=!1,Zi=0,V0=0;function ot(){throw Error(t(321))}function qa(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Kt(i[u],s[u]))return!1;return!0}function Ka(i,s,u,d,p,g){if(pr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cs.current=i===null||i.memoizedState===null?U0:W0,i=u(d,p),Yi){g=0;do{if(Yi=!1,Zi=0,25<=g)throw Error(t(301));g+=1,We=$e=null,s.updateQueue=null,Cs.current=q0,i=u(d,p)}while(Yi)}if(Cs.current=Ns,s=$e!==null&&$e.next!==null,pr=0,We=$e=De=null,Es=!1,s)throw Error(t(300));return i}function Ja(){var i=Zi!==0;return Zi=0,i}function sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?De.memoizedState=We=i:We=We.next=i,We}function Bt(){if($e===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=$e.next;var s=We===null?De.memoizedState:We.next;if(s!==null)We=s,$e=i;else{if(i===null)throw Error(t(310));$e=i,i={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?De.memoizedState=We=i:We=We.next=i}return We}function eo(i,s){return typeof s=="function"?s(i):s}function Ga(i){var s=Bt(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=$e,p=d.baseQueue,g=u.pending;if(g!==null){if(p!==null){var k=p.next;p.next=g.next,g.next=k}d.baseQueue=p=g,u.pending=null}if(p!==null){g=p.next,d=d.baseState;var C=k=null,M=null,P=g;do{var B=P.lane;if((pr&B)===B)M!==null&&(M=M.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),d=P.hasEagerState?P.eagerState:i(d,P.action);else{var V={lane:B,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};M===null?(C=M=V,k=d):M=M.next=V,De.lanes|=B,mr|=B}P=P.next}while(P!==null&&P!==g);M===null?k=d:M.next=C,Kt(d,s.memoizedState)||(xt=!0),s.memoizedState=d,s.baseState=k,s.baseQueue=M,u.lastRenderedState=d}if(i=u.interleaved,i!==null){p=i;do g=p.lane,De.lanes|=g,mr|=g,p=p.next;while(p!==i)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Xa(i){var s=Bt(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=u.dispatch,p=u.pending,g=s.memoizedState;if(p!==null){u.pending=null;var k=p=p.next;do g=i(g,k.action),k=k.next;while(k!==p);Kt(g,s.memoizedState)||(xt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),u.lastRenderedState=g}return[g,d]}function Rd(){}function Dd(i,s){var u=De,d=Bt(),p=s(),g=!Kt(d.memoizedState,p);if(g&&(d.memoizedState=p,xt=!0),d=d.queue,Qa(_d.bind(null,u,d,i),[i]),d.getSnapshot!==s||g||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,to(9,Id.bind(null,u,d,p,s),void 0,null),qe===null)throw Error(t(349));pr&30||Pd(u,s,p)}return p}function Pd(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=De.updateQueue,s===null?(s={lastEffect:null,stores:null},De.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Id(i,s,u,d){s.value=u,s.getSnapshot=d,Ld(s)&&zd(i)}function _d(i,s,u){return u(function(){Ld(s)&&zd(i)})}function Ld(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Kt(i,u)}catch{return!0}}function zd(i){var s=yn(i,1);s!==null&&Yt(s,i,1,-1)}function Bd(i){var s=sn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:i},s.queue=i,i=i.dispatch=H0.bind(null,De,i),[s.memoizedState,i]}function to(i,s,u,d){return i={tag:i,create:s,destroy:u,deps:d,next:null},s=De.updateQueue,s===null?(s={lastEffect:null,stores:null},De.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,s.lastEffect=i)),i}function Fd(){return Bt().memoizedState}function Ts(i,s,u,d){var p=sn();De.flags|=i,p.memoizedState=to(1|s,u,void 0,d===void 0?null:d)}function Ms(i,s,u,d){var p=Bt();d=d===void 0?null:d;var g=void 0;if($e!==null){var k=$e.memoizedState;if(g=k.destroy,d!==null&&qa(d,k.deps)){p.memoizedState=to(s,u,g,d);return}}De.flags|=i,p.memoizedState=to(1|s,u,g,d)}function Vd(i,s){return Ts(8390656,8,i,s)}function Qa(i,s){return Ms(2048,8,i,s)}function jd(i,s){return Ms(4,2,i,s)}function $d(i,s){return Ms(4,4,i,s)}function Hd(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ud(i,s,u){return u=u!=null?u.concat([i]):null,Ms(4,4,Hd.bind(null,s,i),u)}function Ya(){}function Wd(i,s){var u=Bt();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&qa(s,d[1])?d[0]:(u.memoizedState=[i,s],i)}function qd(i,s){var u=Bt();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&qa(s,d[1])?d[0]:(i=i(),u.memoizedState=[i,s],i)}function Kd(i,s,u){return pr&21?(Kt(u,s)||(u=Cf(),De.lanes|=u,mr|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,xt=!0),i.memoizedState=u)}function j0(i,s){var u=xe;xe=u!==0&&4>u?u:4,i(!0);var d=Wa.transition;Wa.transition={};try{i(!1),s()}finally{xe=u,Wa.transition=d}}function Jd(){return Bt().memoizedState}function $0(i,s,u){var d=jn(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Gd(i))Xd(s,u);else if(u=Md(i,s,u,d),u!==null){var p=ht();Yt(u,i,d,p),Qd(u,s,d)}}function H0(i,s,u){var d=jn(i),p={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gd(i))Xd(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var k=s.lastRenderedState,C=g(k,u);if(p.hasEagerState=!0,p.eagerState=C,Kt(C,k)){var M=s.interleaved;M===null?(p.next=p,Fa(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}u=Md(i,s,p,d),u!==null&&(p=ht(),Yt(u,i,d,p),Qd(u,s,d))}}function Gd(i){var s=i.alternate;return i===De||s!==null&&s===De}function Xd(i,s){Yi=Es=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Qd(i,s,u){if(u&4194240){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,ea(i,u)}}var Ns={readContext:zt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},U0={readContext:zt,useCallback:function(i,s){return sn().memoizedState=[i,s===void 0?null:s],i},useContext:zt,useEffect:Vd,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Ts(4194308,4,Hd.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Ts(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ts(4,2,i,s)},useMemo:function(i,s){var u=sn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var d=sn();return s=u!==void 0?u(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=$0.bind(null,De,i),[d.memoizedState,i]},useRef:function(i){var s=sn();return i={current:i},s.memoizedState=i},useState:Bd,useDebugValue:Ya,useDeferredValue:function(i){return sn().memoizedState=i},useTransition:function(){var i=Bd(!1),s=i[0];return i=j0.bind(null,i[1]),sn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var d=De,p=sn();if(Ae){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),qe===null)throw Error(t(349));pr&30||Pd(d,s,u)}p.memoizedState=u;var g={value:u,getSnapshot:s};return p.queue=g,Vd(_d.bind(null,d,g,i),[i]),d.flags|=2048,to(9,Id.bind(null,d,g,u,s),void 0,null),u},useId:function(){var i=sn(),s=qe.identifierPrefix;if(Ae){var u=gn,d=mn;u=(d&~(1<<32-qt(d)-1)).toString(32)+u,s=":"+s+"R"+u,u=Zi++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=V0++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},W0={readContext:zt,useCallback:Wd,useContext:zt,useEffect:Qa,useImperativeHandle:Ud,useInsertionEffect:jd,useLayoutEffect:$d,useMemo:qd,useReducer:Ga,useRef:Fd,useState:function(){return Ga(eo)},useDebugValue:Ya,useDeferredValue:function(i){var s=Bt();return Kd(s,$e.memoizedState,i)},useTransition:function(){var i=Ga(eo)[0],s=Bt().memoizedState;return[i,s]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Jd,unstable_isNewReconciler:!1},q0={readContext:zt,useCallback:Wd,useContext:zt,useEffect:Qa,useImperativeHandle:Ud,useInsertionEffect:jd,useLayoutEffect:$d,useMemo:qd,useReducer:Xa,useRef:Fd,useState:function(){return Xa(eo)},useDebugValue:Ya,useDeferredValue:function(i){var s=Bt();return $e===null?s.memoizedState=i:Kd(s,$e.memoizedState,i)},useTransition:function(){var i=Xa(eo)[0],s=Bt().memoizedState;return[i,s]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Jd,unstable_isNewReconciler:!1};function Gt(i,s){if(i&&i.defaultProps){s=G({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Za(i,s,u,d){s=i.memoizedState,u=u(d,s),u=u==null?s:G({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Os={isMounted:function(i){return(i=i._reactInternals)?lr(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var d=ht(),p=jn(i),g=vn(d,p);g.payload=s,u!=null&&(g.callback=u),s=zn(i,g,p),s!==null&&(Yt(s,i,p,d),Ss(s,i,p))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var d=ht(),p=jn(i),g=vn(d,p);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=zn(i,g,p),s!==null&&(Yt(s,i,p,d),Ss(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=ht(),d=jn(i),p=vn(u,d);p.tag=2,s!=null&&(p.callback=s),s=zn(i,p,d),s!==null&&(Yt(s,i,d,u),Ss(s,i,d))}};function Yd(i,s,u,d,p,g,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,k):s.prototype&&s.prototype.isPureReactComponent?!ji(u,d)||!ji(p,g):!0}function Zd(i,s,u){var d=!1,p=In,g=s.contextType;return typeof g=="object"&&g!==null?g=zt(g):(p=wt(s)?ur:it.current,d=s.contextTypes,g=(d=d!=null)?Kr(i,p):In),s=new s(u,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Os,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=g),s}function eh(i,s,u,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==i&&Os.enqueueReplaceState(s,s.state,null)}function eu(i,s,u,d){var p=i.stateNode;p.props=u,p.state=i.memoizedState,p.refs={},Va(i);var g=s.contextType;typeof g=="object"&&g!==null?p.context=zt(g):(g=wt(s)?ur:it.current,p.context=Kr(i,g)),p.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Za(i,s,g,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Os.enqueueReplaceState(p,p.state,null),ws(i,u,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function ti(i,s){try{var u="",d=s;do u+=ve(d),d=d.return;while(d);var p=u}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:p,digest:null}}function tu(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function nu(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function th(i,s,u){u=vn(-1,u),u.tag=3,u.payload={element:null};var d=s.value;return u.callback=function(){_s||(_s=!0,yu=d),nu(i,s)},u}function nh(i,s,u){u=vn(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;u.payload=function(){return d(p)},u.callback=function(){nu(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){nu(i,s),typeof d!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),u}function rh(i,s,u){var d=i.pingCache;if(d===null){d=i.pingCache=new K0;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(u)||(p.add(u),i=l1.bind(null,i,s,u),s.then(i,i))}function ih(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function oh(i,s,u,d,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=vn(-1,1),s.tag=2,zn(u,s,1))),u.lanes|=1),i)}var J0=Q.ReactCurrentOwner,xt=!1;function dt(i,s,u,d){s.child=i===null?Td(s,null,u,d):Qr(s,i.child,u,d)}function sh(i,s,u,d,p){u=u.render;var g=s.ref;return Zr(s,p),d=Ka(i,s,u,d,g,p),u=Ja(),i!==null&&!xt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,kn(i,s,p)):(Ae&&u&&Aa(s),s.flags|=1,dt(i,s,d,p),s.child)}function lh(i,s,u,d,p){if(i===null){var g=u.type;return typeof g=="function"&&!Eu(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=g,ah(i,s,g,d,p)):(i=js(u.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!(i.lanes&p)){var k=g.memoizedProps;if(u=u.compare,u=u!==null?u:ji,u(k,d)&&i.ref===s.ref)return kn(i,s,p)}return s.flags|=1,i=Hn(g,d),i.ref=s.ref,i.return=s,s.child=i}function ah(i,s,u,d,p){if(i!==null){var g=i.memoizedProps;if(ji(g,d)&&i.ref===s.ref)if(xt=!1,s.pendingProps=d=g,(i.lanes&p)!==0)i.flags&131072&&(xt=!0);else return s.lanes=i.lanes,kn(i,s,p)}return ru(i,s,u,d,p)}function uh(i,s,u){var d=s.pendingProps,p=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ri,Pt),Pt|=u;else{if(!(u&1073741824))return i=g!==null?g.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Te(ri,Pt),Pt|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:u,Te(ri,Pt),Pt|=d}else g!==null?(d=g.baseLanes|u,s.memoizedState=null):d=u,Te(ri,Pt),Pt|=d;return dt(i,s,p,u),s.child}function ch(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function ru(i,s,u,d,p){var g=wt(u)?ur:it.current;return g=Kr(s,g),Zr(s,p),u=Ka(i,s,u,d,g,p),d=Ja(),i!==null&&!xt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,kn(i,s,p)):(Ae&&d&&Aa(s),s.flags|=1,dt(i,s,u,p),s.child)}function fh(i,s,u,d,p){if(wt(u)){var g=!0;ds(s)}else g=!1;if(Zr(s,p),s.stateNode===null)As(i,s),Zd(s,u,d),eu(s,u,d,p),d=!0;else if(i===null){var k=s.stateNode,C=s.memoizedProps;k.props=C;var M=k.context,P=u.contextType;typeof P=="object"&&P!==null?P=zt(P):(P=wt(u)?ur:it.current,P=Kr(s,P));var B=u.getDerivedStateFromProps,V=typeof B=="function"||typeof k.getSnapshotBeforeUpdate=="function";V||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(C!==d||M!==P)&&eh(s,k,d,P),Ln=!1;var L=s.memoizedState;k.state=L,ws(s,d,k,p),M=s.memoizedState,C!==d||L!==M||St.current||Ln?(typeof B=="function"&&(Za(s,u,B,d),M=s.memoizedState),(C=Ln||Yd(s,u,C,d,L,M,P))?(V||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),k.props=d,k.state=M,k.context=P,d=C):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{k=s.stateNode,Nd(i,s),C=s.memoizedProps,P=s.type===s.elementType?C:Gt(s.type,C),k.props=P,V=s.pendingProps,L=k.context,M=u.contextType,typeof M=="object"&&M!==null?M=zt(M):(M=wt(u)?ur:it.current,M=Kr(s,M));var K=u.getDerivedStateFromProps;(B=typeof K=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(C!==V||L!==M)&&eh(s,k,d,M),Ln=!1,L=s.memoizedState,k.state=L,ws(s,d,k,p);var X=s.memoizedState;C!==V||L!==X||St.current||Ln?(typeof K=="function"&&(Za(s,u,K,d),X=s.memoizedState),(P=Ln||Yd(s,u,P,d,L,X,M)||!1)?(B||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,X,M),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,X,M)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||C===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=X),k.props=d,k.state=X,k.context=M,d=P):(typeof k.componentDidUpdate!="function"||C===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),d=!1)}return iu(i,s,u,d,g,p)}function iu(i,s,u,d,p,g){ch(i,s);var k=(s.flags&128)!==0;if(!d&&!k)return p&&gd(s,u,!1),kn(i,s,g);d=s.stateNode,J0.current=s;var C=k&&typeof u.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&k?(s.child=Qr(s,i.child,null,g),s.child=Qr(s,null,C,g)):dt(i,s,C,g),s.memoizedState=d.state,p&&gd(s,u,!0),s.child}function dh(i){var s=i.stateNode;s.pendingContext?pd(i,s.pendingContext,s.pendingContext!==s.context):s.context&&pd(i,s.context,!1),ja(i,s.containerInfo)}function hh(i,s,u,d,p){return Xr(),Ia(p),s.flags|=256,dt(i,s,u,d),s.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function su(i){return{baseLanes:i,cachePool:null,transitions:null}}function ph(i,s,u){var d=s.pendingProps,p=Re.current,g=!1,k=(s.flags&128)!==0,C;if((C=k)||(C=i!==null&&i.memoizedState===null?!1:(p&2)!==0),C?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Te(Re,p&1),i===null)return Pa(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(k=d.children,i=d.fallback,g?(d=s.mode,g=s.child,k={mode:"hidden",children:k},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=k):g=$s(k,d,0,null),i=kr(i,d,u,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=su(u),s.memoizedState=ou,i):lu(s,k));if(p=i.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return G0(i,s,k,d,C,p,u);if(g){g=d.fallback,k=s.mode,p=i.child,C=p.sibling;var M={mode:"hidden",children:d.children};return!(k&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=Hn(p,M),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?g=Hn(C,g):(g=kr(g,k,u,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,k=i.child.memoizedState,k=k===null?su(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},g.memoizedState=k,g.childLanes=i.childLanes&~u,s.memoizedState=ou,d}return g=i.child,i=g.sibling,d=Hn(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=u),d.return=s,d.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=d,s.memoizedState=null,d}function lu(i,s){return s=$s({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function bs(i,s,u,d){return d!==null&&Ia(d),Qr(s,i.child,null,u),i=lu(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function G0(i,s,u,d,p,g,k){if(u)return s.flags&256?(s.flags&=-257,d=tu(Error(t(422))),bs(i,s,k,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=$s({mode:"visible",children:d.children},p,0,null),g=kr(g,p,k,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&Qr(s,i.child,null,k),s.child.memoizedState=su(k),s.memoizedState=ou,g);if(!(s.mode&1))return bs(i,s,k,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,g=Error(t(419)),d=tu(g,d,void 0),bs(i,s,k,d)}if(C=(k&i.childLanes)!==0,xt||C){if(d=qe,d!==null){switch(k&-k){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|k)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,yn(i,p),Yt(d,i,p,-1))}return Cu(),d=tu(Error(t(421))),bs(i,s,k,d)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=a1.bind(null,i),p._reactRetry=s,null):(i=g.treeContext,Dt=Dn(p.nextSibling),Rt=s,Ae=!0,Jt=null,i!==null&&(_t[Lt++]=mn,_t[Lt++]=gn,_t[Lt++]=cr,mn=i.id,gn=i.overflow,cr=s),s=lu(s,d.children),s.flags|=4096,s)}function mh(i,s,u){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Ba(i.return,s,u)}function au(i,s,u,d,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=u,g.tailMode=p)}function gh(i,s,u){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(dt(i,s,d.children,u),d=Re.current,d&2)d=d&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mh(i,u,s);else if(i.tag===19)mh(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Te(Re,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&xs(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),au(s,!1,p,u,g);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&xs(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}au(s,!0,u,null,g);break;case"together":au(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function As(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function kn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),mr|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Hn(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Hn(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function X0(i,s,u){switch(s.tag){case 3:dh(s),Xr();break;case 5:Ad(s);break;case 1:wt(s.type)&&ds(s);break;case 4:ja(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Te(vs,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Te(Re,Re.current&1),s.flags|=128,null):u&s.child.childLanes?ph(i,s,u):(Te(Re,Re.current&1),i=kn(i,s,u),i!==null?i.sibling:null);Te(Re,Re.current&1);break;case 19:if(d=(u&s.childLanes)!==0,i.flags&128){if(d)return gh(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Te(Re,Re.current),d)break;return null;case 22:case 23:return s.lanes=0,uh(i,s,u)}return kn(i,s,u)}var yh,uu,vh,kh;yh=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},uu=function(){},vh=function(i,s,u,d){var p=i.memoizedProps;if(p!==d){i=s.stateNode,hr(on.current);var g=null;switch(u){case"input":p=Bl(i,p),d=Bl(i,d),g=[];break;case"select":p=G({},p,{value:void 0}),d=G({},d,{value:void 0}),g=[];break;case"textarea":p=jl(i,p),d=jl(i,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=us)}Hl(u,d);var k;u=null;for(P in p)if(!d.hasOwnProperty(P)&&p.hasOwnProperty(P)&&p[P]!=null)if(P==="style"){var C=p[P];for(k in C)C.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?g||(g=[]):(g=g||[]).push(P,null));for(P in d){var M=d[P];if(C=p!=null?p[P]:void 0,d.hasOwnProperty(P)&&M!==C&&(M!=null||C!=null))if(P==="style")if(C){for(k in C)!C.hasOwnProperty(k)||M&&M.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in M)M.hasOwnProperty(k)&&C[k]!==M[k]&&(u||(u={}),u[k]=M[k])}else u||(g||(g=[]),g.push(P,u)),u=M;else P==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(g=g||[]).push(P,M)):P==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(P,""+M):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(o.hasOwnProperty(P)?(M!=null&&P==="onScroll"&&Ne("scroll",i),g||C===M||(g=[])):(g=g||[]).push(P,M))}u&&(g=g||[]).push("style",u);var P=g;(s.updateQueue=P)&&(s.flags|=4)}},kh=function(i,s,u,d){u!==d&&(s.flags|=4)};function no(i,s){if(!Ae)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function st(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=u,s}function Q0(i,s,u){var d=s.pendingProps;switch(Ra(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return wt(s.type)&&fs(),st(s),null;case 3:return d=s.stateNode,ei(),Oe(St),Oe(it),Ua(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(gs(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Jt!==null&&(Su(Jt),Jt=null))),uu(i,s),st(s),null;case 5:$a(s);var p=hr(Qi.current);if(u=s.type,i!==null&&s.stateNode!=null)vh(i,s,u,d,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return st(s),null}if(i=hr(on.current),gs(s)){d=s.stateNode,u=s.type;var g=s.memoizedProps;switch(d[rn]=s,d[qi]=g,i=(s.mode&1)!==0,u){case"dialog":Ne("cancel",d),Ne("close",d);break;case"iframe":case"object":case"embed":Ne("load",d);break;case"video":case"audio":for(p=0;p<Hi.length;p++)Ne(Hi[p],d);break;case"source":Ne("error",d);break;case"img":case"image":case"link":Ne("error",d),Ne("load",d);break;case"details":Ne("toggle",d);break;case"input":Yc(d,g),Ne("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Ne("invalid",d);break;case"textarea":tf(d,g),Ne("invalid",d)}Hl(u,g),p=null;for(var k in g)if(g.hasOwnProperty(k)){var C=g[k];k==="children"?typeof C=="string"?d.textContent!==C&&(g.suppressHydrationWarning!==!0&&as(d.textContent,C,i),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&as(d.textContent,C,i),p=["children",""+C]):o.hasOwnProperty(k)&&C!=null&&k==="onScroll"&&Ne("scroll",d)}switch(u){case"input":Bo(d),ef(d,g,!0);break;case"textarea":Bo(d),rf(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=us)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{k=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=of(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=k.createElement(u,{is:d.is}):(i=k.createElement(u),u==="select"&&(k=i,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):i=k.createElementNS(i,u),i[rn]=s,i[qi]=d,yh(i,s,!1,!1),s.stateNode=i;e:{switch(k=Ul(u,d),u){case"dialog":Ne("cancel",i),Ne("close",i),p=d;break;case"iframe":case"object":case"embed":Ne("load",i),p=d;break;case"video":case"audio":for(p=0;p<Hi.length;p++)Ne(Hi[p],i);p=d;break;case"source":Ne("error",i),p=d;break;case"img":case"image":case"link":Ne("error",i),Ne("load",i),p=d;break;case"details":Ne("toggle",i),p=d;break;case"input":Yc(i,d),p=Bl(i,d),Ne("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=G({},d,{value:void 0}),Ne("invalid",i);break;case"textarea":tf(i,d),p=jl(i,d),Ne("invalid",i);break;default:p=d}Hl(u,p),C=p;for(g in C)if(C.hasOwnProperty(g)){var M=C[g];g==="style"?af(i,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&sf(i,M)):g==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Ei(i,M):typeof M=="number"&&Ei(i,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&Ne("scroll",i):M!=null&&H(i,g,M,k))}switch(u){case"input":Bo(i),ef(i,d,!1);break;case"textarea":Bo(i),rf(i);break;case"option":d.value!=null&&i.setAttribute("value",""+we(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?_r(i,!!d.multiple,g,!1):d.defaultValue!=null&&_r(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=us)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(i&&s.stateNode!=null)kh(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(u=hr(Qi.current),hr(on.current),gs(s)){if(d=s.stateNode,u=s.memoizedProps,d[rn]=s,(g=d.nodeValue!==u)&&(i=Rt,i!==null))switch(i.tag){case 3:as(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&as(d.nodeValue,u,(i.mode&1)!==0)}g&&(s.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[rn]=s,s.stateNode=d}return st(s),null;case 13:if(Oe(Re),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ae&&Dt!==null&&s.mode&1&&!(s.flags&128))xd(),Xr(),s.flags|=98560,g=!1;else if(g=gs(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[rn]=s}else Xr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;st(s),g=!1}else Jt!==null&&(Su(Jt),Jt=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(i===null||Re.current&1?He===0&&(He=3):Cu())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return ei(),uu(i,s),i===null&&Ui(s.stateNode.containerInfo),st(s),null;case 10:return za(s.type._context),st(s),null;case 17:return wt(s.type)&&fs(),st(s),null;case 19:if(Oe(Re),g=s.memoizedState,g===null)return st(s),null;if(d=(s.flags&128)!==0,k=g.rendering,k===null)if(d)no(g,!1);else{if(He!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(k=xs(i),k!==null){for(s.flags|=128,no(g,!1),d=k.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=u,u=s.child;u!==null;)g=u,i=d,g.flags&=14680066,k=g.alternate,k===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=k.childLanes,g.lanes=k.lanes,g.child=k.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=k.memoizedProps,g.memoizedState=k.memoizedState,g.updateQueue=k.updateQueue,g.type=k.type,i=k.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Te(Re,Re.current&1|2),s.child}i=i.sibling}g.tail!==null&&ze()>ii&&(s.flags|=128,d=!0,no(g,!1),s.lanes=4194304)}else{if(!d)if(i=xs(k),i!==null){if(s.flags|=128,d=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),no(g,!0),g.tail===null&&g.tailMode==="hidden"&&!k.alternate&&!Ae)return st(s),null}else 2*ze()-g.renderingStartTime>ii&&u!==1073741824&&(s.flags|=128,d=!0,no(g,!1),s.lanes=4194304);g.isBackwards?(k.sibling=s.child,s.child=k):(u=g.last,u!==null?u.sibling=k:s.child=k,g.last=k)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ze(),s.sibling=null,u=Re.current,Te(Re,d?u&1|2:u&1),s):(st(s),null);case 22:case 23:return xu(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Pt&1073741824&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Y0(i,s){switch(Ra(s),s.tag){case 1:return wt(s.type)&&fs(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ei(),Oe(St),Oe(it),Ua(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return $a(s),null;case 13:if(Oe(Re),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Xr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Oe(Re),null;case 4:return ei(),null;case 10:return za(s.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Rs=!1,lt=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,J=null;function ni(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){_e(i,s,d)}else u.current=null}function cu(i,s,u){try{u()}catch(d){_e(i,s,d)}}var Sh=!1;function e1(i,s){if(xa=Xo,i=Yf(),pa(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var k=0,C=-1,M=-1,P=0,B=0,V=i,L=null;t:for(;;){for(var K;V!==u||p!==0&&V.nodeType!==3||(C=k+p),V!==g||d!==0&&V.nodeType!==3||(M=k+d),V.nodeType===3&&(k+=V.nodeValue.length),(K=V.firstChild)!==null;)L=V,V=K;for(;;){if(V===i)break t;if(L===u&&++P===p&&(C=k),L===g&&++B===d&&(M=k),(K=V.nextSibling)!==null)break;V=L,L=V.parentNode}V=K}u=C===-1||M===-1?null:{start:C,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ca={focusedElem:i,selectionRange:u},Xo=!1,J=s;J!==null;)if(s=J,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,J=i;else for(;J!==null;){s=J;try{var X=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Z=X.memoizedProps,Be=X.memoizedState,A=s.stateNode,N=A.getSnapshotBeforeUpdate(s.elementType===s.type?Z:Gt(s.type,Z),Be);A.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var D=s.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(j){_e(s,s.return,j)}if(i=s.sibling,i!==null){i.return=s.return,J=i;break}J=s.return}return X=Sh,Sh=!1,X}function ro(i,s,u){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var g=p.destroy;p.destroy=void 0,g!==void 0&&cu(s,u,g)}p=p.next}while(p!==d)}}function Ds(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==s)}}function fu(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function wh(i){var s=i.alternate;s!==null&&(i.alternate=null,wh(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[rn],delete s[qi],delete s[Na],delete s[L0],delete s[z0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function xh(i){return i.tag===5||i.tag===3||i.tag===4}function Ch(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function du(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=us));else if(d!==4&&(i=i.child,i!==null))for(du(i,s,u),i=i.sibling;i!==null;)du(i,s,u),i=i.sibling}function hu(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(hu(i,s,u),i=i.sibling;i!==null;)hu(i,s,u),i=i.sibling}var Ye=null,Xt=!1;function Bn(i,s,u){for(u=u.child;u!==null;)Eh(i,s,u),u=u.sibling}function Eh(i,s,u){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Uo,u)}catch{}switch(u.tag){case 5:lt||ni(u,s);case 6:var d=Ye,p=Xt;Ye=null,Bn(i,s,u),Ye=d,Xt=p,Ye!==null&&(Xt?(i=Ye,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ye.removeChild(u.stateNode));break;case 18:Ye!==null&&(Xt?(i=Ye,u=u.stateNode,i.nodeType===8?Ma(i.parentNode,u):i.nodeType===1&&Ma(i,u),_i(i)):Ma(Ye,u.stateNode));break;case 4:d=Ye,p=Xt,Ye=u.stateNode.containerInfo,Xt=!0,Bn(i,s,u),Ye=d,Xt=p;break;case 0:case 11:case 14:case 15:if(!lt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,k=g.destroy;g=g.tag,k!==void 0&&(g&2||g&4)&&cu(u,s,k),p=p.next}while(p!==d)}Bn(i,s,u);break;case 1:if(!lt&&(ni(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(C){_e(u,s,C)}Bn(i,s,u);break;case 21:Bn(i,s,u);break;case 22:u.mode&1?(lt=(d=lt)||u.memoizedState!==null,Bn(i,s,u),lt=d):Bn(i,s,u);break;default:Bn(i,s,u)}}function Th(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Z0),s.forEach(function(d){var p=u1.bind(null,i,d);u.has(d)||(u.add(d),d.then(p,p))})}}function Qt(i,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d];try{var g=i,k=s,C=k;e:for(;C!==null;){switch(C.tag){case 5:Ye=C.stateNode,Xt=!1;break e;case 3:Ye=C.stateNode.containerInfo,Xt=!0;break e;case 4:Ye=C.stateNode.containerInfo,Xt=!0;break e}C=C.return}if(Ye===null)throw Error(t(160));Eh(g,k,p),Ye=null,Xt=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(P){_e(p,s,P)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Mh(s,i),s=s.sibling}function Mh(i,s){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qt(s,i),ln(i),d&4){try{ro(3,i,i.return),Ds(3,i)}catch(Z){_e(i,i.return,Z)}try{ro(5,i,i.return)}catch(Z){_e(i,i.return,Z)}}break;case 1:Qt(s,i),ln(i),d&512&&u!==null&&ni(u,u.return);break;case 5:if(Qt(s,i),ln(i),d&512&&u!==null&&ni(u,u.return),i.flags&32){var p=i.stateNode;try{Ei(p,"")}catch(Z){_e(i,i.return,Z)}}if(d&4&&(p=i.stateNode,p!=null)){var g=i.memoizedProps,k=u!==null?u.memoizedProps:g,C=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Zc(p,g),Ul(C,k);var P=Ul(C,g);for(k=0;k<M.length;k+=2){var B=M[k],V=M[k+1];B==="style"?af(p,V):B==="dangerouslySetInnerHTML"?sf(p,V):B==="children"?Ei(p,V):H(p,B,V,P)}switch(C){case"input":Fl(p,g);break;case"textarea":nf(p,g);break;case"select":var L=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var K=g.value;K!=null?_r(p,!!g.multiple,K,!1):L!==!!g.multiple&&(g.defaultValue!=null?_r(p,!!g.multiple,g.defaultValue,!0):_r(p,!!g.multiple,g.multiple?[]:"",!1))}p[qi]=g}catch(Z){_e(i,i.return,Z)}}break;case 6:if(Qt(s,i),ln(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,g=i.memoizedProps;try{p.nodeValue=g}catch(Z){_e(i,i.return,Z)}}break;case 3:if(Qt(s,i),ln(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{_i(s.containerInfo)}catch(Z){_e(i,i.return,Z)}break;case 4:Qt(s,i),ln(i);break;case 13:Qt(s,i),ln(i),p=i.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(gu=ze())),d&4&&Th(i);break;case 22:if(B=u!==null&&u.memoizedState!==null,i.mode&1?(lt=(P=lt)||B,Qt(s,i),lt=P):Qt(s,i),ln(i),d&8192){if(P=i.memoizedState!==null,(i.stateNode.isHidden=P)&&!B&&i.mode&1)for(J=i,B=i.child;B!==null;){for(V=J=B;J!==null;){switch(L=J,K=L.child,L.tag){case 0:case 11:case 14:case 15:ro(4,L,L.return);break;case 1:ni(L,L.return);var X=L.stateNode;if(typeof X.componentWillUnmount=="function"){d=L,u=L.return;try{s=d,X.props=s.memoizedProps,X.state=s.memoizedState,X.componentWillUnmount()}catch(Z){_e(d,u,Z)}}break;case 5:ni(L,L.return);break;case 22:if(L.memoizedState!==null){bh(V);continue}}K!==null?(K.return=L,J=K):bh(V)}B=B.sibling}e:for(B=null,V=i;;){if(V.tag===5){if(B===null){B=V;try{p=V.stateNode,P?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=V.stateNode,M=V.memoizedProps.style,k=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=lf("display",k))}catch(Z){_e(i,i.return,Z)}}}else if(V.tag===6){if(B===null)try{V.stateNode.nodeValue=P?"":V.memoizedProps}catch(Z){_e(i,i.return,Z)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===i)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===i)break e;for(;V.sibling===null;){if(V.return===null||V.return===i)break e;B===V&&(B=null),V=V.return}B===V&&(B=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Qt(s,i),ln(i),d&4&&Th(i);break;case 21:break;default:Qt(s,i),ln(i)}}function ln(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(xh(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Ei(p,""),d.flags&=-33);var g=Ch(i);hu(i,g,p);break;case 3:case 4:var k=d.stateNode.containerInfo,C=Ch(i);du(i,C,k);break;default:throw Error(t(161))}}catch(M){_e(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function t1(i,s,u){J=i,Nh(i)}function Nh(i,s,u){for(var d=(i.mode&1)!==0;J!==null;){var p=J,g=p.child;if(p.tag===22&&d){var k=p.memoizedState!==null||Rs;if(!k){var C=p.alternate,M=C!==null&&C.memoizedState!==null||lt;C=Rs;var P=lt;if(Rs=k,(lt=M)&&!P)for(J=p;J!==null;)k=J,M=k.child,k.tag===22&&k.memoizedState!==null?Ah(p):M!==null?(M.return=k,J=M):Ah(p);for(;g!==null;)J=g,Nh(g),g=g.sibling;J=p,Rs=C,lt=P}Oh(i)}else p.subtreeFlags&8772&&g!==null?(g.return=p,J=g):Oh(i)}}function Oh(i){for(;J!==null;){var s=J;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:lt||Ds(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!lt)if(u===null)d.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:Gt(s.type,u.memoizedProps);d.componentDidUpdate(p,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&bd(s,g,d);break;case 3:var k=s.updateQueue;if(k!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}bd(s,k,u)}break;case 5:var C=s.stateNode;if(u===null&&s.flags&4){u=C;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var P=s.alternate;if(P!==null){var B=P.memoizedState;if(B!==null){var V=B.dehydrated;V!==null&&_i(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}lt||s.flags&512&&fu(s)}catch(L){_e(s,s.return,L)}}if(s===i){J=null;break}if(u=s.sibling,u!==null){u.return=s.return,J=u;break}J=s.return}}function bh(i){for(;J!==null;){var s=J;if(s===i){J=null;break}var u=s.sibling;if(u!==null){u.return=s.return,J=u;break}J=s.return}}function Ah(i){for(;J!==null;){var s=J;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Ds(4,s)}catch(M){_e(s,u,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(M){_e(s,p,M)}}var g=s.return;try{fu(s)}catch(M){_e(s,g,M)}break;case 5:var k=s.return;try{fu(s)}catch(M){_e(s,k,M)}}}catch(M){_e(s,s.return,M)}if(s===i){J=null;break}var C=s.sibling;if(C!==null){C.return=s.return,J=C;break}J=s.return}}var n1=Math.ceil,Ps=Q.ReactCurrentDispatcher,pu=Q.ReactCurrentOwner,Ft=Q.ReactCurrentBatchConfig,ye=0,qe=null,Fe=null,Ze=0,Pt=0,ri=Pn(0),He=0,io=null,mr=0,Is=0,mu=0,oo=null,Ct=null,gu=0,ii=1/0,Sn=null,_s=!1,yu=null,Fn=null,Ls=!1,Vn=null,zs=0,so=0,vu=null,Bs=-1,Fs=0;function ht(){return ye&6?ze():Bs!==-1?Bs:Bs=ze()}function jn(i){return i.mode&1?ye&2&&Ze!==0?Ze&-Ze:F0.transition!==null?(Fs===0&&(Fs=Cf()),Fs):(i=xe,i!==0||(i=window.event,i=i===void 0?16:Df(i.type)),i):1}function Yt(i,s,u,d){if(50<so)throw so=0,vu=null,Error(t(185));Ai(i,u,d),(!(ye&2)||i!==qe)&&(i===qe&&(!(ye&2)&&(Is|=u),He===4&&$n(i,Ze)),Et(i,d),u===1&&ye===0&&!(s.mode&1)&&(ii=ze()+500,hs&&_n()))}function Et(i,s){var u=i.callbackNode;Fy(i,s);var d=Ko(i,i===qe?Ze:0);if(d===0)u!==null&&Sf(u),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(u!=null&&Sf(u),s===1)i.tag===0?B0(Dh.bind(null,i)):yd(Dh.bind(null,i)),I0(function(){!(ye&6)&&_n()}),u=null;else{switch(Ef(d)){case 1:u=Ql;break;case 4:u=wf;break;case 16:u=Ho;break;case 536870912:u=xf;break;default:u=Ho}u=Vh(u,Rh.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Rh(i,s){if(Bs=-1,Fs=0,ye&6)throw Error(t(327));var u=i.callbackNode;if(oi()&&i.callbackNode!==u)return null;var d=Ko(i,i===qe?Ze:0);if(d===0)return null;if(d&30||d&i.expiredLanes||s)s=Vs(i,d);else{s=d;var p=ye;ye|=2;var g=Ih();(qe!==i||Ze!==s)&&(Sn=null,ii=ze()+500,yr(i,s));do try{o1();break}catch(C){Ph(i,C)}while(!0);La(),Ps.current=g,ye=p,Fe!==null?s=0:(qe=null,Ze=0,s=He)}if(s!==0){if(s===2&&(p=Yl(i),p!==0&&(d=p,s=ku(i,p))),s===1)throw u=io,yr(i,0),$n(i,d),Et(i,ze()),u;if(s===6)$n(i,d);else{if(p=i.current.alternate,!(d&30)&&!r1(p)&&(s=Vs(i,d),s===2&&(g=Yl(i),g!==0&&(d=g,s=ku(i,g))),s===1))throw u=io,yr(i,0),$n(i,d),Et(i,ze()),u;switch(i.finishedWork=p,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:vr(i,Ct,Sn);break;case 3:if($n(i,d),(d&130023424)===d&&(s=gu+500-ze(),10<s)){if(Ko(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){ht(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Ta(vr.bind(null,i,Ct,Sn),s);break}vr(i,Ct,Sn);break;case 4:if($n(i,d),(d&4194240)===d)break;for(s=i.eventTimes,p=-1;0<d;){var k=31-qt(d);g=1<<k,k=s[k],k>p&&(p=k),d&=~g}if(d=p,d=ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*n1(d/1960))-d,10<d){i.timeoutHandle=Ta(vr.bind(null,i,Ct,Sn),d);break}vr(i,Ct,Sn);break;case 5:vr(i,Ct,Sn);break;default:throw Error(t(329))}}}return Et(i,ze()),i.callbackNode===u?Rh.bind(null,i):null}function ku(i,s){var u=oo;return i.current.memoizedState.isDehydrated&&(yr(i,s).flags|=256),i=Vs(i,s),i!==2&&(s=Ct,Ct=u,s!==null&&Su(s)),i}function Su(i){Ct===null?Ct=i:Ct.push.apply(Ct,i)}function r1(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var p=u[d],g=p.getSnapshot;p=p.value;try{if(!Kt(g(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $n(i,s){for(s&=~mu,s&=~Is,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-qt(s),d=1<<u;i[u]=-1,s&=~d}}function Dh(i){if(ye&6)throw Error(t(327));oi();var s=Ko(i,0);if(!(s&1))return Et(i,ze()),null;var u=Vs(i,s);if(i.tag!==0&&u===2){var d=Yl(i);d!==0&&(s=d,u=ku(i,d))}if(u===1)throw u=io,yr(i,0),$n(i,s),Et(i,ze()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,vr(i,Ct,Sn),Et(i,ze()),null}function wu(i,s){var u=ye;ye|=1;try{return i(s)}finally{ye=u,ye===0&&(ii=ze()+500,hs&&_n())}}function gr(i){Vn!==null&&Vn.tag===0&&!(ye&6)&&oi();var s=ye;ye|=1;var u=Ft.transition,d=xe;try{if(Ft.transition=null,xe=1,i)return i()}finally{xe=d,Ft.transition=u,ye=s,!(ye&6)&&_n()}}function xu(){Pt=ri.current,Oe(ri)}function yr(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,P0(u)),Fe!==null)for(u=Fe.return;u!==null;){var d=u;switch(Ra(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fs();break;case 3:ei(),Oe(St),Oe(it),Ua();break;case 5:$a(d);break;case 4:ei();break;case 13:Oe(Re);break;case 19:Oe(Re);break;case 10:za(d.type._context);break;case 22:case 23:xu()}u=u.return}if(qe=i,Fe=i=Hn(i.current,null),Ze=Pt=s,He=0,io=null,mu=Is=mr=0,Ct=oo=null,dr!==null){for(s=0;s<dr.length;s++)if(u=dr[s],d=u.interleaved,d!==null){u.interleaved=null;var p=d.next,g=u.pending;if(g!==null){var k=g.next;g.next=p,d.next=k}u.pending=d}dr=null}return i}function Ph(i,s){do{var u=Fe;try{if(La(),Cs.current=Ns,Es){for(var d=De.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Es=!1}if(pr=0,We=$e=De=null,Yi=!1,Zi=0,pu.current=null,u===null||u.return===null){He=1,io=s,Fe=null;break}e:{var g=i,k=u.return,C=u,M=s;if(s=Ze,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var P=M,B=C,V=B.tag;if(!(B.mode&1)&&(V===0||V===11||V===15)){var L=B.alternate;L?(B.updateQueue=L.updateQueue,B.memoizedState=L.memoizedState,B.lanes=L.lanes):(B.updateQueue=null,B.memoizedState=null)}var K=ih(k);if(K!==null){K.flags&=-257,oh(K,k,C,g,s),K.mode&1&&rh(g,P,s),s=K,M=P;var X=s.updateQueue;if(X===null){var Z=new Set;Z.add(M),s.updateQueue=Z}else X.add(M);break e}else{if(!(s&1)){rh(g,P,s),Cu();break e}M=Error(t(426))}}else if(Ae&&C.mode&1){var Be=ih(k);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),oh(Be,k,C,g,s),Ia(ti(M,C));break e}}g=M=ti(M,C),He!==4&&(He=2),oo===null?oo=[g]:oo.push(g),g=k;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var A=th(g,M,s);Od(g,A);break e;case 1:C=M;var N=g.type,D=g.stateNode;if(!(g.flags&128)&&(typeof N.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Fn===null||!Fn.has(D)))){g.flags|=65536,s&=-s,g.lanes|=s;var j=nh(g,C,s);Od(g,j);break e}}g=g.return}while(g!==null)}Lh(u)}catch(ee){s=ee,Fe===u&&u!==null&&(Fe=u=u.return);continue}break}while(!0)}function Ih(){var i=Ps.current;return Ps.current=Ns,i===null?Ns:i}function Cu(){(He===0||He===3||He===2)&&(He=4),qe===null||!(mr&268435455)&&!(Is&268435455)||$n(qe,Ze)}function Vs(i,s){var u=ye;ye|=2;var d=Ih();(qe!==i||Ze!==s)&&(Sn=null,yr(i,s));do try{i1();break}catch(p){Ph(i,p)}while(!0);if(La(),ye=u,Ps.current=d,Fe!==null)throw Error(t(261));return qe=null,Ze=0,He}function i1(){for(;Fe!==null;)_h(Fe)}function o1(){for(;Fe!==null&&!Ay();)_h(Fe)}function _h(i){var s=Fh(i.alternate,i,Pt);i.memoizedProps=i.pendingProps,s===null?Lh(i):Fe=s,pu.current=null}function Lh(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=Y0(u,s),u!==null){u.flags&=32767,Fe=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{He=6,Fe=null;return}}else if(u=Q0(u,s,Pt),u!==null){Fe=u;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=i}while(s!==null);He===0&&(He=5)}function vr(i,s,u){var d=xe,p=Ft.transition;try{Ft.transition=null,xe=1,s1(i,s,u,d)}finally{Ft.transition=p,xe=d}return null}function s1(i,s,u,d){do oi();while(Vn!==null);if(ye&6)throw Error(t(327));u=i.finishedWork;var p=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var g=u.lanes|u.childLanes;if(Vy(i,g),i===qe&&(Fe=qe=null,Ze=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ls||(Ls=!0,Vh(Ho,function(){return oi(),null})),g=(u.flags&15990)!==0,u.subtreeFlags&15990||g){g=Ft.transition,Ft.transition=null;var k=xe;xe=1;var C=ye;ye|=4,pu.current=null,e1(i,u),Mh(u,i),M0(Ca),Xo=!!xa,Ca=xa=null,i.current=u,t1(u),Ry(),ye=C,xe=k,Ft.transition=g}else i.current=u;if(Ls&&(Ls=!1,Vn=i,zs=p),g=i.pendingLanes,g===0&&(Fn=null),Iy(u.stateNode),Et(i,ze()),s!==null)for(d=i.onRecoverableError,u=0;u<s.length;u++)p=s[u],d(p.value,{componentStack:p.stack,digest:p.digest});if(_s)throw _s=!1,i=yu,yu=null,i;return zs&1&&i.tag!==0&&oi(),g=i.pendingLanes,g&1?i===vu?so++:(so=0,vu=i):so=0,_n(),null}function oi(){if(Vn!==null){var i=Ef(zs),s=Ft.transition,u=xe;try{if(Ft.transition=null,xe=16>i?16:i,Vn===null)var d=!1;else{if(i=Vn,Vn=null,zs=0,ye&6)throw Error(t(331));var p=ye;for(ye|=4,J=i.current;J!==null;){var g=J,k=g.child;if(J.flags&16){var C=g.deletions;if(C!==null){for(var M=0;M<C.length;M++){var P=C[M];for(J=P;J!==null;){var B=J;switch(B.tag){case 0:case 11:case 15:ro(8,B,g)}var V=B.child;if(V!==null)V.return=B,J=V;else for(;J!==null;){B=J;var L=B.sibling,K=B.return;if(wh(B),B===P){J=null;break}if(L!==null){L.return=K,J=L;break}J=K}}}var X=g.alternate;if(X!==null){var Z=X.child;if(Z!==null){X.child=null;do{var Be=Z.sibling;Z.sibling=null,Z=Be}while(Z!==null)}}J=g}}if(g.subtreeFlags&2064&&k!==null)k.return=g,J=k;else e:for(;J!==null;){if(g=J,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ro(9,g,g.return)}var A=g.sibling;if(A!==null){A.return=g.return,J=A;break e}J=g.return}}var N=i.current;for(J=N;J!==null;){k=J;var D=k.child;if(k.subtreeFlags&2064&&D!==null)D.return=k,J=D;else e:for(k=N;J!==null;){if(C=J,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Ds(9,C)}}catch(ee){_e(C,C.return,ee)}if(C===k){J=null;break e}var j=C.sibling;if(j!==null){j.return=C.return,J=j;break e}J=C.return}}if(ye=p,_n(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Uo,i)}catch{}d=!0}return d}finally{xe=u,Ft.transition=s}}return!1}function zh(i,s,u){s=ti(u,s),s=th(i,s,1),i=zn(i,s,1),s=ht(),i!==null&&(Ai(i,1,s),Et(i,s))}function _e(i,s,u){if(i.tag===3)zh(i,i,u);else for(;s!==null;){if(s.tag===3){zh(s,i,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Fn===null||!Fn.has(d))){i=ti(u,i),i=nh(s,i,1),s=zn(s,i,1),i=ht(),s!==null&&(Ai(s,1,i),Et(s,i));break}}s=s.return}}function l1(i,s,u){var d=i.pingCache;d!==null&&d.delete(s),s=ht(),i.pingedLanes|=i.suspendedLanes&u,qe===i&&(Ze&u)===u&&(He===4||He===3&&(Ze&130023424)===Ze&&500>ze()-gu?yr(i,0):mu|=u),Et(i,s)}function Bh(i,s){s===0&&(i.mode&1?(s=qo,qo<<=1,!(qo&130023424)&&(qo=4194304)):s=1);var u=ht();i=yn(i,s),i!==null&&(Ai(i,s,u),Et(i,u))}function a1(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Bh(i,u)}function u1(i,s){var u=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Bh(i,u)}var Fh;Fh=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||St.current)xt=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return xt=!1,X0(i,s,u);xt=!!(i.flags&131072)}else xt=!1,Ae&&s.flags&1048576&&vd(s,ms,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;As(i,s),i=s.pendingProps;var p=Kr(s,it.current);Zr(s,u),p=Ka(null,s,d,i,p,u);var g=Ja();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wt(d)?(g=!0,ds(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Va(s),p.updater=Os,s.stateNode=p,p._reactInternals=s,eu(s,d,i,u),s=iu(null,s,d,!0,g,u)):(s.tag=0,Ae&&g&&Aa(s),dt(null,s,p,u),s=s.child),s;case 16:d=s.elementType;e:{switch(As(i,s),i=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=f1(d),i=Gt(d,i),p){case 0:s=ru(null,s,d,i,u);break e;case 1:s=fh(null,s,d,i,u);break e;case 11:s=sh(null,s,d,i,u);break e;case 14:s=lh(null,s,d,Gt(d.type,i),u);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Gt(d,p),ru(i,s,d,p,u);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Gt(d,p),fh(i,s,d,p,u);case 3:e:{if(dh(s),i===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,p=g.element,Nd(i,s),ws(s,d,null,u);var k=s.memoizedState;if(d=k.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=ti(Error(t(423)),s),s=hh(i,s,d,u,p);break e}else if(d!==p){p=ti(Error(t(424)),s),s=hh(i,s,d,u,p);break e}else for(Dt=Dn(s.stateNode.containerInfo.firstChild),Rt=s,Ae=!0,Jt=null,u=Td(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xr(),d===p){s=kn(i,s,u);break e}dt(i,s,d,u)}s=s.child}return s;case 5:return Ad(s),i===null&&Pa(s),d=s.type,p=s.pendingProps,g=i!==null?i.memoizedProps:null,k=p.children,Ea(d,p)?k=null:g!==null&&Ea(d,g)&&(s.flags|=32),ch(i,s),dt(i,s,k,u),s.child;case 6:return i===null&&Pa(s),null;case 13:return ph(i,s,u);case 4:return ja(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Qr(s,null,d,u):dt(i,s,d,u),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Gt(d,p),sh(i,s,d,p,u);case 7:return dt(i,s,s.pendingProps,u),s.child;case 8:return dt(i,s,s.pendingProps.children,u),s.child;case 12:return dt(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,k=p.value,Te(vs,d._currentValue),d._currentValue=k,g!==null)if(Kt(g.value,k)){if(g.children===p.children&&!St.current){s=kn(i,s,u);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){k=g.child;for(var M=C.firstContext;M!==null;){if(M.context===d){if(g.tag===1){M=vn(-1,u&-u),M.tag=2;var P=g.updateQueue;if(P!==null){P=P.shared;var B=P.pending;B===null?M.next=M:(M.next=B.next,B.next=M),P.pending=M}}g.lanes|=u,M=g.alternate,M!==null&&(M.lanes|=u),Ba(g.return,u,s),C.lanes|=u;break}M=M.next}}else if(g.tag===10)k=g.type===s.type?null:g.child;else if(g.tag===18){if(k=g.return,k===null)throw Error(t(341));k.lanes|=u,C=k.alternate,C!==null&&(C.lanes|=u),Ba(k,u,s),k=g.sibling}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===s){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}dt(i,s,p.children,u),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Zr(s,u),p=zt(p),d=d(p),s.flags|=1,dt(i,s,d,u),s.child;case 14:return d=s.type,p=Gt(d,s.pendingProps),p=Gt(d.type,p),lh(i,s,d,p,u);case 15:return ah(i,s,s.type,s.pendingProps,u);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Gt(d,p),As(i,s),s.tag=1,wt(d)?(i=!0,ds(s)):i=!1,Zr(s,u),Zd(s,d,p),eu(s,d,p,u),iu(null,s,d,!0,i,u);case 19:return gh(i,s,u);case 22:return uh(i,s,u)}throw Error(t(156,s.tag))};function Vh(i,s){return kf(i,s)}function c1(i,s,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(i,s,u,d){return new c1(i,s,u,d)}function Eu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function f1(i){if(typeof i=="function")return Eu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===je)return 11;if(i===Pe)return 14}return 2}function Hn(i,s){var u=i.alternate;return u===null?(u=Vt(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function js(i,s,u,d,p,g){var k=2;if(d=i,typeof i=="function")Eu(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case I:return kr(u.children,p,g,s);case W:k=8,p|=8;break;case $:return i=Vt(12,u,s,p|2),i.elementType=$,i.lanes=g,i;case ae:return i=Vt(13,u,s,p),i.elementType=ae,i.lanes=g,i;case te:return i=Vt(19,u,s,p),i.elementType=te,i.lanes=g,i;case Ie:return $s(u,p,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case pe:k=10;break e;case Me:k=9;break e;case je:k=11;break e;case Pe:k=14;break e;case rt:k=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Vt(k,u,s,p),s.elementType=i,s.type=d,s.lanes=g,s}function kr(i,s,u,d){return i=Vt(7,i,d,s),i.lanes=u,i}function $s(i,s,u,d){return i=Vt(22,i,d,s),i.elementType=Ie,i.lanes=u,i.stateNode={isHidden:!1},i}function Tu(i,s,u){return i=Vt(6,i,null,s),i.lanes=u,i}function Mu(i,s,u){return s=Vt(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function d1(i,s,u,d,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Nu(i,s,u,d,p,g,k,C,M){return i=new d1(i,s,u,C,M),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vt(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(g),i}function h1(i,s,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:d==null?null:""+d,children:i,containerInfo:s,implementation:u}}function jh(i){if(!i)return In;i=i._reactInternals;e:{if(lr(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(wt(u))return md(i,u,s)}return s}function $h(i,s,u,d,p,g,k,C,M){return i=Nu(u,d,!0,i,p,g,k,C,M),i.context=jh(null),u=i.current,d=ht(),p=jn(u),g=vn(d,p),g.callback=s??null,zn(u,g,p),i.current.lanes=p,Ai(i,p,d),Et(i,d),i}function Hs(i,s,u,d){var p=s.current,g=ht(),k=jn(p);return u=jh(u),s.context===null?s.context=u:s.pendingContext=u,s=vn(g,k),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=zn(p,s,k),i!==null&&(Yt(i,p,k,g),Ss(i,p,k)),k}function Us(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hh(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Ou(i,s){Hh(i,s),(i=i.alternate)&&Hh(i,s)}var Uh=typeof reportError=="function"?reportError:function(i){console.error(i)};function bu(i){this._internalRoot=i}Ws.prototype.render=bu.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Hs(i,s,null,null)},Ws.prototype.unmount=bu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;gr(function(){Hs(null,i,null,null)}),s[hn]=null}};function Ws(i){this._internalRoot=i}Ws.prototype.unstable_scheduleHydration=function(i){if(i){var s=Nf();i={blockedOn:null,target:i,priority:s};for(var u=0;u<bn.length&&s!==0&&s<bn[u].priority;u++);bn.splice(u,0,i),u===0&&Af(i)}};function Au(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function qs(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function p1(i,s,u,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var P=Us(k);g.call(P)}}var k=$h(s,d,i,0,null,!1,!1,"",Wh);return i._reactRootContainer=k,i[hn]=k.current,Ui(i.nodeType===8?i.parentNode:i),gr(),k}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var P=Us(M);C.call(P)}}var M=Nu(i,0,!1,null,null,!1,!1,"",Wh);return i._reactRootContainer=M,i[hn]=M.current,Ui(i.nodeType===8?i.parentNode:i),gr(function(){Hs(s,M,u,d)}),M}function Ks(i,s,u,d,p){var g=u._reactRootContainer;if(g){var k=g;if(typeof p=="function"){var C=p;p=function(){var M=Us(k);C.call(M)}}Hs(s,k,i,p)}else k=p1(u,s,i,p,d);return Us(k)}Tf=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=bi(s.pendingLanes);u!==0&&(ea(s,u|1),Et(s,ze()),!(ye&6)&&(ii=ze()+500,_n()))}break;case 13:gr(function(){var d=yn(i,1);if(d!==null){var p=ht();Yt(d,i,1,p)}}),Ou(i,1)}},ta=function(i){if(i.tag===13){var s=yn(i,134217728);if(s!==null){var u=ht();Yt(s,i,134217728,u)}Ou(i,134217728)}},Mf=function(i){if(i.tag===13){var s=jn(i),u=yn(i,s);if(u!==null){var d=ht();Yt(u,i,s,d)}Ou(i,s)}},Nf=function(){return xe},Of=function(i,s){var u=xe;try{return xe=i,s()}finally{xe=u}},Kl=function(i,s,u){switch(s){case"input":if(Fl(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==i&&d.form===i.form){var p=cs(d);if(!p)throw Error(t(90));Qc(d),Fl(d,p)}}}break;case"textarea":nf(i,u);break;case"select":s=u.value,s!=null&&_r(i,!!u.multiple,s,!1)}},df=wu,hf=gr;var m1={usingClientEntryPoint:!1,Events:[Ki,Wr,cs,cf,ff,wu]},lo={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g1={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yf(i),i===null?null:i.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Uo=Js.inject(g1),nn=Js}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1,Tt.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(s))throw Error(t(200));return h1(i,s,null,u)},Tt.createRoot=function(i,s){if(!Au(i))throw Error(t(299));var u=!1,d="",p=Uh;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Nu(i,1,!1,null,null,u,!1,d,p),i[hn]=s.current,Ui(i.nodeType===8?i.parentNode:i),new bu(s)},Tt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=yf(s),i=i===null?null:i.stateNode,i},Tt.flushSync=function(i){return gr(i)},Tt.hydrate=function(i,s,u){if(!qs(s))throw Error(t(200));return Ks(null,i,s,!0,u)},Tt.hydrateRoot=function(i,s,u){if(!Au(i))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,p=!1,g="",k=Uh;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),s=$h(s,null,i,1,u??null,p,!1,g,k),i[hn]=s.current,Ui(i),d)for(i=0;i<d.length;i++)u=d[i],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new Ws(s)},Tt.render=function(i,s,u){if(!qs(s))throw Error(t(200));return Ks(null,i,s,!1,u)},Tt.unmountComponentAtNode=function(i){if(!qs(i))throw Error(t(40));return i._reactRootContainer?(gr(function(){Ks(null,null,i,!1,function(){i._reactRootContainer=null,i[hn]=null})}),!0):!1},Tt.unstable_batchedUpdates=wu,Tt.unstable_renderSubtreeIntoContainer=function(i,s,u,d){if(!qs(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ks(i,s,u,!1,d)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Zh;function Im(){if(Zh)return Pu.exports;Zh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pu.exports=C1(),Pu.exports}var ep;function E1(){if(ep)return Gs;ep=1;var n=Im();return Gs.createRoot=n.createRoot,Gs.hydrateRoot=n.hydrateRoot,Gs}var T1=E1();function et(n){this.content=n}et.prototype={constructor:et,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),l=r.content.slice();return o==-1?l.push(t||n,e):(l[o+1]=e,t&&(l[o]=t)),new et(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new et(t)},addToStart:function(n,e){return new et([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new et(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),l=r.find(n);return o.splice(l==-1?o.length:l,0,e,t),new et(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=et.from(n),n.size?new et(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=et.from(n),n.size?new et(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=et.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};et.from=function(n){if(n instanceof et)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new et(e)};function _m(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),l=e.child(r);if(o==l){t+=o.nodeSize;continue}if(!o.sameMarkup(l))return t;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)t++;return t}if(o.content.size||l.content.size){let a=_m(o.content,l.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function Lm(n,e,t,r){for(let o=n.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:t,b:r};let a=n.child(--o),c=e.child(--l),f=a.nodeSize;if(a==c){t-=f,r-=f;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,m=Math.min(a.text.length,c.text.length);for(;h<m&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=Lm(a.content,c.content,t-1,r-1);if(h)return h}t-=f,r-=f}}class F{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,l){for(let a=0,c=0;c<t;a++){let f=this.content[a],h=c+f.nodeSize;if(h>e&&r(f,o+c,l||null,a)!==!1&&f.content.size){let m=c+1;f.nodesBetween(Math.max(0,e-m),Math.min(f.content.size,t-m),r,o+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let l="",a=!0;return this.nodesBetween(e,t,(c,f)=>{let h=c.isText?c.text.slice(Math.max(e,f)-f,t-f):c.isLeaf?o?typeof o=="function"?o(c):o:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new F(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],f=a+c.nodeSize;f>e&&((a<e||f>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),o+=c.nodeSize),a=f}return new F(r,o)}cutByIndex(e,t){return e==t?F.empty:e==0&&t==this.content.length?this:new F(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new F(o,l)}addToStart(e){return new F([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new F(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return _m(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Lm(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Xs(0,e);if(e==this.size)return Xs(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let l=this.child(r),a=o+l.nodeSize;if(a>=e)return a==e||t>0?Xs(r+1,a):Xs(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return F.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return F.empty;let t,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(t||(t=e.slice(0,o)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new F(t||e,r)}static from(e){if(!e)return F.empty;if(e instanceof F)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new F([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Lu={index:0,offset:0};function Xs(n,e){return Lu.index=n,Lu.offset=e,Lu}function fl(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!fl(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!fl(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ce=class lc{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let l=e[o];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,o));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&fl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return lc.none;if(e instanceof lc)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};Ce.none=[];class dl extends Error{}class q{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Bm(this.content,e+this.openStart,t);return r&&new q(r,this.openStart,this.openEnd)}removeBetween(e,t){return new q(zm(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return q.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new q(F.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)o++;return new q(e,r,o)}}q.empty=new q(F.empty,0,0);function zm(n,e,t){let{index:r,offset:o}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(o==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(zm(l.content,e-o-1,t-o-1)))}function Bm(n,e,t,r){let{index:o,offset:l}=n.findIndex(e),a=n.maybeChild(o);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=Bm(a.content,e-l-1,t);return c&&n.replaceChild(o,a.copy(c))}function M1(n,e,t){if(t.openStart>n.depth)throw new dl("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new dl("Inconsistent open depths");return Fm(n,e,t,0)}function Fm(n,e,t,r){let o=n.index(r),l=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=Fm(n,e,t,r+1);return l.copy(l.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return Nr(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=N1(t,n);return Nr(l,jm(n,a,c,e,r))}else return Nr(l,hl(n,e,r))}function Vm(n,e){if(!e.type.compatibleContent(n.type))throw new dl("Cannot join "+e.type.name+" onto "+n.type.name)}function ac(n,e,t){let r=n.node(t);return Vm(r,e.node(t)),r}function Mr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function wo(n,e,t,r){let o=(e||n).node(t),l=0,a=e?e.index(t):o.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(Mr(n.nodeAfter,r),l++));for(let c=l;c<a;c++)Mr(o.child(c),r);e&&e.depth==t&&e.textOffset&&Mr(e.nodeBefore,r)}function Nr(n,e){return n.type.checkContent(e),n.copy(e)}function jm(n,e,t,r,o){let l=n.depth>o&&ac(n,e,o+1),a=r.depth>o&&ac(t,r,o+1),c=[];return wo(null,n,o,c),l&&a&&e.index(o)==t.index(o)?(Vm(l,a),Mr(Nr(l,jm(n,e,t,r,o+1)),c)):(l&&Mr(Nr(l,hl(n,e,o+1)),c),wo(e,t,o,c),a&&Mr(Nr(a,hl(t,r,o+1)),c)),wo(r,null,o,c),new F(c)}function hl(n,e,t){let r=[];if(wo(null,n,t,r),n.depth>t){let o=ac(n,e,t+1);Mr(Nr(o,hl(n,e,t+1)),r)}return wo(e,null,t,r),new F(r)}function N1(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)o=e.node(l).copy(F.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class To{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)o+=r.child(l).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ce.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let c=r;r=o,o=c}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!o||!l[a].isInSet(o.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!o||!r[l].isInSet(o.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new pl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,l=t;for(let a=e;;){let{index:c,offset:f}=a.content.findIndex(l),h=l-f;if(r.push(a,c,o+f),!h||(a=a.child(c),a.isText))break;l=h-1,o+=f+1}return new To(t,r,l)}static resolveCached(e,t){let r=tp.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==t)return a}else tp.set(e,r=new O1);let o=r.elts[r.i]=To.resolve(e,t);return r.i=(r.i+1)%b1,o}}class O1{constructor(){this.elts=[],this.i=0}}const b1=12,tp=new WeakMap;class pl{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const A1=Object.create(null);let Yn=class uc{constructor(e,t,r,o=Ce.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||F.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&fl(this.attrs,t||e.defaultAttrs||A1)&&Ce.sameSet(this.marks,r||Ce.none)}copy(e=null){return e==this.content?this:new uc(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new uc(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return q.empty;let o=this.resolve(e),l=this.resolve(t),a=r?0:o.sharedDepth(t),c=o.start(a),h=o.node(a).content.cut(o.pos-c,l.pos-c);return new q(h,o.depth-a,l.depth-a)}replace(e,t,r){return M1(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return To.resolveCached(this,e)}resolveNoCache(e){return To.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),$m(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=F.empty,o=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,l),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let f=o;f<l;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ce.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ce.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=F.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,o,r);return l.type.checkAttrs(l.attrs),l}};Yn.prototype.text=void 0;class ml extends Yn{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$m(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ml(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ml(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function $m(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Rr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new R1(e,t);if(r.next==null)return Rr.empty;let o=Hm(r);r.next&&r.err("Unexpected trailing text");let l=B1(z1(o));return F1(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let l=t;o&&l<r;l++)o=o.matchType(e.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function l(a,c){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return F.from(c.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:m,next:y}=a.next[h];if(!(m.isText||m.hasRequiredAttrs())&&o.indexOf(y)==-1){o.push(y);let v=l(y,c.concat(m));if(v)return v}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),l=o.match;if(l.matchType(e)){let a=[];for(let c=o;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:c,next:f}=l.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!o.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let l=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}Rr.empty=new Rr(!0);class R1{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Hm(n){let e=[];do e.push(D1(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function D1(n){let e=[];do e.push(P1(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function P1(n){let e=L1(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=I1(n,e);else break;return e}function np(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function I1(n,e){let t=np(n),r=t;return n.eat(",")&&(n.next!="}"?r=np(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function _1(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let l in t){let a=t[l];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function L1(n){if(n.eat("(")){let e=Hm(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=_1(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function z1(n){let e=[[]];return o(l(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,f){let h={term:f,to:c};return e[a].push(h),h}function o(a,c){a.forEach(f=>f.to=c)}function l(a,c){if(a.type=="choice")return a.exprs.reduce((f,h)=>f.concat(l(h,c)),[]);if(a.type=="seq")for(let f=0;;f++){let h=l(a.exprs[f],c);if(f==a.exprs.length-1)return h;o(h,c=t())}else if(a.type=="star"){let f=t();return r(c,f),o(l(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return o(l(a.expr,c),f),o(l(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(c)].concat(l(a.expr,c));if(a.type=="range"){let f=c;for(let h=0;h<a.min;h++){let m=t();o(l(a.expr,f),m),f=m}if(a.max==-1)o(l(a.expr,f),f);else for(let h=a.min;h<a.max;h++){let m=t();r(f,m),o(l(a.expr,f),m),f=m}return[r(f)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Um(n,e){return e-n}function rp(n,e){let t=[];return r(e),t.sort(Um);function r(o){let l=n[o];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(o);for(let a=0;a<l.length;a++){let{term:c,to:f}=l[a];!c&&t.indexOf(f)==-1&&r(f)}}}function B1(n){let e=Object.create(null);return t(rp(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:c,to:f})=>{if(!c)return;let h;for(let m=0;m<o.length;m++)o[m][0]==c&&(h=o[m][1]);rp(n,f).forEach(m=>{h||o.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let l=e[r.join(",")]=new Rr(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let c=o[a][1].sort(Um);l.next.push({type:o[a][0],next:e[c.join(",")]||t(c)})}return l}}function F1(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],l=!o.validEnd,a=[];for(let c=0;c<o.next.length;c++){let{type:f,next:h}=o.next[c];a.push(f.name),l&&!(f.isText||f.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Wm(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function qm(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let l=n[r];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function Km(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let l=n[o];l.validate&&l.validate(e[o])}}function Jm(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new j1(n,r,e[r]);return t}let ip=class Gm{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Jm(e,r.attrs),this.defaultAttrs=Wm(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Rr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qm(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Yn(this,this.computeAttrs(e),F.from(t),Ce.setFrom(r))}createChecked(e=null,t,r){return t=F.from(t),this.checkContent(t),new Yn(this,this.computeAttrs(e),t,Ce.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=F.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),l=o&&o.fillBefore(F.empty,!0);return l?new Yn(this,e,t.append(l),Ce.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Km(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ce.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,a)=>r[l]=new Gm(l,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function V1(n,e,t){let r=t.split("|");return o=>{let l=o===null?"null":typeof o;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class j1{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?V1(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Tl{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=Jm(e,o.attrs),this.excluded=null;let l=Wm(this.attrs);this.instance=l?new Ce(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Ce(this,qm(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((l,a)=>r[l]=new Tl(l,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Km(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Xm{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=et.from(e.nodes),t.marks=et.from(e.marks||{}),this.nodes=ip.compile(this.spec.nodes,this),this.marks=Tl.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],a=l.spec.content||"",c=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=Rr.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=c=="_"?null:c?op(this,c.split(" ")):c==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:op(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ip){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new ml(r,r.defaultAttrs,e,Ce.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Yn.fromJSON(this,e)}markFromJSON(e){return Ce.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function op(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],l=n.marks[o],a=l;if(l)t.push(l);else for(let c in n.marks){let f=n.marks[c];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function $1(n){return n.tag!=null}function H1(n){return n.style!=null}class Zn{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if($1(o))this.tags.push(o);else if(H1(o)){let l=/[^=]*/.exec(o.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=e.nodes[o.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new lp(this,t,!1);return r.addAll(e,Ce.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new lp(this,t,!0);return r.addAll(e,Ce.none,t.from,t.to),q.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(q1(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,t,r,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let a=this.styles[l],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let l=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<l)break}t.splice(a,0,o)}for(let o in e.marks){let l=e.marks[o].spec.parseDOM;l&&l.forEach(a=>{r(a=ap(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let l=e.nodes[o].spec.parseDOM;l&&l.forEach(a=>{r(a=ap(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Zn(e,Zn.schemaRules(e)))}}const Qm={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},U1={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ym={ol:!0,ul:!0},Mo=1,cc=2,xo=4;function sp(n,e,t){return e!=null?(e?Mo:0)|(e==="full"?cc:0):n&&n.whitespace=="pre"?Mo|cc:t&~xo}class Qs{constructor(e,t,r,o,l,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Ce.none,this.match=l||(a&xo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(F.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Mo)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let t=F.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Qm.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class lp{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,l,a=sp(null,t.preserveWhitespace,0)|(r?xo:0);o?l=new Qs(o.type,o.attrs,Ce.none,!0,t.topMatch||o.type.contentMatch,a):r?l=new Qs(null,null,Ce.none,!0,null,a):l=new Qs(e.schema.topNodeType,null,Ce.none,!0,null,a),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,l=o.options&cc?"full":this.localPreserveWS||(o.options&Mo)>0;if(l==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;Ym.hasOwnProperty(a)&&this.parser.normalizeLists&&W1(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:U1.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,m=this.needsBlock;if(Qm.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=f&&f.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(l),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,f,h,f.consuming===!1?c:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],a=r.getPropertyValue(l);if(a)for(let c=void 0;;){let f=this.parser.matchStyle(l,a,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(h=>!f.clearMark(h)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return t}addElementByRule(e,t,r,o){let l,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r)||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(l=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}l&&this.sync(c)&&this.open--}addAll(e,t,r,o){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=o==null?null:e.childNodes[o];a!=c;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,t);this.findAtPoint(e,l)}findPlace(e,t){let r,o;for(let l=this.open;l>=0;l--){let a=this.nodes[l],c=a.findWrapping(e);if(c&&(!r||r.length>c.length)&&(r=c,o=a,!c.length)||a.solid)break}if(!r)return null;this.sync(o);for(let l=0;l<r.length;l++)t=this.enterInner(r[l],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=Ce.none;for(let a of r.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):up(a.type,e.type))&&(l=a.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,t,r,o){let l=this.findPlace(e.create(t),r);return l&&(l=this.enterInner(e,t,r,!0,o)),l}enterInner(e,t,r,o=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=sp(e,l,a.options);a.options&xo&&a.content.length==0&&(c|=xo);let f=Ce.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):up(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new Qs(e,t,f,o,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Mo)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(o?0:1),a=(c,f)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;f>=l;f--)if(a(c-1,f))return!0;return!1}else{let m=f>0||f==0&&o?this.nodes[f].type:r&&f>=l?r.node(f-l).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function W1(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ym.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function q1(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function ap(n){let e={};for(let t in n)e[t]=n[t];return e}function up(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let l=[],a=c=>{l.push(c);for(let f=0;f<c.edgeCount;f++){let{type:h,next:m}=c.edge(f);if(h==e||l.indexOf(m)<0&&a(m))return!0}};if(a(o.contentMatch))return!0}}class Ir{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=zu(t).createDocumentFragment());let o=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let c=0,f=0;for(;c<l.length&&f<a.marks.length;){let h=a.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(l[c][0])||h.type.spec.spanning===!1)break;c++,f++}for(;c<l.length;)o=l.pop()[1];for(;f<a.marks.length;){let h=a.marks[f++],m=this.serializeMark(h,a.isInline,t);m&&(l.push([h,o]),o.appendChild(m.dom),o=m.contentDOM||m.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=ll(zu(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let l=this.serializeMark(e.marks[o],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&ll(zu(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return ll(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ir(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=cp(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return cp(e.marks)}}function cp(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function zu(n){return n.document||window.document}const fp=new WeakMap;function K1(n){let e=fp.get(n);return e===void 0&&fp.set(n,e=J1(n)),e}function J1(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function ll(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=K1(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let c,f=t?n.createElementNS(t,o):n.createElement(o),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let v=y.indexOf(" ");v>0?f.setAttributeNS(y.slice(0,v),y.slice(v+1),h[y]):f.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let v=e[y];if(v===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:S,contentDOM:w}=ll(n,v,t,r);if(f.appendChild(S),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:f,contentDOM:c}}const Zm=65535,eg=Math.pow(2,16);function G1(n,e){return n+e*eg}function dp(n){return n&Zm}function X1(n){return(n-(n&Zm))/eg}const tg=1,ng=2,al=4,rg=8;class fc{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&rg)>0}get deletedBefore(){return(this.delInfo&(tg|al))>0}get deletedAfter(){return(this.delInfo&(ng|al))>0}get deletedAcross(){return(this.delInfo&al)>0}}class It{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&It.empty)return It.empty}recover(e){let t=0,r=dp(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+X1(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?o:0);if(f>e)break;let h=this.ranges[c+l],m=this.ranges[c+a],y=f+h;if(e<=y){let v=h?e==f?-1:e==y?1:t:t,S=f+o+(v<0?0:m);if(r)return S;let w=e==(t<0?f:y)?null:G1(c/3,e-f),x=e==f?ng:e==y?tg:al;return(t<0?e!=f:e!=y)&&(x|=rg),new fc(S,x,w)}o+=m-h}return r?e+o:new fc(e+o,0,null)}touches(e,t){let r=0,o=dp(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[c+l],m=f+h;if(e<=m&&c==o*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],c=a-(this.inverted?l:0),f=a+(this.inverted?0:l),h=this.ranges[o+t],m=this.ranges[o+r];e(c,c+h,f,f+m),l+=m-h}}invert(){return new It(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?It.empty:new It(e<0?[0,-e,0]:[0,0,e])}}It.empty=new It([]);class di{constructor(e=[],t,r=0,o=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=o}slice(e=0,t=this.maps.length){return new di(this.maps,this.mirror,e,t)}copy(){return new di(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new di;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let l=this.from;l<this.to;l++){let a=this.maps[l],c=a.mapResult(e,t);if(c.recover!=null){let f=this.getMirror(l);if(f!=null&&f>l&&f<this.to){l=f,e=this.maps[f].recover(c.recover);continue}}o|=c.delInfo,e=c.pos}return r?e:new fc(e,o,null)}}const Bu=Object.create(null);class ft{getMap(){return It.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Bu[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Bu)throw new RangeError("Duplicate use of step JSON ID "+e);return Bu[e]=t,t.prototype.jsonID=e,t}}class Ve{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ve(e,null)}static fail(e){return new Ve(null,e)}static fromReplace(e,t,r,o){try{return Ve.ok(e.replace(t,r,o))}catch(l){if(l instanceof dl)return Ve.fail(l.message);throw l}}}function bc(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let l=n.child(o);l.content.size&&(l=l.copy(bc(l.content,e,l))),l.isInline&&(l=e(l,t,o)),r.push(l)}return F.fromArray(r)}class Gn extends ft{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new q(bc(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return Ve.fromReplace(e,this.from,this.to,l)}invert(){return new un(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Gn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Gn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gn(t.from,t.to,e.markFromJSON(t.mark))}}ft.jsonID("addMark",Gn);class un extends ft{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new q(bc(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return Ve.fromReplace(e,this.from,this.to,r)}invert(){return new Gn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new un(t.pos,r.pos,this.mark)}merge(e){return e instanceof un&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new un(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new un(t.from,t.to,e.markFromJSON(t.mark))}}ft.jsonID("removeMark",un);class Xn extends ft{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ve.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ve.fromReplace(e,this.pos,this.pos+1,new q(F.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new Xn(this.pos,t.marks[o]);return new Xn(this.pos,this.mark)}}return new gi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xn(t.pos,e.markFromJSON(t.mark))}}ft.jsonID("addNodeMark",Xn);class gi extends ft{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ve.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ve.fromReplace(e,this.pos,this.pos+1,new q(F.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Xn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new gi(t.pos,e.markFromJSON(t.mark))}}ft.jsonID("removeNodeMark",gi);class Je extends ft{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&dc(e,this.from,this.to)?Ve.fail("Structure replace would overwrite content"):Ve.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new It([this.from,this.to-this.from,this.slice.size])}invert(e){return new Je(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Je(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Je)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?q.empty:new q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Je(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?q.empty:new q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Je(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Je(t.from,t.to,q.fromJSON(e,t.slice),!!t.structure)}}ft.jsonID("replace",Je);class Ge extends ft{constructor(e,t,r,o,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(dc(e,this.from,this.gapFrom)||dc(e,this.gapTo,this.to)))return Ve.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ve.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ve.fromReplace(e,this.from,this.to,r):Ve.fail("Content does not fit in gap")}getMap(){return new It([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ge(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||l>r.pos?null:new Ge(t.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ge(t.from,t.to,t.gapFrom,t.gapTo,q.fromJSON(e,t.slice),t.insert,!!t.structure)}}ft.jsonID("replaceAround",Ge);function dc(n,e,t){let r=n.resolve(e),o=t-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function Q1(n,e,t,r){let o=[],l=[],a,c;n.doc.nodesBetween(e,t,(f,h,m)=>{if(!f.isInline)return;let y=f.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let v=Math.max(h,e),S=Math.min(h+f.nodeSize,t),w=r.addToSet(y);for(let x=0;x<y.length;x++)y[x].isInSet(w)||(a&&a.to==v&&a.mark.eq(y[x])?a.to=S:o.push(a=new un(v,S,y[x])));c&&c.to==v?c.to=S:l.push(c=new Gn(v,S,r))}}),o.forEach(f=>n.step(f)),l.forEach(f=>n.step(f))}function Y1(n,e,t,r){let o=[],l=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;l++;let f=null;if(r instanceof Tl){let h=a.marks,m;for(;m=r.isInSet(h);)(f||(f=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let h=Math.min(c+a.nodeSize,t);for(let m=0;m<f.length;m++){let y=f[m],v;for(let S=0;S<o.length;S++){let w=o[S];w.step==l-1&&y.eq(o[S].style)&&(v=w)}v?(v.to=h,v.step=l):o.push({style:y,from:Math.max(c,e),to:h,step:l})}}}),o.forEach(a=>n.step(new un(a.from,a.to,a.style)))}function Ac(n,e,t,r=t.contentMatch,o=!0){let l=n.doc.nodeAt(e),a=[],c=e+1;for(let f=0;f<l.childCount;f++){let h=l.child(f),m=c+h.nodeSize,y=r.matchType(h.type);if(!y)a.push(new Je(c,m,q.empty));else{r=y;for(let v=0;v<h.marks.length;v++)t.allowsMarkType(h.marks[v].type)||n.step(new un(c,m,h.marks[v]));if(o&&h.isText&&t.whitespace!="pre"){let v,S=/\r?\n|\r/g,w;for(;v=S.exec(h.text);)w||(w=new q(F.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),a.push(new Je(c+v.index,c+v.index+v[0].length,w))}}c=m}if(!r.validEnd){let f=r.fillBefore(F.empty,!0);n.replace(c,c,new q(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function Z1(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function xi(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),l=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(l,a,t))return r;if(r==0||o.type.spec.isolating||!Z1(o,l,a))break}return null}function ev(n,e,t){let{$from:r,$to:o,depth:l}=e,a=r.before(l+1),c=o.after(l+1),f=a,h=c,m=F.empty,y=0;for(let w=l,x=!1;w>t;w--)x||r.index(w)>0?(x=!0,m=F.from(r.node(w).copy(m)),y++):f--;let v=F.empty,S=0;for(let w=l,x=!1;w>t;w--)x||o.after(w+1)<o.end(w)?(x=!0,v=F.from(o.node(w).copy(v)),S++):h++;n.step(new Ge(f,h,a,c,new q(m.append(v),y,S),m.size-y,!0))}function Rc(n,e,t=null,r=n){let o=tv(n,e),l=o&&nv(r,e);return l?o.map(hp).concat({type:e,attrs:t}).concat(l.map(hp)):null}function hp(n){return{type:n,attrs:null}}function tv(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return t.canReplaceWith(r,o,a)?l:null}function nv(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;f&&h<o;h++)f=f.matchType(t.child(h).type);return!f||!f.validEnd?null:a}function rv(n,e,t){let r=F.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=F.from(t[a].type.create(t[a].attrs,r))}let o=e.start,l=e.end;n.step(new Ge(o,l,o,l,new q(r,0,0),t.length,!0))}function iv(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let f=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,f)&&ov(n.doc,n.mapping.slice(l).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let S=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);S&&!w?h=!1:!S&&w&&(h=!0)}h===!1&&og(n,a,c,l),Ac(n,n.mapping.slice(l).map(c,1),r,void 0,h===null);let m=n.mapping.slice(l),y=m.map(c,1),v=m.map(c+a.nodeSize,1);return n.step(new Ge(y,v,y+1,v-1,new q(F.from(r.create(f,null,a.marks)),0,0),1,!0)),h===!0&&ig(n,a,c,l),!1}})}function ig(n,e,t,r){e.forEach((o,l)=>{if(o.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(o.text);){let f=n.mapping.slice(r).map(t+1+l+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function og(n,e,t,r){e.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+l);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function ov(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function sv(n,e,t,r,o){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let a=t.create(r,null,o||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,a);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Ge(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new q(F.from(a),0,0),1,!0))}function hi(n,e,t=1,r){let o=n.resolve(e),l=o.depth-t,a=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let h=o.depth-1,m=t-2;h>l;h--,m--){let y=o.node(h),v=o.index(h);if(y.type.spec.isolating)return!1;let S=y.content.cutByIndex(v,y.childCount),w=r&&r[m+1];w&&(S=S.replaceChild(0,w.type.create(w.attrs)));let x=r&&r[m]||y;if(!y.canReplace(v+1,y.childCount)||!x.type.validContent(S))return!1}let c=o.indexAfter(l),f=r&&r[0];return o.node(l).canReplaceWith(c,c,f?f.type:o.node(l+1).type)}function lv(n,e,t=1,r){let o=n.doc.resolve(e),l=F.empty,a=F.empty;for(let c=o.depth,f=o.depth-t,h=t-1;c>f;c--,h--){l=F.from(o.node(c).copy(l));let m=r&&r[h];a=F.from(m?m.type.create(m.attrs,a):o.node(c).copy(a))}n.step(new Je(e,e,new q(l.append(a),t,t),!0))}function ir(n,e){let t=n.resolve(e),r=t.index();return sg(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function av(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let l=e.child(o),a=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function sg(n,e){return!!(n&&e&&!n.isLeaf&&av(n,e))}function Ml(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let l,a,c=r.index(o);if(o==r.depth?(l=r.nodeBefore,a=r.nodeAfter):t>0?(l=r.node(o+1),c++,a=r.node(o).maybeChild(c)):(l=r.node(o).maybeChild(c-1),a=r.node(o+1)),l&&!l.isTextblock&&sg(l,a)&&r.node(o).canReplace(c,c+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function uv(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,l=n.doc.resolve(e-t),a=l.node().type;if(o&&a.inlineContent){let m=a.whitespace=="pre",y=!!a.contentMatch.matchType(o);m&&!y?r=!1:!m&&y&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);og(n,m.node(),m.before(),c)}a.inlineContent&&Ac(n,e+t-1,a,l.node().contentMatchAt(l.index()),r==null);let f=n.mapping.slice(c),h=f.map(e-t);if(n.step(new Je(h,f.map(e+t,-1),q.empty,!0)),r===!0){let m=n.doc.resolve(h);ig(n,m.node(),m.before(),n.steps.length)}return n}function cv(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let l=r.index(o);if(r.node(o).canReplaceWith(l,l,t))return r.before(o+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let l=r.indexAfter(o);if(r.node(o).canReplaceWith(l,l,t))return r.after(o+1);if(l<r.node(o).childCount)return null}return null}function lg(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let l=0;l<t.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(c>0?1:0),h=r.node(a),m=!1;if(l==1)m=h.canReplace(f,f,o);else{let y=h.contentMatchAt(f).findWrapping(o.firstChild.type);m=y&&h.canReplaceWith(f,f,y[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function Nl(n,e,t=e,r=q.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),l=n.resolve(t);return ag(o,l,r)?new Je(e,t,r):new fv(o,l,r).fit()}function ag(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class fv{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=F.empty;for(let o=0;o<=e.depth;o++){let l=e.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=F.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let l=this.placed,a=r.depth,c=o.depth;for(;a&&c&&l.childCount==1;)l=l.firstChild.content,a--,c--;let f=new q(l,a,c);return e>-1?new Ge(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new Je(r.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(o=0),l.type.spec.isolating&&o<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,l=null;r?(l=Fu(this.unplaced.content,r-1).firstChild,o=l.content):o=this.unplaced.content;let a=o.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:h}=this.frontier[c],m,y=null;if(t==1&&(a?h.matchType(a.type)||(y=h.fillBefore(F.from(a),!1)):l&&f.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:c,parent:l,inject:y};if(t==2&&a&&(m=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:l,wrap:m};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Fu(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new q(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Fu(e,t);if(o.childCount<=1&&t>0){let l=e.size-t<=t+o.size;this.unplaced=new q(vo(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new q(vo(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let x=0;x<l.length;x++)this.openFrontierNode(l[x]);let a=this.unplaced,c=r?r.content:a.content,f=a.openStart-e,h=0,m=[],{match:y,type:v}=this.frontier[t];if(o){for(let x=0;x<o.childCount;x++)m.push(o.child(x));y=y.matchFragment(o)}let S=c.size+e-(a.content.size-a.openEnd);for(;h<c.childCount;){let x=c.child(h),E=y.matchType(x.type);if(!E)break;h++,(h>1||f==0||x.content.size)&&(y=E,m.push(ug(x.mark(v.allowedMarks(x.marks)),h==1?f:0,h==c.childCount?S:-1)))}let w=h==c.childCount;w||(S=-1),this.placed=ko(this.placed,t,F.from(m)),this.frontier[t].match=y,w&&S<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,E=c;x<S;x++){let R=E.lastChild;this.frontier.push({type:R.type,match:R.contentMatchAt(R.childCount)}),E=R.content}this.unplaced=w?e==0?q.empty:new q(vo(a.content,e-1,1),e-1,S<0?a.openEnd:e-1):new q(vo(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Vu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Vu(e,t,o,r,l);if(a){for(let c=t-1;c>=0;c--){let{match:f,type:h}=this.frontier[c],m=Vu(e,c,h,f,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ko(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),l=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,l)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ko(this.placed,this.depth,F.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(F.empty,!0);t.childCount&&(this.placed=ko(this.placed,this.frontier.length,t))}}function vo(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(vo(n.firstChild.content,e-1,t)))}function ko(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ko(n.lastChild.content,e-1,t)))}function Fu(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function ug(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,ug(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(F.empty,!0)))),n.copy(r)}function Vu(n,e,t,r,o){let l=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==l.childCount&&!t.compatibleContent(l.type))return null;let c=r.fillBefore(l.content,!0,a);return c&&!dv(t,l.content,a)?c:null}function dv(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function hv(n){return n.spec.defining||n.spec.definingForContent}function pv(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),l=n.doc.resolve(t);if(ag(o,l,r))return n.step(new Je(e,t,r));let a=fg(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(o.depth+1);a.unshift(c);for(let v=o.depth,S=o.pos-1;v>0;v--,S--){let w=o.node(v).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(v)>-1?c=v:o.before(v)==S&&a.splice(1,0,-v)}let f=a.indexOf(c),h=[],m=r.openStart;for(let v=r.content,S=0;;S++){let w=v.firstChild;if(h.push(w),S==r.openStart)break;v=w.content}for(let v=m-1;v>=0;v--){let S=h[v],w=hv(S.type);if(w&&!S.sameMarkup(o.node(Math.abs(c)-1)))m=v;else if(w||!S.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let S=(v+m+1)%(r.openStart+1),w=h[S];if(w)for(let x=0;x<a.length;x++){let E=a[(x+f)%a.length],R=!0;E<0&&(R=!1,E=-E);let _=o.node(E-1),H=o.index(E-1);if(_.canReplaceWith(H,H,w.type,w.marks))return n.replace(o.before(E),R?l.after(E):t,new q(cg(r.content,0,r.openStart,S),S,r.openEnd))}}let y=n.steps.length;for(let v=a.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>y));v--){let S=a[v];S<0||(e=o.before(S),t=l.after(S))}}function cg(n,e,t,r,o){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(cg(l.content,e+1,t,r,l)))}if(e>r){let l=o.contentMatchAt(0),a=l.fillBefore(n).append(n);n=a.append(l.matchFragment(a).fillBefore(F.empty,!0))}return n}function mv(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=cv(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new q(F.from(r),0,0))}function gv(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),l=fg(r,o);for(let a=0;a<l.length;a++){let c=l[a],f=a==l.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),o.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),o.indexAfter(c-1))))return n.delete(r.before(c),o.after(c))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function fg(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let l=n.start(o);if(l<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(l==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==l-1)&&t.push(o)}return t}class pi extends ft{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ve.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return Ve.fromReplace(e,this.pos,this.pos+1,new q(F.from(o),0,t.isLeaf?0:1))}getMap(){return It.empty}invert(e){return new pi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new pi(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pi(t.pos,t.attr,t.value)}}ft.jsonID("attr",pi);class No extends ft{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ve.ok(r)}getMap(){return It.empty}invert(e){return new No(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new No(t.attr,t.value)}}ft.jsonID("docAttr",No);let yi=class extends Error{};yi=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};yi.prototype=Object.create(Error.prototype);yi.prototype.constructor=yi;yi.prototype.name="TransformError";class yv{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new di}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new yi(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=q.empty){let o=Nl(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new q(F.from(r),0,0))}delete(e,t){return this.replace(e,t,q.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return pv(this,e,t,r),this}replaceRangeWith(e,t,r){return mv(this,e,t,r),this}deleteRange(e,t){return gv(this,e,t),this}lift(e,t){return ev(this,e,t),this}join(e,t=1){return uv(this,e,t),this}wrap(e,t){return rv(this,e,t),this}setBlockType(e,t=e,r,o=null){return iv(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return sv(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new pi(e,t,r)),this}setDocAttribute(e,t){return this.step(new No(e,t)),this}addNodeMark(e,t){return this.step(new Xn(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Ce)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new gi(e,t)),this}split(e,t=1,r){return lv(this,e,t,r),this}addMark(e,t,r){return Q1(this,e,t,r),this}removeMark(e,t,r){return Y1(this,e,t,r),this}clearIncompatible(e,t,r){return Ac(this,e,t,r),this}}const ju=Object.create(null);class ce{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new vv(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=q.empty){let r=t.content.lastChild,o=null;for(let c=0;c<t.openEnd;c++)o=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:f,$to:h}=a[c],m=e.mapping.slice(l);e.replaceRange(m.map(f.pos),m.map(h.pos),c?q.empty:t),c==0&&gp(e,l,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],f=e.mapping.slice(r),h=f.map(a.pos),m=f.map(c.pos);l?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),gp(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new le(e):ai(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let l=e.depth-1;l>=0;l--){let a=t<0?ai(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):ai(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new en(e.node(0))}static atStart(e){return ai(e,e,0,0,1)||new en(e)}static atEnd(e){return ai(e,e,e.content.size,e.childCount,-1)||new en(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ju[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in ju)throw new RangeError("Duplicate use of selection JSON ID "+e);return ju[e]=t,t.prototype.jsonID=e,t}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}}ce.prototype.visible=!0;class vv{constructor(e,t){this.$from=e,this.$to=t}}let pp=!1;function mp(n){!pp&&!n.parent.inlineContent&&(pp=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class le extends ce{constructor(e,t=e){mp(e),mp(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ce.near(r);let o=e.resolve(t.map(this.anchor));return new le(o.parent.inlineContent?o:r,r)}replace(e,t=q.empty){if(super.replace(e,t),t==q.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ol(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let l=ce.findFrom(t,r,!0)||ce.findFrom(t,-r,!0);if(l)t=l.$head;else return ce.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(ce.findFrom(e,-r,!0)||ce.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new le(e,t)}}ce.jsonID("text",le);class Ol{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ol(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}}class ie extends ce{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),l=e.resolve(o);return r?ce.near(l):new ie(l)}content(){return new q(F.from(this.node),0,0)}eq(e){return e instanceof ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Dc(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(e.resolve(t.anchor))}static create(e,t){return new ie(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ie.prototype.visible=!1;ce.jsonID("node",ie);class Dc{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Ol(r,r):new Dc(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ie.isSelectable(r)?new ie(t):ce.near(t)}}class en extends ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=q.empty){if(t==q.empty){e.delete(0,e.doc.content.size);let r=ce.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new en(e)}map(e){return new en(e)}eq(e){return e instanceof en}getBookmark(){return kv}}ce.jsonID("all",en);const kv={map(){return this},resolve(n){return new en(n)}};function ai(n,e,t,r,o,l=!1){if(e.inlineContent)return le.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let c=e.child(a);if(c.isAtom){if(!l&&ie.isSelectable(c))return ie.create(n,t-(o<0?c.nodeSize:0))}else{let f=ai(n,c,t+o,o<0?c.childCount:0,o,l);if(f)return f}t+=c.nodeSize*o}return null}function gp(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof Je||o instanceof Ge))return;let l=n.mapping.maps[r],a;l.forEach((c,f,h,m)=>{a==null&&(a=m)}),n.setSelection(ce.near(n.doc.resolve(a),t))}const yp=1,Ys=2,vp=4;class Sv extends yv{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|yp)&~Ys,this.storedMarks=null,this}get selectionSet(){return(this.updated&yp)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ys,this}ensureMarks(e){return Ce.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ys)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Ys,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ce.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(t);l=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,l)),this.selection.empty||this.setSelection(ce.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=vp,this}get scrolledIntoView(){return(this.updated&vp)>0}}function kp(n,e){return!e||!n?n:n.bind(e)}class So{constructor(e,t,r){this.name=e,this.init=kp(t.init,r),this.apply=kp(t.apply,r)}}const wv=[new So("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new So("selection",{init(n,e){return n.selection||ce.atStart(e.doc)},apply(n){return n.selection}}),new So("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new So("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class $u{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=wv.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new So(r.key,r.spec.state,r))})}}class ci{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let f=o?o[a].n:0,h=o?o[a].state:this,m=f<t.length&&c.spec.appendTransaction.call(c,f?t.slice(f):t,h,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!o){o=[];for(let y=0;y<this.config.plugins.length;y++)o.push(y<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),l=!0}o&&(o[a]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ci(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let l=r[o];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new Sv(this)}static create(e){let t=new $u(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ci(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new $u(this.schema,e.plugins),r=t.fields,o=new ci(t);for(let l=0;l<r.length;l++){let a=r[l].name;o[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],l=o.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new $u(e.schema,e.plugins),l=new ci(o);return o.fields.forEach(a=>{if(a.name=="doc")l.doc=Yn.fromJSON(e.schema,t.doc);else if(a.name=="selection")l.selection=ce.fromJSON(l.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],h=f.spec.state;if(f.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){l[a.name]=h.fromJSON.call(f,e,t[c],l);return}}l[a.name]=a.init(e,l)}}),l}}function dg(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=dg(o,e,{})),t[r]=o}return t}class Ot{constructor(e){this.spec=e,this.props={},e.props&&dg(e.props,this,this.props),this.key=e.key?e.key.key:hg("plugin")}getState(e){return e[this.key]}}const Hu=Object.create(null);function hg(n){return n in Hu?n+"$"+ ++Hu[n]:(Hu[n]=0,n+"$")}class dn{constructor(e="key"){this.key=hg(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const tt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Oo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let hc=null;const xn=function(n,e,t){let r=hc||(hc=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},xv=function(){hc=null},Dr=function(n,e,t,r){return t&&(Sp(n,e,t,r,-1)||Sp(n,e,t,r,1))},Cv=/^(img|br|input|textarea|hr)$/i;function Sp(n,e,t,r,o){for(;;){if(n==t&&e==r)return!0;if(e==(o<0?0:Ht(n))){let l=n.parentNode;if(!l||l.nodeType!=1||_o(n)||Cv.test(n.nodeName)||n.contentEditable=="false")return!1;e=tt(n)+(o<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?Ht(n):0}else return!1}}function Ht(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Ev(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ht(n)}else if(n.parentNode&&!_o(n))e=tt(n),n=n.parentNode;else return null}}function Tv(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!_o(n))e=tt(n)+1,n=n.parentNode;else return null}}function Mv(n,e,t){for(let r=e==0,o=e==Ht(n);r||o;){if(n==t)return!0;let l=tt(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,o=o&&l==Ht(n)}}function _o(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const bl=function(n){return n.focusNode&&Dr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function wr(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Nv(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ov(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ht(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ht(r.startContainer),r.startOffset)}}}const cn=typeof navigator<"u"?navigator:null,wp=typeof document<"u"?document:null,or=cn&&cn.userAgent||"",pc=/Edge\/(\d+)/.exec(or),pg=/MSIE \d/.exec(or),mc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(or),Mt=!!(pg||mc||pc),er=pg?document.documentMode:mc?+mc[1]:pc?+pc[1]:0,tn=!Mt&&/gecko\/(\d+)/i.test(or);tn&&+(/Firefox\/(\d+)/.exec(or)||[0,0])[1];const gc=!Mt&&/Chrome\/(\d+)/.exec(or),ut=!!gc,mg=gc?+gc[1]:0,gt=!Mt&&!!cn&&/Apple Computer/.test(cn.vendor),vi=gt&&(/Mobile\/\w+/.test(or)||!!cn&&cn.maxTouchPoints>2),$t=vi||(cn?/Mac/.test(cn.platform):!1),bv=cn?/Win/.test(cn.platform):!1,Cn=/Android \d/.test(or),Lo=!!wp&&"webkitFontSmoothing"in wp.documentElement.style,Av=Lo?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Rv(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function wn(n,e){return typeof n=="number"?n:n[e]}function Dv(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function xp(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let a=t||n.dom;a;a=Oo(a)){if(a.nodeType!=1)continue;let c=a,f=c==l.body,h=f?Rv(l):Dv(c),m=0,y=0;if(e.top<h.top+wn(r,"top")?y=-(h.top-e.top+wn(o,"top")):e.bottom>h.bottom-wn(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+wn(o,"top")-h.top:e.bottom-h.bottom+wn(o,"bottom")),e.left<h.left+wn(r,"left")?m=-(h.left-e.left+wn(o,"left")):e.right>h.right-wn(r,"right")&&(m=e.right-h.right+wn(o,"right")),m||y)if(f)l.defaultView.scrollBy(m,y);else{let v=c.scrollLeft,S=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let w=c.scrollLeft-v,x=c.scrollTop-S;e={left:e.left-w,top:e.top-x,right:e.right-w,bottom:e.bottom-x}}if(f||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function Pv(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let l=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(l,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=t-20){r=c,o=f.top;break}}return{refDOM:r,refTop:o,stack:gg(n.dom)}}function gg(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Oo(r));return e}function Iv({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;yg(t,r==0?0:r-e)}function yg(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:l}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let si=null;function _v(n){if(n.setActive)return n.setActive();if(si)return n.focus(si);let e=gg(n);n.focus(si==null?{get preventScroll(){return si={preventScroll:!0},!0}}:void 0),si||(si=!1,yg(e,0))}function vg(n,e){let t,r=2e8,o,l=0,a=e.top,c=e.top,f,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let v;if(m.nodeType==1)v=m.getClientRects();else if(m.nodeType==3)v=xn(m).getClientRects();else continue;for(let S=0;S<v.length;S++){let w=v[S];if(w.top<=a&&w.bottom>=c){a=Math.max(w.bottom,a),c=Math.min(w.top,c);let x=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(x<r){t=m,r=x,o=x&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,m.nodeType==1&&x&&(l=y+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=m,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(l=y+1)}}return!t&&f&&(t=f,o=h,r=0),t&&t.nodeType==3?Lv(t,o):!t||r&&t.nodeType==1?{node:n,offset:l}:vg(t,o)}function Lv(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let l=Wn(r,1);if(l.top!=l.bottom&&Pc(e,l))return{node:n,offset:o+(e.left>=(l.left+l.right)/2?1:0)}}return{node:n,offset:0}}function Pc(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function zv(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Bv(n,e,t){let{node:r,offset:o}=vg(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,l)}function Fv(n,e,t,r){let o=-1;for(let l=e,a=!1;l!=n.dom;){let c=n.docView.nearestDesc(l,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&(!a&&f.left>r.left||f.top>r.top?o=c.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(o=c.posAfter),a=!0),!c.contentDOM&&o<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;l=c.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function kg(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=o;;){let a=n.childNodes[l];if(a.nodeType==1){let c=a.getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(Pc(e,h))return kg(a,e,h)}}if((l=(l+1)%r)==o)break}return n}function Vv(n,e){let t=n.dom.ownerDocument,r,o=0,l=Ov(t,e.left,e.top);l&&({node:r,offset:o}=l);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=n.dom.getBoundingClientRect();if(!Pc(e,h)||(a=kg(n.dom,e,h),!a))return null}if(gt)for(let h=a;r&&h;h=Oo(h))h.draggable&&(r=void 0);if(a=zv(a,e),r){if(tn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let m=r.childNodes[o],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&o++}let h;Lo&&o&&r.nodeType==1&&(h=r.childNodes[o-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(c=Fv(n,r,o,e))}c==null&&(c=Bv(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function Cp(n){return n.top<n.bottom||n.left<n.right}function Wn(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Cp(r))return r}return Array.prototype.find.call(t,Cp)||n.getBoundingClientRect()}const jv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Sg(n,e,t){let{node:r,offset:o,atom:l}=n.docView.domFromPos(e,t<0?-1:1),a=Lo||tn;if(r.nodeType==3)if(a&&(jv.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let f=Wn(xn(r,o,o),t);if(tn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let h=Wn(xn(r,o-1,o-1),-1);if(h.top==f.top){let m=Wn(xn(r,o,o+1),-1);if(m.top!=f.top)return uo(m,m.left<h.left)}}return f}else{let f=o,h=o,m=t<0?1:-1;return t<0&&!o?(h++,m=-1):t>=0&&o==r.nodeValue.length?(f--,m=1):t<0?f--:h++,uo(Wn(xn(r,f,h),m),m<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&o&&(t<0||o==Ht(r))){let f=r.childNodes[o-1];if(f.nodeType==1)return Uu(f.getBoundingClientRect(),!1)}if(l==null&&o<Ht(r)){let f=r.childNodes[o];if(f.nodeType==1)return Uu(f.getBoundingClientRect(),!0)}return Uu(r.getBoundingClientRect(),t>=0)}if(l==null&&o&&(t<0||o==Ht(r))){let f=r.childNodes[o-1],h=f.nodeType==3?xn(f,Ht(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return uo(Wn(h,1),!1)}if(l==null&&o<Ht(r)){let f=r.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?xn(f,0,a?0:1):f.nodeType==1?f:null:null;if(h)return uo(Wn(h,-1),!0)}return uo(Wn(r.nodeType==3?xn(r):r,-t),t>=0)}function uo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Uu(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function wg(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function $v(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return wg(n,e,()=>{let{node:l}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(l,!0);if(!c)break;if(c.node.isBlock){l=c.contentDOM||c.dom;break}l=c.dom.parentNode}let a=Sg(n,o.pos,1);for(let c=l.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=xn(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const Hv=/[\u0590-\u08ac]/;function Uv(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=!o,a=o==r.parent.content.size,c=n.domSelection();return c?!Hv.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?l:a:wg(n,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",t,"character");let S=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:w,focusOffset:x}=n.domSelectionRange(),E=w&&!S.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==x;try{c.collapse(m,y),f&&(f!=m||h!=y)&&c.extend&&c.extend(f,h)}catch{}return v!=null&&(c.caretBidiLevel=v),E}):r.pos==r.start()||r.pos==r.end()}let Ep=null,Tp=null,Mp=!1;function Wv(n,e,t){return Ep==e&&Tp==t?Mp:(Ep=e,Tp=t,Mp=t=="up"||t=="down"?$v(n,e,t):Uv(n,e,t))}const Wt=0,Np=1,Cr=2,fn=3;class zo{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=Wt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>tt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let l=this.getDesc(o),a;if(l&&(!t||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],l=r+o.size;if(r==e&&l!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<l)return o.descAt(e-r-o.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],c=l+a.size;if(c>e||a instanceof Cg){o=e-l;break}l=c}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof xg&&l.side>=0;r--);if(t<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&t&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?tt(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?tt(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let a=r,c=0;;c++){let f=this.children[c],h=a+f.size;if(o==-1&&e<=h){let m=a+f.border;if(e>=m&&t<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,m);e=a;for(let y=c;y>0;y--){let v=this.children[y-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){o=tt(v.dom)+1;break}e-=v.size}o==-1&&(o=0)}if(o>-1&&(h>t||c==this.children.length-1)){t=h;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){l=tt(y.dom);break}t+=y.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let l=Math.min(e,t),a=Math.max(e,t);for(let S=0,w=0;S<this.children.length;S++){let x=this.children[S],E=w+x.size;if(l>w&&a<E)return x.setSelection(e-w-x.border,t-w-x.border,r,o);w=E}let c=this.domFromPos(e,e?-1:1),f=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((tn||gt)&&e==t){let{node:S,offset:w}=c;if(S.nodeType==3){if(y=!!(w&&S.nodeValue[w-1]==`
`),y&&w==S.nodeValue.length)for(let x=S,E;x;x=x.parentNode){if(E=x.nextSibling){E.nodeName=="BR"&&(c=f={node:E.parentNode,offset:tt(E)+1});break}let R=x.pmViewDesc;if(R&&R.node&&R.node.isBlock)break}}else{let x=S.childNodes[w-1];y=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(tn&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let S=m.focusNode.childNodes[m.focusOffset];S&&S.contentEditable=="false"&&(o=!0)}if(!(o||y&&gt)&&Dr(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Dr(f.node,f.offset,m.focusNode,m.focusOffset))return;let v=!1;if((h.extend||e==t)&&!y){h.collapse(c.node,c.offset);try{e!=t&&h.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>t){let w=c;c=f,f=w}let S=document.createRange();S.setEnd(f.node,f.offset),S.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(S)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let l=this.children[o],a=r+l.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+l.border,f=a-l.border;if(e>=c&&t<=f){this.dirty=e==r||t==a?Cr:Np,e==c&&t==f&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=fn:l.markDirty(e-c,t-c);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Cr:fn}r=a}this.dirty=Cr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Cr:Np;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class xg extends zo{constructor(e,t,r,o){let l,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==Wt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class qv extends zo{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Pr extends zo{constructor(e,t,r,o,l){super(e,[],r,o),this.mark=t,this.spec=l}static create(e,t,r,o){let l=o.nodeViews[t.type.name],a=l&&l(t,o,r);return(!a||!a.dom)&&(a=Ir.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Pr(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&fn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=fn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Wt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Wt}}slice(e,t,r){let o=Pr.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;t<a&&(l=vc(l,t,a,r)),e>0&&(l=vc(l,0,e,r));for(let c=0;c<l.length;c++)l[c].parent=o;return o.children=l,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class tr extends zo{constructor(e,t,r,o,l,a,c,f,h){super(e,[],l,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=c}static create(e,t,r,o,l,a){let c=l.nodeViews[t.type.name],f,h=c&&c(t,l,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,o),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=Ir.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let v=m;return m=Mg(m,r,t),h?f=new Kv(e,t,r,o,m,y||null,v,h,l,a+1):t.isText?new Al(e,t,r,o,m,v,l):new tr(e,t,r,o,m,y||null,v,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>F.empty)}return e}matchesNode(e,t,r){return this.dirty==Wt&&e.eq(this.node)&&gl(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,l=e.composing?this.localCompositionInfo(e,t):null,a=l&&l.pos>-1?l:null,c=l&&l.pos<0,f=new Gv(this,a&&a.node,e);Yv(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&f.syncToMarks(m==this.node.childCount?Ce.none:this.node.child(m).marks,r,e),f.placeWidget(h,e,o)},(h,m,y,v)=>{f.syncToMarks(h.marks,r,e);let S;f.findNodeMatch(h,m,y,v)||c&&e.state.selection.from>o&&e.state.selection.to<o+h.nodeSize&&(S=f.findIndexWithChild(l.node))>-1&&f.updateNodeAt(h,m,y,S,e)||f.updateNextNode(h,m,y,e,v,o)||f.addNode(h,m,y,e,o),o+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Cr)&&(a&&this.protectLocalComposition(e,a),Eg(this.contentDOM,this.children,e),vi&&Zv(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof le)||r<t||o>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,c=ek(this.node.content,a,r-t,o-t);return c<0?null:{node:l,pos:c,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new qv(this,l,t,o);e.input.compositionNodes.push(a),this.children=vc(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==fn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Wt}updateOuterDeco(e){if(gl(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Tg(this.dom,this.nodeDOM,yc(this.outerDeco,this.node,t),yc(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Op(n,e,t,r,o){Mg(r,e,n);let l=new tr(void 0,n,e,t,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class Al extends tr{constructor(e,t,r,o,l,a,c){super(e,t,r,o,l,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==fn||this.dirty!=Wt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Wt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Wt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),l=document.createTextNode(o.text);return new Al(this.parent,o,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=fn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Cg extends zo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Wt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Kv extends tr{constructor(e,t,r,o,l,a,c,f,h,m){super(e,t,r,o,l,a,c,h,m),this.spec=f}update(e,t,r,o){if(this.dirty==fn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,o),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Eg(n,e,t){let r=n.firstChild,o=!1;for(let l=0;l<e.length;l++){let a=e[l],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=bp(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(c,r);if(a instanceof Pr){let f=r?r.previousSibling:n.lastChild;Eg(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=bp(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const Co=function(n){n&&(this.nodeName=n)};Co.prototype=Object.create(null);const Er=[new Co];function yc(n,e,t){if(n.length==0)return Er;let r=t?Er[0]:new Co,o=[r];for(let l=0;l<n.length;l++){let a=n[l].type.attrs;if(a){a.nodeName&&o.push(r=new Co(a.nodeName));for(let c in a){let f=a[c];f!=null&&(t&&o.length==1&&o.push(r=new Co(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return o}function Tg(n,e,t,r){if(t==Er&&r==Er)return e;let o=e;for(let l=0;l<r.length;l++){let a=r[l],c=t[l];if(l){let f;c&&c.nodeName==a.nodeName&&o!=n&&(f=o.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(o),c=Er[0]),o=f}Jv(o,c||Er[0],a)}return o}function Jv(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)o.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<o.length;l++)r.indexOf(o[l])==-1&&n.classList.add(o[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function Mg(n,e,t){return Tg(n,n,Er,yc(e,t,n.nodeType!=1))}function gl(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function bp(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Gv{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Xv(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;o<a&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=Wt,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=Pr.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,o){let l=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))l=this.top.children.indexOf(a,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=c;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,o,l){let a=this.top.children[o];return a.dirty==fn&&a.dom==a.contentDOM&&(a.dirty=Cr),a.update(e,t,r,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,l,a){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof tr){let h=this.preMatch.matched.get(f);if(h!=null&&h!=l)return!1;let m=f.dom,y,v=this.isLocked(m)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=fn&&gl(t,f.outerDeco));if(!v&&f.update(e,t,r,o))return this.destroyBetween(this.index,c),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!v&&(y=this.recreateWrapper(f,e,t,r,o,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Cr,y.updateChildren(o,a+1),y.dirty=Wt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,l,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!gl(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let c=tr.create(this.top,t,r,o,l,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,t,r,o,l){let a=tr.create(this.top,e,t,r,o,l);a.contentDOM&&a.updateChildren(o,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new xg(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Pr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Al)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((gt||ut)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new Cg(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Xv(n,e){let t=e,r=t.children.length,o=n.childCount,l=new Map,a=[];e:for(;o>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof Pr)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=c.node;if(f){if(f!=n.child(o-1))break;--o,l.set(c,o),a.push(c)}}return{index:o,matched:l,matches:a.reverse()}}function Qv(n,e){return n.type.side-e.type.side}function Yv(n,e,t,r){let o=e.locals(n),l=0;if(o.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,o,e.forChild(l,m),h),l+=m.nodeSize}return}let a=0,c=[],f=null;for(let h=0;;){let m,y;for(;a<o.length&&o[a].to==l;){let E=o[a++];E.widget&&(m?(y||(y=[m])).push(E):m=E)}if(m)if(y){y.sort(Qv);for(let E=0;E<y.length;E++)t(y[E],h,!!f)}else t(m,h,!!f);let v,S;if(f)S=-1,v=f,f=null;else if(h<n.childCount)S=h,v=n.child(h++);else break;for(let E=0;E<c.length;E++)c[E].to<=l&&c.splice(E--,1);for(;a<o.length&&o[a].from<=l&&o[a].to>l;)c.push(o[a++]);let w=l+v.nodeSize;if(v.isText){let E=w;a<o.length&&o[a].from<E&&(E=o[a].from);for(let R=0;R<c.length;R++)c[R].to<E&&(E=c[R].to);E<w&&(f=v.cut(E-l),v=v.cut(0,E-l),w=E,S=-1)}else for(;a<o.length&&o[a].to<w;)a++;let x=v.isInline&&!v.isLeaf?c.filter(E=>!E.inline):c.slice();r(v,x,e.forChild(l,v),S),l=w}}function Zv(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function ek(n,e,t,r){for(let o=0,l=0;o<n.childCount&&l<=r;){let a=n.child(o++),c=l;if(l+=a.nodeSize,!a.isText)continue;let f=a.text;for(;o<n.childCount;){let h=n.child(o++);if(l+=h.nodeSize,!h.isText)break;f+=h.text}if(l>=t){if(l>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?f.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function vc(n,e,t,r,o){let l=[];for(let a=0,c=0;a<n.length;a++){let f=n[a],h=c,m=c+=f.size;h>=t||m<=e?l.push(f):(h<e&&l.push(f.slice(0,e-h,r)),o&&(l.push(o),o=void 0),m>t&&l.push(f.slice(t-h,f.size,r)))}return l}function Ic(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),l=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),f,h;if(bl(t)){for(f=a;o&&!o.node;)o=o.parent;let y=o.node;if(o&&y.isAtom&&ie.isSelectable(y)&&o.parent&&!(y.isInline&&Mv(t.focusNode,t.focusOffset,o.dom))){let v=o.posBefore;h=new ie(a==v?c:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=a,v=a;for(let S=0;S<t.rangeCount;S++){let w=t.getRangeAt(S);y=Math.min(y,n.docView.posFromDOM(w.startContainer,w.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(y<0)return null;[f,a]=v==n.state.selection.anchor?[v,y]:[y,v],c=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let m=r.resolve(f);if(!h){let y=e=="pointer"||n.state.selection.head<c.pos&&!l?1:-1;h=_c(n,m,c,y)}return h}function Ng(n){return n.editable?n.hasFocus():bg(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function En(n,e=!1){let t=n.state.selection;if(Og(n,t),!!Ng(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ut){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Dr(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)nk(n);else{let{anchor:r,head:o}=t,l,a;Ap&&!(t instanceof le)&&(t.$from.parent.inlineContent||(l=Rp(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=Rp(n,t.to))),n.docView.setSelection(r,o,n,e),Ap&&(l&&Dp(l),a&&Dp(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tk(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Ap=gt||ut&&mg<63;function Rp(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(gt&&o&&o.contentEditable=="false")return Wu(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return Wu(o);if(l)return Wu(l)}}function Wu(n){return n.contentEditable="true",gt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Dp(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function tk(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Ng(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function nk(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,tt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&Mt&&er<=11&&(r.disabled=!0,r.disabled=!1)}function Og(n,e){if(e instanceof ie){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Pp(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Pp(n)}function Pp(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function _c(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||le.between(e,t,r)}function Ip(n){return n.editable&&!n.hasFocus()?!1:bg(n)}function bg(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function rk(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Dr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function kc(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),l=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return l&&ce.findFrom(l,e)}function qn(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function _p(n,e,t){let r=n.state.selection;if(r instanceof le)if(t.indexOf("s")>-1){let{$head:o}=r,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+l.nodeSize*(e<0?-1:1));return qn(n,new le(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=kc(n.state,e);return o&&o instanceof ie?qn(n,o):!1}else if(!($t&&t.indexOf("m")>-1)){let o=r.$head,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!l||l.isText)return!1;let c=e<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?ie.isSelectable(l)?qn(n,new ie(e<0?n.state.doc.resolve(o.pos-l.nodeSize):o)):Lo?qn(n,new le(n.state.doc.resolve(e<0?c:c+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ie&&r.node.isInline)return qn(n,new le(e>0?r.$to:r.$from));{let o=kc(n.state,e);return o?qn(n,o):!1}}}function yl(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Eo(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function li(n,e){return e<0?ik(n):ok(n)}function ik(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,l,a=!1;for(tn&&t.nodeType==1&&r<yl(t)&&Eo(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(Eo(c,-1))o=t,l=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(Ag(t))break;{let c=t.previousSibling;for(;c&&Eo(c,-1);)o=t.parentNode,l=tt(c),c=c.previousSibling;if(c)t=c,r=yl(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?Sc(n,t,r):o&&Sc(n,o,l)}function ok(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=yl(t),l,a;for(;;)if(r<o){if(t.nodeType!=1)break;let c=t.childNodes[r];if(Eo(c,1))l=t,a=++r;else break}else{if(Ag(t))break;{let c=t.nextSibling;for(;c&&Eo(c,1);)l=c.parentNode,a=tt(c)+1,c=c.nextSibling;if(c)t=c,r=0,o=yl(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}l&&Sc(n,l,a)}function Ag(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function sk(n,e){for(;n&&e==n.childNodes.length&&!_o(n);)e=tt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function lk(n,e){for(;n&&!e&&!_o(n);)e=tt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Sc(n,e,t){if(e.nodeType!=3){let l,a;(a=sk(e,t))?(e=a,t=0):(l=lk(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(bl(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&En(n)},50)}function Lp(n,e){let t=n.state.doc.resolve(e);if(!(ut||bv)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function zp(n,e,t){let r=n.state.selection;if(r instanceof le&&!r.empty||t.indexOf("s")>-1||$t&&t.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=kc(n.state,e);if(a&&a instanceof ie)return qn(n,a)}if(!o.parent.inlineContent){let a=e<0?o:l,c=r instanceof en?ce.near(a,e):ce.findFrom(a,e);return c?qn(n,c):!1}return!1}function Bp(n,e){if(!(n.state.selection instanceof le))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let a=n.state.tr;return e<0?a.delete(t.pos-l.nodeSize,t.pos):a.delete(t.pos,t.pos+l.nodeSize),n.dispatch(a),!0}return!1}function Fp(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function ak(n){if(!gt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Fp(n,r,"true"),setTimeout(()=>Fp(n,r,"false"),20)}return!1}function uk(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ck(n,e){let t=e.keyCode,r=uk(e);if(t==8||$t&&t==72&&r=="c")return Bp(n,-1)||li(n,-1);if(t==46&&!e.shiftKey||$t&&t==68&&r=="c")return Bp(n,1)||li(n,1);if(t==13||t==27)return!0;if(t==37||$t&&t==66&&r=="c"){let o=t==37?Lp(n,n.state.selection.from)=="ltr"?-1:1:-1;return _p(n,o,r)||li(n,o)}else if(t==39||$t&&t==70&&r=="c"){let o=t==39?Lp(n,n.state.selection.from)=="ltr"?1:-1:1;return _p(n,o,r)||li(n,o)}else{if(t==38||$t&&t==80&&r=="c")return zp(n,-1,r)||li(n,-1);if(t==40||$t&&t==78&&r=="c")return ak(n)||zp(n,1,r)||li(n,1);if(r==($t?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Rg(n,e){n.someProp("transformCopied",S=>{e=S(e,n)});let t=[],{content:r,openStart:o,openEnd:l}=e;for(;o>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,l--;let S=r.firstChild;t.push(S.type.name,S.attrs!=S.type.defaultAttrs?S.attrs:null),r=S.content}let a=n.someProp("clipboardSerializer")||Ir.fromSchema(n.state.schema),c=zg(),f=c.createElement("div");f.appendChild(a.serializeFragment(r,{document:c}));let h=f.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=Lg[h.nodeName.toLowerCase()]);){for(let S=m.length-1;S>=0;S--){let w=c.createElement(m[S]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),y++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${o} ${l}${y?` -${y}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",S=>S(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function Dg(n,e,t,r,o){let l=o.parent.type.spec.code,a,c;if(!t&&!e)return null;let f=e&&(r||l||!t);if(f){if(n.someProp("transformPastedText",v=>{e=v(e,l||r,n)}),l)return e?new q(F.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):q.empty;let y=n.someProp("clipboardTextParser",v=>v(e,o,r,n));if(y)c=y;else{let v=o.marks(),{schema:S}=n.state,w=Ir.fromSchema(S);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let E=a.appendChild(document.createElement("p"));x&&E.appendChild(w.serializeNode(S.text(x,v)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),a=pk(t),Lo&&mk(a);let h=a&&a.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let v=a.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;a=v}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Zn.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||m),context:o,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!fk.test(v.parentNode.nodeName)?{ignore:!0}:null}})),m)c=gk(Vp(c,+m[1],+m[2]),m[4]);else if(c=q.maxOpen(dk(c.content,o),!0),c.openStart||c.openEnd){let y=0,v=0;for(let S=c.content.firstChild;y<c.openStart&&!S.type.spec.isolating;y++,S=S.firstChild);for(let S=c.content.lastChild;v<c.openEnd&&!S.type.spec.isolating;v++,S=S.lastChild);c=Vp(c,y,v)}return n.someProp("transformPasted",y=>{c=y(c,n)}),c}const fk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dk(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),l,a=[];if(n.forEach(c=>{if(!a)return;let f=o.findWrapping(c.type),h;if(!f)return a=null;if(h=a.length&&l.length&&Ig(f,l,c,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=_g(a[a.length-1],l.length));let m=Pg(c,f);a.push(m),o=o.matchType(m.type),l=f}}),a)return F.from(a)}return n}function Pg(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,F.from(n));return n}function Ig(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let l=Ig(n,e,t,r.lastChild,o+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(F.from(Pg(t,n,o+1))))}}function _g(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,_g(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(t.append(r))}function wc(n,e,t,r,o,l){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(l=0),o<r-1&&(c=wc(c,e,t,r,o+1,l)),o>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,l<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(F.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function Vp(n,e,t){return e<n.openStart&&(n=new q(wc(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new q(wc(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Lg={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let jp=null;function zg(){return jp||(jp=document.implementation.createHTMLDocument("title"))}let qu=null;function hk(n){let e=window.trustedTypes;return e?(qu||(qu=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),qu.createHTML(n)):n}function pk(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=zg().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&Lg[r[1].toLowerCase()])&&(n=o.map(l=>"<"+l+">").join("")+n+o.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=hk(n),o)for(let l=0;l<o.length;l++)t=t.querySelector(o[l])||t;return t}function mk(n){let e=n.querySelectorAll(ut?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function gk(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:l,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let f=t.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;o=F.from(f.create(r[c+1],o)),l++,a++}return new q(o,l,a)}const yt={},vt={},yk={touchstart:!0,touchmove:!0};class vk{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function kk(n){for(let e in yt){let t=yt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{wk(n,r)&&!Lc(n,r)&&(n.editable||!(r.type in vt))&&t(n,r)},yk[e]?{passive:!0}:void 0)}gt&&n.dom.addEventListener("input",()=>null),xc(n)}function Qn(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function Sk(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function xc(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Lc(n,r))})}function Lc(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function wk(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function xk(n,e){!Lc(n,e)&&yt[e.type]&&(n.editable||!(e.type in vt))&&yt[e.type](n,e)}vt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Fg(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Cn&&ut&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),vi&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,wr(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ck(n,t)?t.preventDefault():Qn(n,"key")};vt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};vt.keypress=(n,e)=>{let t=e;if(Fg(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||$t&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof le)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,o))&&n.dispatch(n.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function Rl(n){return{left:n.clientX,top:n.clientY}}function Ck(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function zc(n,e,t,r,o){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(n.someProp(e,c=>a>l.depth?c(n,t,l.nodeAfter,l.before(a),o,!0):c(n,t,l.node(a),l.before(a),o,!1)))return!0;return!1}function mi(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function Ek(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ie.isSelectable(r)?(mi(n,new ie(t)),!0):!1}function Tk(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof ie&&(r=t.node);let l=n.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let c=a>l.depth?l.nodeAfter:l.node(a);if(ie.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?o=l.before(t.$from.depth):o=l.before(a);break}}return o!=null?(mi(n,ie.create(n.state.doc,o)),!0):!1}function Mk(n,e,t,r,o){return zc(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(o?Tk(n,t):Ek(n,t))}function Nk(n,e,t,r){return zc(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function Ok(n,e,t,r){return zc(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||bk(n,t,r)}function bk(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(mi(n,le.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l),c=o.before(l);if(a.inlineContent)mi(n,le.create(r,c+1,c+1+a.content.size));else if(ie.isSelectable(a))mi(n,ie.create(r,c));else continue;return!0}}function Bc(n){return vl(n)}const Bg=$t?"metaKey":"ctrlKey";yt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Bc(n),o=Date.now(),l="singleClick";o-n.input.lastClick.time<500&&Ck(t,n.input.lastClick)&&!t[Bg]&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:l};let a=n.posAtCoords(Rl(t));a&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Ak(n,a,t,!!r)):(l=="doubleClick"?Nk:Ok)(n,a.pos,a.inside,t)?t.preventDefault():Qn(n,"pointer"))};class Ak{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Bg],this.allowDefault=r.shiftKey;let l,a;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);l=m.parent,a=m.depth?m.before():0}const c=o?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof ie&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&tn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>En(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Rl(e))),this.updateAllowDefault(e),this.allowDefault||!t?Qn(this.view,"pointer"):Mk(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||gt&&this.mightDrag&&!this.mightDrag.node.isAtom||ut&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(mi(this.view,ce.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Qn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yt.touchstart=n=>{n.input.lastTouch=Date.now(),Bc(n),Qn(n,"pointer")};yt.touchmove=n=>{n.input.lastTouch=Date.now(),Qn(n,"pointer")};yt.contextmenu=n=>Bc(n);function Fg(n,e){return n.composing?!0:gt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Rk=Cn?5e3:-1;vt.compositionstart=vt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof le&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),vl(n,!0),n.markCursor=null;else if(vl(n,!e.selection.empty),tn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,l=r.focusOffset;o&&o.nodeType==1&&l!=0;){let a=l<0?o.lastChild:o.childNodes[l-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else o=a,l=-1}}n.input.composing=!0}Vg(n,Rk)};vt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Vg(n,20))};function Vg(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>vl(n),e))}function jg(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Pk());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Dk(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Ev(e.focusNode,e.focusOffset),r=Tv(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function Pk(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function vl(n,e=!1){if(!(Cn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),jg(n),e||n.docView&&n.docView.dirty){let t=Ic(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Ik(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const bo=Mt&&er<15||vi&&Av<604;yt.copy=vt.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let l=bo?null:t.clipboardData,a=r.content(),{dom:c,text:f}=Rg(n,a);l?(t.preventDefault(),l.clearData(),l.setData("text/html",c.innerHTML),l.setData("text/plain",f)):Ik(n,c),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _k(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Lk(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Ao(n,r.value,null,o,e):Ao(n,r.textContent,r.innerHTML,o,e)},50)}function Ao(n,e,t,r,o){let l=Dg(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,o,l||q.empty)))return!0;if(!l)return!1;let a=_k(l),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(l);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $g(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}vt.paste=(n,e)=>{let t=e;if(n.composing&&!Cn)return;let r=bo?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Ao(n,$g(r),r.getData("text/html"),o,t)?t.preventDefault():Lk(n,t)};class Hg{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Ug=$t?"altKey":"ctrlKey";yt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,l=o.empty?null:n.posAtCoords(Rl(t)),a;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof ie?o.to-1:o.to))){if(r&&r.mightDrag)a=ie.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(a=ie.create(n.state.doc,y.posBefore))}}let c=(a||n.state.selection).content(),{dom:f,text:h,slice:m}=Rg(n,c);(!t.dataTransfer.files.length||!ut||mg>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(bo?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",bo||t.dataTransfer.setData("text/plain",h),n.dragging=new Hg(m,!t[Ug],a)};yt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};vt.dragover=vt.dragenter=(n,e)=>e.preventDefault();vt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(Rl(t));if(!o)return;let l=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",w=>{a=w(a,n)}):a=Dg(n,$g(t.dataTransfer),bo?null:t.dataTransfer.getData("text/html"),!1,l);let c=!!(r&&!t[Ug]);if(n.someProp("handleDrop",w=>w(n,t,a||q.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?lg(n.state.doc,l.pos,a):l.pos;f==null&&(f=l.pos);let h=n.state.tr;if(c){let{node:w}=r;w?w.replace(h):h.deleteSelection()}let m=h.mapping.map(f),y=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,v=h.doc;if(y?h.replaceRangeWith(m,m,a.content.firstChild):h.replaceRange(m,m,a),h.doc.eq(v))return;let S=h.doc.resolve(m);if(y&&ie.isSelectable(a.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new ie(S));else{let w=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((x,E,R,_)=>w=_),h.setSelection(_c(n,S,h.doc.resolve(w)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};yt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&En(n)},20))};yt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};yt.beforeinput=(n,e)=>{if(ut&&Cn&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,wr(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in vt)yt[n]=vt[n];function Ro(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class kl{constructor(e,t){this.toDOM=e,this.spec=t||Or,this.side=this.spec.side||0}map(e,t,r,o){let{pos:l,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new Ut(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof kl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ro(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class nr{constructor(e,t){this.attrs=e,this.spec=t||Or}map(e,t,r,o){let l=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new Ut(l,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof nr&&Ro(this.attrs,e.attrs)&&Ro(this.spec,e.spec)}static is(e){return e.type instanceof nr}destroy(){}}class Fc{constructor(e,t){this.attrs=e,this.spec=t||Or}map(e,t,r,o){let l=e.mapResult(t.from+o,1);if(l.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=l.pos?null:new Ut(l.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),l;return o==t.from&&!(l=e.child(r)).isText&&o+l.nodeSize==t.to}eq(e){return this==e||e instanceof Fc&&Ro(this.attrs,e.attrs)&&Ro(this.spec,e.spec)}destroy(){}}class Ut{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Ut(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Ut(e,e,new kl(t,r))}static inline(e,t,r,o){return new Ut(e,t,new nr(r,o))}static node(e,t,r,o){return new Ut(e,t,new Fc(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof nr}get widget(){return this.type instanceof kl}}const ui=[],Or={};class Ue{constructor(e,t){this.local=e.length?e:ui,this.children=t.length?t:ui}static create(e,t){return t.length?Sl(t,e,0,Or):at}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,l){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!l||l(c.spec))&&r.push(c.copy(c.from+o,c.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,o+c,l)}}map(e,t,r){return this==at||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Or)}mapInner(e,t,r,o,l){let a;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,o);f&&f.type.valid(t,f)?(a||(a=[])).push(f):l.onRemove&&l.onRemove(this.local[c].spec)}return this.children.length?zk(this.children,a||[],e,t,r,o,l):a?new Ue(a.sort(br),ui):at}add(e,t){return t.length?this==at?Ue.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,l=0;e.forEach((c,f)=>{let h=f+r,m;if(m=qg(t,c,h)){for(o||(o=this.children.slice());l<o.length&&o[l]<f;)l+=3;o[l]==f?o[l+2]=o[l+2].addInner(c,m,h+1):o.splice(l,0,f,f+c.nodeSize,Sl(m,c,h+1,Or)),l+=3}});let a=Wg(l?Kg(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new Ue(a.length?this.local.concat(a).sort(br):this.local,o||this.children)}remove(e){return e.length==0||this==at?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let l=0;l<r.length;l+=3){let a,c=r[l]+t,f=r[l+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<f&&(e[m]=null,(a||(a=[])).push(y));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,c+1);h!=at?r[l+2]=h:(r.splice(l,3),l-=3)}if(o.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let c=0;c<o.length;c++)o[c].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(c--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Ue(o,r):at}forChild(e,t){if(this==at)return this;if(t.isLeaf)return Ue.empty;let r,o;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let l=e+1,a=l+t.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<a&&f.to>l&&f.type instanceof nr){let h=Math.max(l,f.from)-l,m=Math.min(a,f.to)-l;h<m&&(o||(o=[])).push(f.copy(h,m))}}if(o){let c=new Ue(o.sort(br),ui);return r?new Jn([c,r]):c}return r||at}eq(e){if(this==e)return!0;if(!(e instanceof Ue)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Vc(this.localsInner(e))}localsInner(e){if(this==at)return ui;if(e.inlineContent||!this.local.some(nr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof nr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Ue.empty=new Ue([],[]);Ue.removeOverlap=Vc;const at=Ue.empty;class Jn{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,Or));return Jn.from(r)}forChild(e,t){if(t.isLeaf)return Ue.empty;let r=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(e,t);l!=at&&(l instanceof Jn?r=r.concat(l.members):r.push(l))}return Jn.from(r)}eq(e){if(!(e instanceof Jn)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let a=0;a<l.length;a++)t.push(l[a])}}return t?Vc(r?t:t.sort(br)):ui}static from(e){switch(e.length){case 0:return at;case 1:return e[0];default:return new Jn(e.every(t=>t instanceof Ue)?e:e.reduce((t,r)=>t.concat(r instanceof Ue?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function zk(n,e,t,r,o,l,a){let c=n.slice();for(let h=0,m=l;h<t.maps.length;h++){let y=0;t.maps[h].forEach((v,S,w,x)=>{let E=x-w-(S-v);for(let R=0;R<c.length;R+=3){let _=c[R+1];if(_<0||v>_+m-y)continue;let H=c[R]+m-y;S>=H?c[R+1]=v<=H?-2:-1:v>=m&&E&&(c[R]+=E,c[R+1]+=E)}y+=E}),m=t.maps[h].map(m,-1)}let f=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){f=!0,c[h+1]=-1;continue}let m=t.map(n[h]+l),y=m-o;if(y<0||y>=r.content.size){f=!0;continue}let v=t.map(n[h+1]+l,-1),S=v-o,{index:w,offset:x}=r.content.findIndex(y),E=r.maybeChild(w);if(E&&x==y&&x+E.nodeSize==S){let R=c[h+2].mapInner(t,E,m+1,n[h]+l+1,a);R!=at?(c[h]=y,c[h+1]=S,c[h+2]=R):(c[h+1]=-2,f=!0)}else f=!0}if(f){let h=Bk(c,n,e,t,o,l,a),m=Sl(h,r,0,a);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,v=0;y<m.children.length;y+=3){let S=m.children[y];for(;v<c.length&&c[v]<S;)v+=3;c.splice(v,0,m.children[y],m.children[y+1],m.children[y+2])}}return new Ue(e.sort(br),c)}function Wg(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new Ut(o.from+e,o.to+e,o.type))}return t}function Bk(n,e,t,r,o,l,a){function c(f,h){for(let m=0;m<f.local.length;m++){let y=f.local[m].map(r,o,h);y?t.push(y):a.onRemove&&a.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)c(f.children[m+2],f.children[m]+h+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&c(n[f+2],e[f]+l+1);return t}function qg(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let l=0,a;l<n.length;l++)(a=n[l])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[l]=null);return o}function Kg(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Sl(n,e,t,r){let o=[],l=!1;e.forEach((c,f)=>{let h=qg(n,c,f+t);if(h){l=!0;let m=Sl(h,c,t+f+1,r);m!=at&&o.push(f,f+c.nodeSize,m)}});let a=Wg(l?Kg(n):n,-t).sort(br);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new Ue(a,o):at}function br(n,e){return n.from-e.from||n.to-e.to}function Vc(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let l=e[o];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[o]=l.copy(l.from,r.to),$p(e,o+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),$p(e,o,r.copy(l.from,r.to)));break}}}return e}function $p(n,e,t){for(;e<n.length&&br(t,n[e])>0;)e++;n.splice(e,0,t)}function Ku(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=at&&e.push(r)}),n.cursorWrapper&&e.push(Ue.create(n.state.doc,[n.cursorWrapper.deco])),Jn.from(e)}const Fk={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Vk=Mt&&er<=11;class jk{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $k{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new jk,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Mt&&er<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Vk&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Fk)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ip(this.view)){if(this.suppressingSelectionUpdates)return En(this.view);if(Mt&&er<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Dr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Oo(l))t.add(l);for(let l=e.anchorNode;l;l=Oo(l))if(t.has(l)){r=l;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ip(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,c=!1,f=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],f);y&&(l=l<0?y.from:Math.min(y.from,l),a=a<0?y.to:Math.max(y.to,a),y.typeOver&&(c=!0))}if(tn&&f.length){let m=f.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,v]=m;y.parentNode&&y.parentNode.parentNode==v.parentNode?v.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let v of m){let S=v.parentNode;S&&S.nodeName=="LI"&&(!y||Wk(e,y)!=S)&&v.remove()}}}let h=null;l<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&bl(r)&&(h=Ic(e))&&h.eq(ce.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,En(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||o)&&(l>-1&&(e.docView.markDirty(l,a),Hk(e)),this.handleDOMChange(l,a,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||En(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,l=e.nextSibling;if(Mt&&er<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:v}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(l=v)}let a=o&&o.parentNode==e.target?tt(o)+1:0,c=r.localPosFromDOM(e.target,a,-1),f=l&&l.parentNode==e.target?tt(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Hp=new WeakMap,Up=!1;function Hk(n){if(!Hp.has(n)&&(Hp.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=tn,Up)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Up=!0}}function Wp(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,l=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Dr(a.node,a.offset,o,l)&&([t,r,o,l]=[o,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:l}}function Uk(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return Wp(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Wp(n,t):null}function Wk(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function qk(n,e,t){let{node:r,fromOffset:o,toOffset:l,from:a,to:c}=n.docView.parseRange(e,t),f=n.domSelectionRange(),h,m=f.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:f.anchorOffset}],bl(f)||h.push({node:f.focusNode,offset:f.focusOffset})),ut&&n.input.lastKeyCode===8)for(let E=l;E>o;E--){let R=r.childNodes[E-1],_=R.pmViewDesc;if(R.nodeName=="BR"&&!_){l=E;break}if(!_||_.size)break}let y=n.state.doc,v=n.someProp("domParser")||Zn.fromSchema(n.state.schema),S=y.resolve(a),w=null,x=v.parse(r,{topNode:S.parent,topMatch:S.parent.contentMatchAt(S.index()),topOpen:!0,from:o,to:l,preserveWhitespace:S.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:Kk,context:S});if(h&&h[0].pos!=null){let E=h[0].pos,R=h[1]&&h[1].pos;R==null&&(R=E),w={anchor:E+a,head:R+a}}return{doc:x,sel:w,from:a,to:c}}function Kk(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(gt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||gt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Jk=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Gk(n,e,t,r,o){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let $=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,pe=Ic(n,$);if(pe&&!n.state.selection.eq(pe)){if(ut&&Cn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",je=>je(n,wr(13,"Enter"))))return;let Me=n.state.tr.setSelection(pe);$=="pointer"?Me.setMeta("pointer",!0):$=="key"&&Me.scrollIntoView(),l&&Me.setMeta("composition",l),n.dispatch(Me)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let f=n.state.selection,h=qk(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),v,S;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,S="end"):(v=n.state.selection.from,S="start"),n.input.lastKeyCode=null;let w=Yk(y.content,h.doc.content,h.from,v,S);if(w&&n.input.domChangeCount++,(vi&&n.input.lastIOSEnter>Date.now()-225||Cn)&&o.some($=>$.nodeType==1&&!Jk.test($.nodeName))&&(!w||w.endA>=w.endB)&&n.someProp("handleKeyDown",$=>$(n,wr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!w)if(r&&f instanceof le&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let $=qp(n,n.state.doc,h.sel);if($&&!$.eq(n.state.selection)){let pe=n.state.tr.setSelection($);l&&pe.setMeta("composition",l),n.dispatch(pe)}}return}n.state.selection.from<n.state.selection.to&&w.start==w.endB&&n.state.selection instanceof le&&(w.start>n.state.selection.from&&w.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?w.start=n.state.selection.from:w.endA<n.state.selection.to&&w.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(w.endB+=n.state.selection.to-w.endA,w.endA=n.state.selection.to)),Mt&&er<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let x=h.doc.resolveNoCache(w.start-h.from),E=h.doc.resolveNoCache(w.endB-h.from),R=m.resolve(w.start),_=x.sameParent(E)&&x.parent.inlineContent&&R.end()>=w.endA,H;if((vi&&n.input.lastIOSEnter>Date.now()-225&&(!_||o.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!_&&x.pos<h.doc.content.size&&!x.sameParent(E)&&(H=ce.findFrom(h.doc.resolve(x.pos+1),1,!0))&&H.head==E.pos)&&n.someProp("handleKeyDown",$=>$(n,wr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>w.start&&Qk(m,w.start,w.endA,x,E)&&n.someProp("handleKeyDown",$=>$(n,wr(8,"Backspace")))){Cn&&ut&&n.domObserver.suppressSelectionUpdates();return}ut&&w.endB==w.start&&(n.input.lastChromeDelete=Date.now()),Cn&&!_&&x.start()!=E.start()&&E.parentOffset==0&&x.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,E=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function($){return $(n,wr(13,"Enter"))})},20));let Q=w.start,T=w.endA,b,I,W;if(_){if(x.pos==E.pos)Mt&&er<=11&&x.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>En(n),20)),b=n.state.tr.delete(Q,T),I=m.resolve(w.start).marksAcross(m.resolve(w.endA));else if(w.endA==w.endB&&(W=Xk(x.parent.content.cut(x.parentOffset,E.parentOffset),R.parent.content.cut(R.parentOffset,w.endA-R.start()))))b=n.state.tr,W.type=="add"?b.addMark(Q,T,W.mark):b.removeMark(Q,T,W.mark);else if(x.parent.child(x.index()).isText&&x.index()==E.index()-(E.textOffset?0:1)){let $=x.parent.textBetween(x.parentOffset,E.parentOffset);if(n.someProp("handleTextInput",pe=>pe(n,Q,T,$)))return;b=n.state.tr.insertText($,Q,T)}}if(b||(b=n.state.tr.replace(Q,T,h.doc.slice(w.start-h.from,w.endB-h.from))),h.sel){let $=qp(n,b.doc,h.sel);$&&!(ut&&n.composing&&$.empty&&(w.start!=w.endB||n.input.lastChromeDelete<Date.now()-100)&&($.head==Q||$.head==b.mapping.map(T)-1)||Mt&&$.empty&&$.head==Q)&&b.setSelection($)}I&&b.ensureMarks(I),l&&b.setMeta("composition",l),n.dispatch(b.scrollIntoView())}function qp(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:_c(n,e.resolve(t.anchor),e.resolve(t.head))}function Xk(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,l=r,a,c,f;for(let m=0;m<r.length;m++)o=r[m].removeFromSet(o);for(let m=0;m<t.length;m++)l=t[m].removeFromSet(l);if(o.length==1&&l.length==0)c=o[0],a="add",f=m=>m.mark(c.addToSet(m.marks));else if(o.length==0&&l.length==1)c=l[0],a="remove",f=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(f(e.child(m)));if(F.from(h).eq(n))return{mark:c,type:a}}function Qk(n,e,t,r,o){if(t-e<=o.pos-r.pos||Ju(r,!0,!1)<o.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let c=l.nodeAfter;return c!=null&&t==e+c.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=n.resolve(Ju(l,!0,!0));return!a.parent.isTextblock||a.pos>t||Ju(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Ju(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function Yk(n,e,t,r,o){let l=n.findDiffStart(e,t);if(l==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let f=Math.max(0,l-Math.min(a,c));r-=a+f-l}if(a<l&&n.size<e.size){let f=r<=l&&r>=a?l-r:0;l-=f,l&&l<e.size&&Kp(e.textBetween(l-1,l+1))&&(l+=f?1:-1),c=l+(c-a),a=l}else if(c<l){let f=r<=l&&r>=c?l-r:0;l-=f,l&&l<n.size&&Kp(n.textBetween(l-1,l+1))&&(l+=f?1:-1),a=l+(a-c),c=l}return{start:l,endA:a,endB:c}}function Kp(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Zk{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new vk,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Yp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Xp(this),Gp(this),this.nodeViews=Qp(this),this.docView=Op(this.state.doc,Jp(this),Ku(this),this.dom,this),this.domObserver=new $k(this,(r,o,l,a)=>Gk(this,r,o,l,a)),this.domObserver.start(),kk(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&xc(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Yp),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(jg(this),a=!0),this.state=e;let c=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let S=Qp(this);tS(S,this.nodeViews)&&(this.nodeViews=S,l=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&xc(this),this.editable=Xp(this),Gp(this);let f=Ku(this),h=Jp(this),m=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",y=l||!this.docView.matchesNode(e.doc,h,f);(y||!e.selection.eq(o.selection))&&(a=!0);let v=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Pv(this);if(a){this.domObserver.stop();let S=y&&(Mt||ut)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&eS(o.selection,e.selection);if(y){let w=ut?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Dk(this)),(l||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Op(e.doc,h,f,this.dom,this)),w&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&rk(this))?En(this,S):(Og(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():v&&Iv(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ie){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&xp(this,t.getBoundingClientRect(),e)}else xp(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(o=l)}this.dragging=new Hg(e.slice,e.move,o<0?void 0:ie.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(o=t?t(c):c))return o}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let c=l[a].props[e];if(c!=null&&(o=t?t(c):c))return o}}hasFocus(){if(Mt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_v(this.dom),En(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Vv(this,e)}coordsAtPos(e,t=1){return Sg(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return Wv(this,t||this.state,e)}pasteHTML(e,t){return Ao(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ao(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(Sk(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ku(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xv())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return xk(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?gt&&this.root.nodeType===11&&Nv(this.dom.ownerDocument)==this.dom&&Uk(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Jp(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Ut.node(0,n.state.doc.content.size,e)]}function Gp(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Ut.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Xp(n){return!n.someProp("editable",e=>e(n.state)===!1)}function eS(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Qp(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function tS(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function Yp(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var rr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nS=typeof navigator<"u"&&/Mac/.test(navigator.platform),rS=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var nt=0;nt<10;nt++)rr[48+nt]=rr[96+nt]=String(nt);for(var nt=1;nt<=24;nt++)rr[nt+111]="F"+nt;for(var nt=65;nt<=90;nt++)rr[nt]=String.fromCharCode(nt+32),wl[nt]=String.fromCharCode(nt);for(var Gu in rr)wl.hasOwnProperty(Gu)||(wl[Gu]=rr[Gu]);function iS(n){var e=nS&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||rS&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?wl:rr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const oS=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function sS(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))oS?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function lS(n){let e=Object.create(null);for(let t in n)e[sS(t)]=n[t];return e}function Xu(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function aS(n){return new Ot({props:{handleKeyDown:Jg(n)}})}function Jg(n){let e=lS(n);return function(t,r){let o=iS(r),l,a=e[Xu(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let c=e[Xu(o,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(l=rr[r.keyCode])&&l!=o){let c=e[Xu(l,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const uS=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Gg(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const cS=(n,e,t)=>{let r=Gg(n,t);if(!r)return!1;let o=jc(r);if(!o){let a=r.blockRange(),c=a&&xi(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let l=o.nodeBefore;if(Zg(n,o,e,-1))return!0;if(r.parent.content.size==0&&(ki(l,"end")||ie.isSelectable(l)))for(let a=r.depth;;a--){let c=Nl(n.doc,r.before(a),r.after(a),q.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=n.tr.step(c);f.setSelection(ki(l,"end")?ce.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):ie.create(f.doc,o.pos-l.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},fS=(n,e,t)=>{let r=Gg(n,t);if(!r)return!1;let o=jc(r);return o?Xg(n,o,e):!1},dS=(n,e,t)=>{let r=Qg(n,t);if(!r)return!1;let o=$c(r);return o?Xg(n,o,e):!1};function Xg(n,e,t){let r=e.nodeBefore,o=r,l=e.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let m=o.lastChild;if(!m)return!1;o=m}let a=e.nodeAfter,c=a,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=Nl(n.doc,l,f,q.empty);if(!h||h.from!=l||h instanceof Je&&h.slice.size>=f-l)return!1;if(t){let m=n.tr.step(h);m.setSelection(le.create(m.doc,l)),t(m.scrollIntoView())}return!0}function ki(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const hS=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=jc(r)}let a=l&&l.nodeBefore;return!a||!ie.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ie.create(n.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function jc(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Qg(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const pS=(n,e,t)=>{let r=Qg(n,t);if(!r)return!1;let o=$c(r);if(!o)return!1;let l=o.nodeAfter;if(Zg(n,o,e,1))return!0;if(r.parent.content.size==0&&(ki(l,"start")||ie.isSelectable(l))){let a=Nl(n.doc,r.before(),r.after(),q.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(ki(l,"start")?ce.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):ie.create(c.doc,c.mapping.map(o.pos))),e(c.scrollIntoView())}return!0}}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},mS=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=$c(r)}let a=l&&l.nodeAfter;return!a||!ie.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ie.create(n.doc,l.pos)).scrollIntoView()),!0)};function $c(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const gS=(n,e)=>{let t=n.selection,r=t instanceof ie,o;if(r){if(t.node.isTextblock||!ir(n.doc,t.from))return!1;o=t.from}else if(o=Ml(n.doc,t.from,-1),o==null)return!1;if(e){let l=n.tr.join(o);r&&l.setSelection(ie.create(l.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},yS=(n,e)=>{let t=n.selection,r;if(t instanceof ie){if(t.node.isTextblock||!ir(n.doc,t.to))return!1;r=t.to}else if(r=Ml(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},vS=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),l=o&&xi(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)},kS=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Yg(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const SS=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),l=t.indexAfter(-1),a=Yg(o.contentMatchAt(l));if(!a||!o.canReplaceWith(l,l,a))return!1;if(e){let c=t.after(),f=n.tr.replaceWith(c,c,a.createAndFill());f.setSelection(ce.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},wS=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof en||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=Yg(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=n.tr.insert(a,l.createAndFill());c.setSelection(le.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},xS=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(hi(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),o=r&&xi(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)},CS=(n,e)=>{let{$from:t,to:r}=n.selection,o,l=t.sharedDepth(r);return l==0?!1:(o=t.before(l),e&&e(n.tr.setSelection(ie.create(n.doc,o))),!0)};function ES(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(o.isTextblock||ir(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Zg(n,e,t,r){let o=e.nodeBefore,l=e.nodeAfter,a,c,f=o.type.spec.isolating||l.type.spec.isolating;if(!f&&ES(n,e,t))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(c=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&c.matchType(a[0]||l.type).validEnd){if(t){let S=e.pos+l.nodeSize,w=F.empty;for(let R=a.length-1;R>=0;R--)w=F.from(a[R].create(null,w));w=F.from(o.copy(w));let x=n.tr.step(new Ge(e.pos-1,S,e.pos,S,new q(w,1,0),a.length,!0)),E=x.doc.resolve(S+2*a.length);E.nodeAfter&&E.nodeAfter.type==o.type&&ir(x.doc,E.pos)&&x.join(E.pos),t(x.scrollIntoView())}return!0}let m=l.type.spec.isolating||r>0&&f?null:ce.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),v=y&&xi(y);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(y,v).scrollIntoView()),!0;if(h&&ki(l,"start",!0)&&ki(o,"end")){let S=o,w=[];for(;w.push(S),!S.isTextblock;)S=S.lastChild;let x=l,E=1;for(;!x.isTextblock;x=x.firstChild)E++;if(S.canReplace(S.childCount,S.childCount,x.content)){if(t){let R=F.empty;for(let H=w.length-1;H>=0;H--)R=F.from(w[H].copy(R));let _=n.tr.step(new Ge(e.pos-w.length,e.pos+l.nodeSize,e.pos+E,e.pos+l.nodeSize-E,new q(R,w.length,0),0,!0));t(_.scrollIntoView())}return!0}}return!1}function ey(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(t&&t(e.tr.setSelection(le.create(e.doc,n<0?o.start(l):o.end(l)))),!0):!1}}const TS=ey(-1),MS=ey(1);function NS(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l),c=a&&Rc(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function Zp(n,e=null){return function(t,r){let o=!1;for(let l=0;l<t.selection.ranges.length&&!o;l++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[l];t.doc.nodesBetween(a,c,(f,h)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)o=!0;else{let m=t.doc.resolve(h),y=m.index();o=m.parent.canReplaceWith(y,y+1,n)}})}if(!o)return!1;if(r){let l=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:f}}=t.selection.ranges[a];l.setBlockType(c,f,n,e)}r(l.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function OS(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l);if(!a)return!1;let c=r?t.tr:null;return bS(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function bS(n,e,t,r=null){let o=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);l=new pl(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new pl(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let c=Rc(l,t,r,e);return c?(n&&AS(n,e,c,o,t),!0):!1}function AS(n,e,t,r,o){let l=F.empty;for(let m=t.length-1;m>=0;m--)l=F.from(t[m].type.create(t[m].attrs,l));n.step(new Ge(e.start-(r?2:0),e.end,e.start,e.end,new q(l,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==o&&(a=m+1);let c=t.length-a,f=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,v=!0;m<y;m++,v=!1)!v&&hi(n.doc,f,c)&&(n.split(f,c),f+=2*c),f+=h.child(m).nodeSize;return n}function RS(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?DS(e,t,n,l):PS(e,t,l):!0:!1}}function DS(n,e,t,r){let o=n.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(o.step(new Ge(l-1,a,l,a,new q(F.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new pl(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const c=xi(r);if(c==null)return!1;o.lift(r,c);let f=o.mapping.map(l,-1)-1;return ir(o.doc,f)&&o.join(f),e(o.scrollIntoView()),!0}function PS(n,e,t){let r=n.tr,o=t.parent;for(let S=t.end,w=t.endIndex-1,x=t.startIndex;w>x;w--)S-=o.child(w).nodeSize,r.delete(S-1,S+1);let l=r.doc.resolve(t.start),a=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,f=t.endIndex==o.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(c?0:1),m+1,a.content.append(f?F.empty:F.from(o))))return!1;let y=l.pos,v=y+a.nodeSize;return r.step(new Ge(y-(c?1:0),v+(f?1:0),y+1,v-1,new q((c?F.empty:F.from(o.copy(F.empty))).append(f?F.empty:F.from(o.copy(F.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function IS(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let c=l.parent,f=c.child(a-1);if(f.type!=n)return!1;if(t){let h=f.lastChild&&f.lastChild.type==c.type,m=F.from(h?n.create():null),y=new q(F.from(n.create(null,F.from(c.type.create(null,m)))),h?3:1,0),v=l.start,S=l.end;t(e.tr.step(new Ge(v-(h?3:1),S,v,S,y,1,!0)).scrollIntoView())}return!0}}function Dl(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,l=t.storedMarks,t}}}class Pl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:o}=t,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...m)=>{const y=f(...m)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c=[],f=!!e,h=e||l.tr,m=()=>(!f&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),c.every(v=>v===!0)),y={...Object.fromEntries(Object.entries(r).map(([v,S])=>[v,(...x)=>{const E=this.buildProps(h,t),R=S(...x)(E);return c.push(R),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,o=!1,l=e||r.tr,a=this.buildProps(l,o);return{...Object.fromEntries(Object.entries(t).map(([f,h])=>[f,(...m)=>h(...m)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,o)}}buildProps(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c={tr:e,editor:o,view:a,state:Dl({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...m)=>h(...m)(c)]))}};return c}}class _S{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const r=(...o)=>{this.off(e,r),t.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Y(n,e,t){return n.config[e]===void 0&&n.parent?Y(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Y(n.parent,e,t):null}):n.config[e]}function Il(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function ty(n){const e=[],{nodeExtensions:t,markExtensions:r}=Il(n),o=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:o},f=Y(a,"addGlobalAttributes",c);if(!f)return;f().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([v,S])=>{e.push({type:y,name:v,attribute:{...l,...S}})})})})}),o.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},f=Y(a,"addAttributes",c);if(!f)return;const h=f();Object.entries(h).forEach(([m,y])=>{const v={...l,...y};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:a.name,name:m,attribute:v})})}),e}function Qe(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function ct(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,l])=>{if(!r[o]){r[o]=l;return}if(o==="class"){const c=l?l.split(" "):[],f=r[o]?r[o].split(" "):[],h=c.filter(m=>!f.includes(m));r[o]=[...f,...h].join(" ")}else if(o==="style"){const c=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],f=r[o]?r[o].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;f.forEach(m=>{const[y,v]=m.split(":").map(S=>S.trim());h.set(y,v)}),c.forEach(m=>{const[y,v]=m.split(":").map(S=>S.trim());h.set(y,v)}),r[o]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[o]=l}),r},{})}function Cc(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>ct(t,r),{})}function ny(n){return typeof n=="function"}function he(n,e=void 0,...t){return ny(n)?e?n.bind(e)(...t):n(...t):n}function LS(n={}){return Object.keys(n).length===0&&n.constructor===Object}function zS(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function em(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((l,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):zS(t.getAttribute(a.name));return c==null?l:{...l,[a.name]:c}},{});return{...r,...o}}}}function tm(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&LS(t)?!1:t!=null))}function BS(n,e){var t;const r=ty(n),{nodeExtensions:o,markExtensions:l}=Il(n),a=(t=o.find(h=>Y(h,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(o.map(h=>{const m=r.filter(R=>R.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((R,_)=>{const H=Y(_,"extendNodeSchema",y);return{...R,...H?H(h):{}}},{}),S=tm({...v,content:he(Y(h,"content",y)),marks:he(Y(h,"marks",y)),group:he(Y(h,"group",y)),inline:he(Y(h,"inline",y)),atom:he(Y(h,"atom",y)),selectable:he(Y(h,"selectable",y)),draggable:he(Y(h,"draggable",y)),code:he(Y(h,"code",y)),whitespace:he(Y(h,"whitespace",y)),linebreakReplacement:he(Y(h,"linebreakReplacement",y)),defining:he(Y(h,"defining",y)),isolating:he(Y(h,"isolating",y)),attrs:Object.fromEntries(m.map(R=>{var _;return[R.name,{default:(_=R==null?void 0:R.attribute)===null||_===void 0?void 0:_.default}]}))}),w=he(Y(h,"parseHTML",y));w&&(S.parseDOM=w.map(R=>em(R,m)));const x=Y(h,"renderHTML",y);x&&(S.toDOM=R=>x({node:R,HTMLAttributes:Cc(R,m)}));const E=Y(h,"renderText",y);return E&&(S.toText=E),[h.name,S]})),f=Object.fromEntries(l.map(h=>{const m=r.filter(E=>E.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((E,R)=>{const _=Y(R,"extendMarkSchema",y);return{...E,..._?_(h):{}}},{}),S=tm({...v,inclusive:he(Y(h,"inclusive",y)),excludes:he(Y(h,"excludes",y)),group:he(Y(h,"group",y)),spanning:he(Y(h,"spanning",y)),code:he(Y(h,"code",y)),attrs:Object.fromEntries(m.map(E=>{var R;return[E.name,{default:(R=E==null?void 0:E.attribute)===null||R===void 0?void 0:R.default}]}))}),w=he(Y(h,"parseHTML",y));w&&(S.parseDOM=w.map(E=>em(E,m)));const x=Y(h,"renderHTML",y);return x&&(S.toDOM=E=>x({mark:E,HTMLAttributes:Cc(E,m)})),[h.name,S]}));return new Xm({topNode:a,nodes:c,marks:f})}function Qu(n,e){return e.nodes[n]||e.marks[n]||null}function nm(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Hc(n,e){const t=Ir.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const FS=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,l,a,c)=>{var f,h;const m=((h=(f=o.type.spec).toText)===null||h===void 0?void 0:h.call(f,{node:o,pos:l,parent:a,index:c}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?m:m.slice(0,Math.max(0,r-l))}),t};function Uc(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class _l{constructor(e){this.find=e.find,this.handler=e.handler}}const VS=(n,e)=>{if(Uc(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Zs(n){var e;const{editor:t,from:r,to:o,text:l,rules:a,plugin:c}=n,{view:f}=t;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let m=!1;const y=FS(h)+l;return a.forEach(v=>{if(m)return;const S=VS(y,v.find);if(!S)return;const w=f.state.tr,x=Dl({state:f.state,transaction:w}),E={from:r-(S[0].length-l.length),to:o},{commands:R,chain:_,can:H}=new Pl({editor:t,state:x});v.handler({state:x,range:E,match:S,commands:R,chain:_,can:H})===null||!w.steps.length||(w.setMeta(c,{transform:w,from:r,to:o,text:l}),f.dispatch(w),m=!0)}),m}function jS(n){const{editor:e,rules:t}=n,r=new Ot({state:{init(){return null},apply(o,l,a){const c=o.getMeta(r);if(c)return c;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=Hc(F.from(m),a.schema);const{from:y}=f,v=y+m.length;Zs({editor:e,from:y,to:v,text:m,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,a,c){return Zs({editor:e,from:l,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&Zs({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?Zs({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function $S(n){return Object.prototype.toString.call(n).slice(8,-1)}function el(n){return $S(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Ll(n,e){const t={...n};return el(n)&&el(e)&&Object.keys(e).forEach(r=>{el(e[r])&&el(n[r])?t[r]=Ll(n[r],e[r]):t[r]=e[r]}),t}class Tn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(Y(this,"addOptions",{name:this.name}))),this.storage=he(Y(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ll(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Tn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=he(Y(t,"addOptions",{name:t.name})),t.storage=he(Y(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const f=a.find(h=>(h==null?void 0:h.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function HS(n){return typeof n=="number"}class US{constructor(e){this.find=e.find,this.handler=e.handler}}const WS=(n,e,t)=>{if(Uc(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const l=[o.text];return l.index=o.index,l.input=n,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function qS(n){const{editor:e,state:t,from:r,to:o,rule:l,pasteEvent:a,dropEvent:c}=n,{commands:f,chain:h,can:m}=new Pl({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,o,(S,w)=>{if(!S.isTextblock||S.type.spec.code)return;const x=Math.max(r,w),E=Math.min(o,w+S.content.size),R=S.textBetween(x-w,E-w,void 0,"￼");WS(R,l.find,a).forEach(H=>{if(H.index===void 0)return;const Q=x+H.index+1,T=Q+H[0].length,b={from:t.tr.mapping.map(Q),to:t.tr.mapping.map(T)},I=l.handler({state:t,range:b,match:H,commands:f,chain:h,can:m,pasteEvent:a,dropEvent:c});y.push(I)})}),y.every(S=>S!==null)}const KS=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function JS(n){const{editor:e,rules:t}=n;let r=null,o=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:m,from:y,to:v,rule:S,pasteEvt:w})=>{const x=m.tr,E=Dl({state:m,transaction:x});if(!(!qS({editor:e,state:E,from:Math.max(y-1,0),to:v.b-1,rule:S,pasteEvent:w,dropEvent:c})||!x.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return t.map(m=>new Ot({view(y){const v=S=>{var w;r=!((w=y.dom.parentElement)===null||w===void 0)&&w.contains(S.target)?y.dom.parentElement:null};return window.addEventListener("dragstart",v),{destroy(){window.removeEventListener("dragstart",v)}}},props:{handleDOMEvents:{drop:(y,v)=>(l=r===y.dom.parentElement,c=v,!1),paste:(y,v)=>{var S;const w=(S=v.clipboardData)===null||S===void 0?void 0:S.getData("text/html");return a=v,o=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(y,v,S)=>{const w=y[0],x=w.getMeta("uiEvent")==="paste"&&!o,E=w.getMeta("uiEvent")==="drop"&&!l,R=w.getMeta("applyPasteRules"),_=!!R;if(!x&&!E&&!_)return;if(_){let{text:T}=R;typeof T=="string"?T=T:T=Hc(F.from(T),S.schema);const{from:b}=R,I=b+T.length,W=KS(T);return f({rule:m,state:S,from:b,to:{b:I},pasteEvt:W})}const H=v.doc.content.findDiffStart(S.doc.content),Q=v.doc.content.findDiffEnd(S.doc.content);if(!(!HS(H)||!Q||H===Q.b))return f({rule:m,state:S,from:H,to:Q,pasteEvt:a})}}))}function GS(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class fi{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=fi.resolve(e),this.schema=BS(this.extensions,t),this.setupExtensions()}static resolve(e){const t=fi.sort(fi.flatten(e)),r=GS(t.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},o=Y(t,"addExtensions",r);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((r,o)=>{const l=Y(r,"priority")||100,a=Y(o,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Qu(t.name,this.schema)},o=Y(t,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=fi.sort([...this.extensions].reverse()),r=[],o=[],l=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:Qu(a.name,this.schema)},f=[],h=Y(a,"addKeyboardShortcuts",c);let m={};if(a.type==="mark"&&Y(a,"exitable",c)&&(m.ArrowRight=()=>Tn.handleExit({editor:e,mark:a})),h){const x=Object.fromEntries(Object.entries(h()).map(([E,R])=>[E,()=>R({editor:e})]));m={...m,...x}}const y=aS(m);f.push(y);const v=Y(a,"addInputRules",c);nm(a,e.options.enableInputRules)&&v&&r.push(...v());const S=Y(a,"addPasteRules",c);nm(a,e.options.enablePasteRules)&&S&&o.push(...S());const w=Y(a,"addProseMirrorPlugins",c);if(w){const x=w();f.push(...x)}return f}).flat();return[jS({editor:e,rules:r}),...JS({editor:e,rules:o}),...l]}get attributes(){return ty(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Il(this.extensions);return Object.fromEntries(t.filter(r=>!!Y(r,"addNodeView")).map(r=>{const o=this.attributes.filter(f=>f.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:Qe(r.name,this.schema)},a=Y(r,"addNodeView",l);if(!a)return[];const c=(f,h,m,y,v)=>{const S=Cc(f,o);return a()({node:f,view:h,getPos:m,decorations:y,innerDecorations:v,editor:e,extension:r,HTMLAttributes:S})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Qu(e.name,this.schema)};e.type==="mark"&&(!((t=he(Y(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=Y(e,"onBeforeCreate",r),l=Y(e,"onCreate",r),a=Y(e,"onUpdate",r),c=Y(e,"onSelectionUpdate",r),f=Y(e,"onTransaction",r),h=Y(e,"onFocus",r),m=Y(e,"onBlur",r),y=Y(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class kt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(Y(this,"addOptions",{name:this.name}))),this.storage=he(Y(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ll(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new kt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=he(Y(t,"addOptions",{name:t.name})),t.storage=he(Y(t,"addStorage",{name:t.name,options:t.options})),t}}function ry(n,e,t){const{from:r,to:o}=e,{blockSeparator:l=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,o,(f,h,m,y)=>{var v;f.isBlock&&h>r&&(c+=l);const S=a==null?void 0:a[f.type.name];if(S)return m&&(c+=S({node:f,pos:h,parent:m,index:y,range:e})),!1;f.isText&&(c+=(v=f==null?void 0:f.text)===null||v===void 0?void 0:v.slice(Math.max(r,h)-h,o-h))}),c}function iy(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const XS=kt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ot({key:new dn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:l}=o,a=Math.min(...l.map(m=>m.$from.pos)),c=Math.max(...l.map(m=>m.$to.pos)),f=iy(t);return ry(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),QS=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),YS=(n=!1)=>({commands:e})=>e.setContent("",n),ZS=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:l,$to:a})=>{n.doc.nodesBetween(l.pos,a.pos,(c,f)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(f)),v=h.resolve(m.map(f+c.nodeSize)),S=y.blockRange(v);if(!S)return;const w=xi(S);if(c.type.isTextblock){const{defaultType:x}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(S.start,x)}(w||w===0)&&e.lift(S,w)})}),!0},ew=n=>e=>n(e),tw=()=>({state:n,dispatch:e})=>wS(n,e),nw=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,l=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new le(r.doc.resolve(a-1))),!0},rw=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r.type){if(e){const c=o.before(l),f=o.after(l);n.delete(c,f).scrollIntoView()}return!0}return!1},iw=n=>({tr:e,state:t,dispatch:r})=>{const o=Qe(n,t.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===o){if(r){const f=l.before(a),h=l.after(a);e.delete(f,h).scrollIntoView()}return!0}return!1},ow=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},sw=()=>({state:n,dispatch:e})=>uS(n,e),lw=()=>({commands:n})=>n.keyboardShortcut("Enter"),aw=()=>({state:n,dispatch:e})=>SS(n,e);function xl(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:Uc(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function oy(n,e,t={}){return n.find(r=>r.type===e&&xl(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function rm(n,e,t={}){return!!oy(n,e,t)}function Wc(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(m=>m.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(m=>m.type===e)||(t=t||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!oy([...o.node.marks],e,t)))return;let a=o.index,c=n.start()+o.offset,f=a+1,h=c+o.node.nodeSize;for(;a>0&&rm([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&rm([...n.parent.child(f).marks],e,t);)h+=n.parent.child(f).nodeSize,f+=1;return{from:c,to:h}}function sr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const uw=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const l=sr(n,r.schema),{doc:a,selection:c}=t,{$from:f,from:h,to:m}=c;if(o){const y=Wc(f,l,e);if(y&&y.from<=h&&y.to>=m){const v=le.create(a,y.from,y.to);t.setSelection(v)}}return!0},cw=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function sy(n){return n instanceof le}function Tr(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function ly(n,e=null){if(!e)return null;const t=ce.atStart(n),r=ce.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,l=r.to;return e==="all"?le.create(n,Tr(0,o,l),Tr(n.content.size,o,l)):le.create(n,Tr(e,o,l),Tr(e,o,l))}function qc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const fw=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{qc()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!sy(t.state.selection))return a(),!0;const c=ly(o.doc,n)||t.state.selection,f=t.state.selection.eq(c);return l&&(f||o.setSelection(c),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},dw=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),hw=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),ay=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&ay(r)}return n};function tl(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return ay(t)}function Cl(n,e,t){if(n instanceof Yn||n instanceof F)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return F.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),Cl("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,c="";const f=new Xm({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Zn.fromSchema(f).parseSlice(tl(n),t.parseOptions):Zn.fromSchema(f).parse(tl(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const l=Zn.fromSchema(e);return t.slice?l.parseSlice(tl(n),t.parseOptions).content:l.parse(tl(n),t.parseOptions)}return Cl("",e,t)}function pw(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof Je||o instanceof Ge))return;const l=n.mapping.maps[r];let a=0;l.forEach((c,f,h,m)=>{a===0&&(a=m)}),n.setSelection(ce.near(n.doc.resolve(a),t))}const mw=n=>!("type"in n),gw=(n,e,t)=>({tr:r,dispatch:o,editor:l})=>{var a;if(o){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=Cl(e,l.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(w){return l.emit("contentError",{editor:l,error:w,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((mw(c)?c:[c]).forEach(w=>{w.check(),m=m?w.isText&&w.marks.length===0:!1,y=y?w.isBlock:!1}),f===h&&y){const{parent:w}=r.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,h+=1)}let S;if(m){if(Array.isArray(e))S=e.map(w=>w.text||"").join("");else if(e instanceof F){let w="";e.forEach(x=>{x.text&&(w+=x.text)}),S=w}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,f,h)}else S=c,r.replaceWith(f,h,S);t.updateSelection&&pw(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:S}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:S})}return!0},yw=()=>({state:n,dispatch:e})=>gS(n,e),vw=()=>({state:n,dispatch:e})=>yS(n,e),kw=()=>({state:n,dispatch:e})=>cS(n,e),Sw=()=>({state:n,dispatch:e})=>pS(n,e),ww=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ml(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},xw=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ml(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Cw=()=>({state:n,dispatch:e})=>fS(n,e),Ew=()=>({state:n,dispatch:e})=>dS(n,e);function uy(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Tw(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))qc()||uy()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const Mw=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const l=Tw(n).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return f==null||f.steps.forEach(h=>{const m=h.map(r.mapping);m&&o&&r.maybeStep(m)}),!0};function Do(n,e,t={}){const{from:r,to:o,empty:l}=n.selection,a=e?Qe(e,n.schema):null,c=[];n.doc.nodesBetween(r,o,(y,v)=>{if(y.isText)return;const S=Math.max(r,v),w=Math.min(o,v+y.nodeSize);c.push({node:y,from:S,to:w})});const f=o-r,h=c.filter(y=>a?a.name===y.node.type.name:!0).filter(y=>xl(y.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((y,v)=>y+v.to-v.from,0)>=f}const Nw=(n,e={})=>({state:t,dispatch:r})=>{const o=Qe(n,t.schema);return Do(t,o,e)?vS(t,r):!1},Ow=()=>({state:n,dispatch:e})=>xS(n,e),bw=n=>({state:e,dispatch:t})=>{const r=Qe(n,e.schema);return RS(r)(e,t)},Aw=()=>({state:n,dispatch:e})=>kS(n,e);function zl(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function im(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}const Rw=(n,e)=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=zl(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=Qe(n,r.schema)),c==="mark"&&(a=sr(n,r.schema)),o&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,m)=>{l&&l===h.type&&t.setNodeMarkup(m,void 0,im(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(y=>{a===y.type&&t.addMark(m,m+h.nodeSize,a.create(im(y.attrs,e)))})})}),!0):!1},Dw=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),Pw=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),Iw=()=>({state:n,dispatch:e})=>hS(n,e),_w=()=>({state:n,dispatch:e})=>mS(n,e),Lw=()=>({state:n,dispatch:e})=>CS(n,e),zw=()=>({state:n,dispatch:e})=>MS(n,e),Bw=()=>({state:n,dispatch:e})=>TS(n,e);function Ec(n,e,t={},r={}){return Cl(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const Fw=(n,e=!1,t={},r={})=>({editor:o,tr:l,dispatch:a,commands:c})=>{var f,h;const{doc:m}=l;if(t.preserveWhitespace!=="full"){const y=Ec(n,o.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:o.options.enableContentCheck});return a&&l.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:o.options.enableContentCheck})};function cy(n,e){const t=sr(e,n.schema),{from:r,to:o,empty:l}=n.selection,a=[];l?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,f=>{a.push(...f.marks)});const c=a.find(f=>f.type.name===t.name);return c?{...c.attrs}:{}}function Vw(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function jw(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Kc(n){return e=>jw(e.$from,n)}function $w(n,e){const t={from:0,to:n.content.size};return ry(n,t,e)}function Hw(n,e){const t=Qe(e,n.schema),{from:r,to:o}=n.selection,l=[];n.doc.nodesBetween(r,o,c=>{l.push(c)});const a=l.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function Uw(n,e){const t=zl(typeof e=="string"?e:e.name,n.schema);return t==="node"?Hw(n,e):t==="mark"?cy(n,e):{}}function fy(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(o=>{const l=t.resolve(n),a=Wc(l,o.type);a&&r.push({mark:o,...a})}):t.nodesBetween(n,e,(o,l)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:l,to:l+o.nodeSize,mark:a})))}),r}function ul(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(l=>l.type===e&&l.name===r);return o?o.attribute.keepOnSplit:!1}))}function Tc(n,e,t={}){const{empty:r,ranges:o}=n.selection,l=e?sr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>l?l.name===y.type.name:!0).find(y=>xl(y.attrs,t,{strict:!1}));let a=0;const c=[];if(o.forEach(({$from:y,$to:v})=>{const S=y.pos,w=v.pos;n.doc.nodesBetween(S,w,(x,E)=>{if(!x.isText&&!x.marks.length)return;const R=Math.max(S,E),_=Math.min(w,E+x.nodeSize),H=_-R;a+=H,c.push(...x.marks.map(Q=>({mark:Q,from:R,to:_})))})}),a===0)return!1;const f=c.filter(y=>l?l.name===y.mark.type.name:!0).filter(y=>xl(y.mark.attrs,t,{strict:!1})).reduce((y,v)=>y+v.to-v.from,0),h=c.filter(y=>l?y.mark.type!==l&&y.mark.type.excludes(l):!0).reduce((y,v)=>y+v.to-v.from,0);return(f>0?f+h:f)>=a}function Ww(n,e,t={}){if(!e)return Do(n,null,t)||Tc(n,null,t);const r=zl(e,n.schema);return r==="node"?Do(n,e,t):r==="mark"?Tc(n,e,t):!1}function om(n,e){const{nodeExtensions:t}=Il(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},l=he(Y(r,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function Jc(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(l=>{o!==!1&&(Jc(l,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function qw(n){return n instanceof ie}function Kw(n,e,t){var r;const{selection:o}=e;let l=null;if(sy(o)&&(l=o.$cursor),l){const c=(r=n.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(c)||!c.some(f=>f.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:c,$to:f})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,f.pos,(m,y,v)=>{if(h)return!1;if(m.isInline){const S=!v||v.type.allowsMarkType(t),w=!!t.isInSet(m.marks)||!m.marks.some(x=>x.type.excludes(t));h=S&&w}return!h}),h})}const Jw=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:l}=t,{empty:a,ranges:c}=l,f=sr(n,r.schema);if(o)if(a){const h=cy(r,f);t.addStoredMark(f.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(v,S)=>{const w=Math.max(S,m),x=Math.min(S+v.nodeSize,y);v.marks.find(R=>R.type===f)?v.marks.forEach(R=>{f===R.type&&t.addMark(w,x,f.create({...R.attrs,...e}))}):t.addMark(w,x,f.create(e))})});return Kw(r,t,f)},Gw=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Xw=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const l=Qe(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:c})=>Zp(l,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>Zp(l,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Qw=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=Tr(n,0,r.content.size),l=ie.create(r,o);e.setSelection(l)}return!0},Yw=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:l}=typeof n=="number"?{from:n,to:n}:n,a=le.atStart(r).from,c=le.atEnd(r).to,f=Tr(o,a,c),h=Tr(l,a,c),m=le.create(r,f,h);e.setSelection(m)}return!0},Zw=n=>({state:e,dispatch:t})=>{const r=Qe(n,e.schema);return IS(r)(e,t)};function sm(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e==null?void 0:e.includes(o.type.name));n.tr.ensureMarks(r)}}const ex=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:l,doc:a}=e,{$from:c,$to:f}=l,h=o.extensionManager.attributes,m=ul(h,c.node().type.name,c.node().attrs);if(l instanceof ie&&l.node.isBlock)return!c.parentOffset||!hi(a,c.pos)?!1:(r&&(n&&sm(t,o.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=f.parentOffset===f.parent.content.size,v=c.depth===0?void 0:Vw(c.node(-1).contentMatchAt(c.indexAfter(-1)));let S=y&&v?[{type:v,attrs:m}]:void 0,w=hi(e.doc,e.mapping.map(c.pos),1,S);if(!S&&!w&&hi(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(w=!0,S=v?[{type:v,attrs:m}]:void 0),r){if(w&&(l instanceof le&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,S),v&&!y&&!c.parentOffset&&c.parent.type!==v)){const x=e.mapping.map(c.before()),E=e.doc.resolve(x);c.node(-1).canReplaceWith(E.index(),E.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}n&&sm(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return w},tx=(n,e={})=>({tr:t,state:r,dispatch:o,editor:l})=>{var a;const c=Qe(n,r.schema),{$from:f,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(h))return!1;const y=f.node(-1);if(y.type!==c)return!1;const v=l.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let R=F.empty;const _=f.index(-1)?1:f.index(-2)?2:3;for(let W=f.depth-_;W>=f.depth-3;W-=1)R=F.from(f.node(W).copy(R));const H=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,Q={...ul(v,f.node().type.name,f.node().attrs),...e},T=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(Q))||void 0;R=R.append(F.from(c.createAndFill(null,T)||void 0));const b=f.before(f.depth-(_-1));t.replace(b,f.after(-H),new q(R,4-_,0));let I=-1;t.doc.nodesBetween(b,t.doc.content.size,(W,$)=>{if(I>-1)return!1;W.isTextblock&&W.content.size===0&&(I=$+1)}),I>-1&&t.setSelection(le.near(t.doc.resolve(I))),t.scrollIntoView()}return!0}const S=h.pos===f.end()?y.contentMatchAt(0).defaultType:null,w={...ul(v,y.type.name,y.attrs),...e},x={...ul(v,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,h.pos);const E=S?[{type:c,attrs:w},{type:S,attrs:x}]:[{type:c,attrs:w}];if(!hi(t.doc,f.pos,2))return!1;if(o){const{selection:R,storedMarks:_}=r,{splittableMarks:H}=l.extensionManager,Q=_||R.$to.parentOffset&&R.$from.marks();if(t.split(f.pos,2,E).scrollIntoView(),!Q||!o)return!0;const T=Q.filter(b=>H.includes(b.type.name));t.ensureMarks(T)}return!0},Yu=(n,e)=>{const t=Kc(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&ir(n.doc,t.pos)&&n.join(t.pos),!0},Zu=(n,e)=>{const t=Kc(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&ir(n.doc,r)&&n.join(r),!0},nx=(n,e,t,r={})=>({editor:o,tr:l,state:a,dispatch:c,chain:f,commands:h,can:m})=>{const{extensions:y,splittableMarks:v}=o.extensionManager,S=Qe(n,a.schema),w=Qe(e,a.schema),{selection:x,storedMarks:E}=a,{$from:R,$to:_}=x,H=R.blockRange(_),Q=E||x.$to.parentOffset&&x.$from.marks();if(!H)return!1;const T=Kc(b=>om(b.type.name,y))(x);if(H.depth>=1&&T&&H.depth-T.depth<=1){if(T.node.type===S)return h.liftListItem(w);if(om(T.node.type.name,y)&&S.validContent(T.node.content)&&c)return f().command(()=>(l.setNodeMarkup(T.pos,S),!0)).command(()=>Yu(l,S)).command(()=>Zu(l,S)).run()}return!t||!Q||!c?f().command(()=>m().wrapInList(S,r)?!0:h.clearNodes()).wrapInList(S,r).command(()=>Yu(l,S)).command(()=>Zu(l,S)).run():f().command(()=>{const b=m().wrapInList(S,r),I=Q.filter(W=>v.includes(W.type.name));return l.ensureMarks(I),b?!0:h.clearNodes()}).wrapInList(S,r).command(()=>Yu(l,S)).command(()=>Zu(l,S)).run()},rx=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=t,a=sr(n,r.schema);return Tc(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:l}):o.setMark(a,e)},ix=(n,e,t={})=>({state:r,commands:o})=>{const l=Qe(n,r.schema),a=Qe(e,r.schema),c=Do(r,l,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?o.setNode(a,f):o.setNode(l,{...f,...t})},ox=(n,e={})=>({state:t,commands:r})=>{const o=Qe(n,t.schema);return Do(t,o,e)?r.lift(o):r.wrapIn(o,e)},sx=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let l;if(o.spec.isInputRules&&(l=o.getState(n))){if(e){const a=n.tr,c=l.transform;for(let f=c.steps.length-1;f>=0;f-=1)a.step(c.steps[f].invert(c.docs[f]));if(l.text){const f=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,n.schema.text(l.text,f))}else a.delete(l.from,l.to)}return!0}}return!1},lx=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},ax=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,f=sr(n,r.schema),{$from:h,empty:m,ranges:y}=c;if(!o)return!0;if(m&&a){let{from:v,to:S}=c;const w=(l=h.marks().find(E=>E.type===f))===null||l===void 0?void 0:l.attrs,x=Wc(h,f,w);x&&(v=x.from,S=x.to),t.removeMark(v,S,f)}else y.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,f)});return t.removeStoredMark(f),!0},ux=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=zl(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=Qe(n,r.schema)),c==="mark"&&(a=sr(n,r.schema)),o&&t.selection.ranges.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;let y,v,S,w;t.selection.empty?r.doc.nodesBetween(h,m,(x,E)=>{l&&l===x.type&&(S=Math.max(E,h),w=Math.min(E+x.nodeSize,m),y=E,v=x)}):r.doc.nodesBetween(h,m,(x,E)=>{E<h&&l&&l===x.type&&(S=Math.max(E,h),w=Math.min(E+x.nodeSize,m),y=E,v=x),E>=h&&E<=m&&(l&&l===x.type&&t.setNodeMarkup(E,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(R=>{if(a===R.type){const _=Math.max(E,h),H=Math.min(E+x.nodeSize,m);t.addMark(_,H,a.create({...R.attrs,...e}))}}))}),v&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(x=>{a===x.type&&t.addMark(S,w,a.create({...x.attrs,...e}))}))}),!0):!1},cx=(n,e={})=>({state:t,dispatch:r})=>{const o=Qe(n,t.schema);return NS(o,e)(t,r)},fx=(n,e={})=>({state:t,dispatch:r})=>{const o=Qe(n,t.schema);return OS(o,e)(t,r)};var dx=Object.freeze({__proto__:null,blur:QS,clearContent:YS,clearNodes:ZS,command:ew,createParagraphNear:tw,cut:nw,deleteCurrentNode:rw,deleteNode:iw,deleteRange:ow,deleteSelection:sw,enter:lw,exitCode:aw,extendMarkRange:uw,first:cw,focus:fw,forEach:dw,insertContent:hw,insertContentAt:gw,joinBackward:kw,joinDown:vw,joinForward:Sw,joinItemBackward:ww,joinItemForward:xw,joinTextblockBackward:Cw,joinTextblockForward:Ew,joinUp:yw,keyboardShortcut:Mw,lift:Nw,liftEmptyBlock:Ow,liftListItem:bw,newlineInCode:Aw,resetAttributes:Rw,scrollIntoView:Dw,selectAll:Pw,selectNodeBackward:Iw,selectNodeForward:_w,selectParentNode:Lw,selectTextblockEnd:zw,selectTextblockStart:Bw,setContent:Fw,setMark:Jw,setMeta:Gw,setNode:Xw,setNodeSelection:Qw,setTextSelection:Yw,sinkListItem:Zw,splitBlock:ex,splitListItem:tx,toggleList:nx,toggleMark:rx,toggleNode:ix,toggleWrap:ox,undoInputRule:sx,unsetAllMarks:lx,unsetMark:ax,updateAttributes:ux,wrapIn:cx,wrapInList:fx});const hx=kt.create({name:"commands",addCommands(){return{...dx}}}),px=kt.create({name:"drop",addProseMirrorPlugins(){return[new Ot({key:new dn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),mx=kt.create({name:"editable",addProseMirrorPlugins(){return[new Ot({key:new dn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gx=kt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ot({key:new dn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),yx=kt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:f,doc:h}=c,{empty:m,$anchor:y}=f,{pos:v,parent:S}=y,w=y.parent.isTextblock&&v>0?c.doc.resolve(v-1):y,x=w.parent.type.spec.isolating,E=y.pos-y.parentOffset,R=x&&w.parent.childCount===1?E===y.pos:ce.atStart(h).from===v;return!m||!S.type.isTextblock||S.textContent.length||!R||R&&y.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qc()||uy()?l:o},addProseMirrorPlugins(){return[new Ot({key:new dn("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(x=>x.docChanged)&&!e.doc.eq(t.doc),o=n.some(x=>x.getMeta("preventClearDocument"));if(!r||o)return;const{empty:l,from:a,to:c}=e.selection,f=ce.atStart(e.doc).from,h=ce.atEnd(e.doc).to;if(l||!(a===f&&c===h)||!Jc(t.doc))return;const v=t.tr,S=Dl({state:t,transaction:v}),{commands:w}=new Pl({editor:this.editor,state:S});if(w.clearNodes(),!!v.steps.length)return v}})]}}),vx=kt.create({name:"paste",addProseMirrorPlugins(){return[new Ot({key:new dn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),kx=kt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ot({key:new dn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class xr{get name(){return this.node.type.name}constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new xr(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,a=this.pos+r+(l?0:1),c=this.resolvedPos.doc.resolve(a);if(!o&&c.depth<=this.depth)return;const f=new xr(c,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new xr(c,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const l=o.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const f=a[c];if(l[f]!==t[f])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&l.every(f=>t[f]===a.node.attrs[f])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const Sx=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function wx(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}class xx extends _S{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:o})=>this.options.onDrop(t,r,o)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=wx(Sx,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=ny(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=t.filter(c=>!c.key.startsWith(a))}),t.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[mx,XS.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),hx,gx,yx,kx,px,vx].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new fi(o,this)}createCommandManager(){this.commandManager=new Pl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Ec(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=Ec(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=ly(t,this.options.autofocus);this.view=new Zk(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ci.create({doc:t,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),l=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Uw(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return Ww(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Hc(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return $w(this.state.doc,{blockSeparator:t,textSerializers:{...iy(this.schema),...r}})}get isEmpty(){return Jc(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new xr(t,this)}get $doc(){return this.$pos(0)}}function Si(n){return new _l({find:n.find,handler:({state:e,range:t,match:r})=>{const o=he(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:l}=e,a=r[r.length-1],c=r[0];if(a){const f=c.search(/\S/),h=t.from+c.indexOf(a),m=h+a.length;if(fy(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(x=>x===n.type&&x!==S.mark.type)).filter(S=>S.to>h).length)return null;m<t.to&&l.delete(m,t.to),h>t.from&&l.delete(t.from+f,h);const v=t.from+f+a.length;l.addMark(t.from+f,v,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}function Cx(n){return new _l({find:n.find,handler:({state:e,range:t,match:r})=>{const o=he(n.getAttributes,void 0,r)||{},{tr:l}=e,a=t.from;let c=t.to;const f=n.type.create(o);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=a+h;m>c?m=c:c=m+r[1].length;const y=r[0][r[0].length-1];l.insertText(y,a+r[0].length-1),l.replaceWith(m,c,f)}else if(r[0]){const h=n.type.isInline?a:a-1;l.insert(h,n.type.create(o)).delete(l.mapping.map(a),l.mapping.map(c))}l.scrollIntoView()}})}function Mc(n){return new _l({find:n.find,handler:({state:e,range:t,match:r})=>{const o=e.doc.resolve(t.from),l=he(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)}})}function Po(n){return new _l({find:n.find,handler:({state:e,range:t,match:r,chain:o})=>{const l=he(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),f=a.doc.resolve(t.from).blockRange(),h=f&&Rc(f,n.type,l);if(!h)return null;if(a.wrap(f,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:v}=e,{splittableMarks:S}=n.editor.extensionManager,w=v||y.$to.parentOffset&&y.$from.marks();if(w){const x=w.filter(E=>S.includes(E.type.name));a.ensureMarks(x)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(y,l).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&ir(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}class Nt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(Y(this,"addOptions",{name:this.name}))),this.storage=he(Y(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Nt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Ll(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Nt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=he(Y(t,"addOptions",{name:t.name})),t.storage=he(Y(t,"addStorage",{name:t.name,options:t.options})),t}}function wi(n){return new US({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:o})=>{const l=he(n.getAttributes,void 0,r,o);if(l===!1||l===null)return null;const{tr:a}=e,c=r[r.length-1],f=r[0];let h=t.to;if(c){const m=f.search(/\S/),y=t.from+f.indexOf(c),v=y+c.length;if(fy(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===n.type&&E!==w.mark.type)).filter(w=>w.to>y).length)return null;v<t.to&&a.delete(v,t.to),y>t.from&&a.delete(t.from+m,y),h=t.from+m+c.length,a.addMark(t.from+m,h,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}var Ex=Im();const Tx=Oc(Ex);function Mx(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dy={exports:{}},ec={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Nx(){if(lm)return ec;lm=1;var n=pt;function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(y,v){var S=v(),w=r({inst:{value:S,getSnapshot:v}}),x=w[0].inst,E=w[1];return l(function(){x.value=S,x.getSnapshot=v,f(x)&&E({inst:x})},[y,S,v]),o(function(){return f(x)&&E({inst:x}),y(function(){f(x)&&E({inst:x})})},[y]),a(S),S}function f(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!t(y,S)}catch{return!0}}function h(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return ec.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,ec}dy.exports=Nx();var Gc=dy.exports;const Ox=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},bx=({contentComponent:n})=>{const e=Gc.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return pt.createElement(pt.Fragment,null,Object.values(e))};function Ax(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Tx.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}class Rx extends pt.Component{constructor(e){var t;super(e),this.editorContentRef=pt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Ax(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return pt.createElement(pt.Fragment,null,pt.createElement("div",{ref:Ox(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&pt.createElement(bx,{contentComponent:e.contentComponent}))}}const Dx=mt.forwardRef((n,e)=>{const t=pt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return pt.createElement(Rx,{key:t,innerRef:e,...n})}),Px=pt.memo(Dx);var Ix=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=r;o--!==0;){var a=l[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},_x=Mx(Ix),hy={exports:{}},tc={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function Lx(){if(am)return tc;am=1;var n=pt,e=Gc;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,f=n.useDebugValue;return tc.useSyncExternalStoreWithSelector=function(h,m,y,v,S){var w=l(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=c(function(){function R(b){if(!_){if(_=!0,H=b,b=v(b),S!==void 0&&x.hasValue){var I=x.value;if(S(I,b))return Q=I}return Q=b}if(I=Q,r(H,b))return I;var W=v(b);return S!==void 0&&S(I,W)?I:(H=b,Q=W)}var _=!1,H,Q,T=y===void 0?null:y;return[function(){return R(m())},T===null?void 0:function(){return R(T())}]},[m,y,v,S]);var E=o(h,w[0],w[1]);return a(function(){x.hasValue=!0,x.value=E},[E]),f(E),E},tc}hy.exports=Lx();var zx=hy.exports;const Bx=typeof window<"u"?mt.useLayoutEffect:mt.useEffect;class Fx{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Vx(n){var e;const[t]=mt.useState(()=>new Fx(n.editor)),r=zx.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:_x);return Bx(()=>t.watch(n.editor),[n.editor,t]),mt.useDebugValue(r),r}const jx=!1,Nc=typeof window>"u",$x=Nc||!!(typeof window<"u"&&window.next);class Hx{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Nc||$x?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(o,...r)},onBlur:(...r)=>{var o,l;return(l=(o=this.options.current).onBlur)===null||l===void 0?void 0:l.call(o,...r)},onCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onCreate)===null||l===void 0?void 0:l.call(o,...r)},onDestroy:(...r)=>{var o,l;return(l=(o=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(o,...r)},onFocus:(...r)=>{var o,l;return(l=(o=this.options.current).onFocus)===null||l===void 0?void 0:l.call(o,...r)},onSelectionUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(o,...r)},onTransaction:(...r)=>{var o,l;return(l=(o=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(o,...r)},onUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(o,...r)},onContentError:(...r)=>{var o,l;return(l=(o=this.options.current).onContentError)===null||l===void 0?void 0:l.call(o,...r)},onDrop:(...r)=>{var o,l;return(l=(o=this.options.current).onDrop)===null||l===void 0?void 0:l.call(o,...r)},onPaste:(...r)=>{var o,l;return(l=(o=this.options.current).onPaste)===null||l===void 0?void 0:l.call(o,...r)}};return new xx(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Ux(n={},e=[]){const t=mt.useRef(n);t.current=n;const[r]=mt.useState(()=>new Hx(t)),o=Gc.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return mt.useDebugValue(o),mt.useEffect(r.onRender(e)),Vx({editor:o,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&l===0?0:l+1}),o}const Wx=mt.createContext({editor:null});Wx.Consumer;const qx=mt.createContext({onDragStart:void 0}),Kx=()=>mt.useContext(qx);pt.forwardRef((n,e)=>{const{onDragStart:t}=Kx(),r=n.as||"div";return pt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const Jx=/^\s*>\s$/,Gx=Nt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Po({find:Jx,type:this.type})]}}),Xx=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Qx=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Yx=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Zx=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,eC=Tn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Si({find:Xx,type:this.type}),Si({find:Yx,type:this.type})]},addPasteRules(){return[wi({find:Qx,type:this.type}),wi({find:Zx,type:this.type})]}}),tC="listItem",um="textStyle",cm=/^\s*([-+*])\s$/,nC=Nt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tC,this.editor.getAttributes(um)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Po({find:cm,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Po({find:cm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(um),editor:this.editor})),[n]}}),rC=new RegExp("(?<!`)`([^`]+)`(?!`)"),iC=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),oC=Tn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Si({find:rC,type:this.type})]},addPasteRules(){return[wi({find:iC,type:this.type})]}}),sC=/^```([a-z]+)?[\s\n]$/,lC=/^~~~([a-z]+)?[\s\n]$/,aC=Nt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",ct(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:o}=t;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:o,empty:l}=t;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const c=o.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(ce.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Mc({find:sC,type:this.type,getAttributes:n=>({language:n[1]})}),Mc({find:lC,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ot({key:new dn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=o==null?void 0:o.mode;if(!t||!l)return!1;const{tr:a,schema:c}=n.state,f=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(le.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),uC=Nt.create({name:"doc",topNode:!0,content:"block+"});function cC(n={}){return new Ot({view(e){return new fC(e,n)}})}class fC{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=a=>{this[o](a)};return e.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let c=e.nodeBefore,f=e.nodeAfter;if(c||f){let h=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(h){let m=h.getBoundingClientRect(),y=c?m.bottom:m.top;c&&f&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:m.left,right:m.right,top:y-this.width/2,bottom:y+this.width/2}}}}if(!r){let c=this.editorView.coordsAtPos(this.cursorPos);r={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let l,a;if(!o||o==document.body&&getComputedStyle(o).position=="static")l=-pageXOffset,a=-pageYOffset;else{let c=o.getBoundingClientRect();l=c.left-o.scrollLeft,a=c.top-o.scrollTop}this.element.style.left=r.left-l+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=r&&r.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!l){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=lg(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const dC=kt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cC(this.options)]}});class Le extends ce{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Le.valid(r)?new Le(r):ce.near(r)}content(){return q.empty}eq(e){return e instanceof Le&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Le(e.resolve(t.pos))}getBookmark(){return new Xc(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!hC(e)||!pC(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Le.valid(e))return e;let o=e.pos,l=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){l=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=t;let f=e.doc.resolve(o);if(Le.valid(f))return f}for(;;){let a=t>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!ie.isSelectable(l)){e=e.doc.resolve(o+l.nodeSize*t),r=!1;continue e}break}l=a,o+=t;let c=e.doc.resolve(o);if(Le.valid(c))return c}return null}}}Le.prototype.visible=!1;Le.findFrom=Le.findGapCursorFrom;ce.jsonID("gapcursor",Le);class Xc{constructor(e){this.pos=e}map(e){return new Xc(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Le.valid(t)?new Le(t):ce.near(t)}}function hC(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function pC(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function mC(){return new Ot({props:{decorations:kC,createSelectionBetween(n,e,t){return e.pos==t.pos&&Le.valid(t)?new Le(t):null},handleClick:yC,handleKeyDown:gC,handleDOMEvents:{beforeinput:vC}}})}const gC=Jg({ArrowLeft:nl("horiz",-1),ArrowRight:nl("horiz",1),ArrowUp:nl("vert",-1),ArrowDown:nl("vert",1)});function nl(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,l){let a=r.selection,c=e>0?a.$to:a.$from,f=a.empty;if(a instanceof le){if(!l.endOfTextblock(t)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=Le.findGapCursorFrom(c,e,f);return h?(o&&o(r.tr.setSelection(new Le(h))),!0):!1}}function yC(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Le.valid(r))return!1;let o=n.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&ie.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Le(r))),!0)}function vC(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Le))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=F.empty;for(let a=r.length-1;a>=0;a--)o=F.from(r[a].createAndFill(null,o));let l=n.state.tr.replace(t.pos,t.pos,new q(o,0,0));return l.setSelection(le.near(l.doc.resolve(t.pos+1))),n.dispatch(l),!1}function kC(n){if(!(n.selection instanceof Le))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ue.create(n.doc,[Ut.widget(n.selection.head,e,{key:"gapcursor"})])}const SC=kt.create({name:"gapCursor",addProseMirrorPlugins(){return[mC()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=he(Y(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),wC=Nt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ct(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:l}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,f=l||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&f&&a){const y=f.filter(v=>c.includes(v.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),xC=Nt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Mc({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var El=200,Xe=function(){};Xe.prototype.append=function(e){return e.length?(e=Xe.from(e),!this.length&&e||e.length<El&&this.leafAppend(e)||this.length<El&&e.leafPrepend(this)||this.appendInner(e)):this};Xe.prototype.prepend=function(e){return e.length?Xe.from(e).append(this):this};Xe.prototype.appendInner=function(e){return new CC(this,e)};Xe.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Xe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Xe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Xe.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Xe.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(l,a){return o.push(e(l,a))},t,r),o};Xe.from=function(e){return e instanceof Xe?e:e&&e.length?new py(e):Xe.empty};var py=function(n){function e(r){n.call(this),this.values=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new e(this.values.slice(o,l))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,l,a,c){for(var f=l;f<a;f++)if(o(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,l,a,c){for(var f=l-1;f>=a;f--)if(o(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=El)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=El)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Xe);Xe.empty=new py([]);var CC=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,l,a){var c=this.left.length;if(o<c&&this.left.forEachInner(r,o,Math.min(l,c),a)===!1||l>c&&this.right.forEachInner(r,Math.max(o-c,0),Math.min(this.length,l)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,a){var c=this.left.length;if(o>c&&this.right.forEachInvertedInner(r,o-c,Math.max(l,c)-c,a+c)===!1||l<c&&this.left.forEachInvertedInner(r,Math.min(o,c),l,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(r,o):r>=l?this.right.slice(r-l,o-l):this.left.slice(r,l).append(this.right.slice(0,o-l))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Xe);const EC=500;class Zt{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,l;t&&(o=this.remapping(r,this.items.length),l=o.maps.length);let a=e.tr,c,f,h=[],m=[];return this.items.forEach((y,v)=>{if(!y.step){o||(o=this.remapping(r,v+1),l=o.maps.length),l--,m.push(y);return}if(o){m.push(new an(y.map));let S=y.step.map(o.slice(l)),w;S&&a.maybeStep(S).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],h.push(new an(w,void 0,void 0,h.length+m.length))),l--,w&&o.appendMap(w,l)}else a.maybeStep(y.step);if(y.selection)return c=o?y.selection.map(o.slice(l)):y.selection,f=new Zt(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:c}}addTransform(e,t,r,o){let l=[],a=this.eventCount,c=this.items,f=!o&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),v=new an(e.mapping.maps[m],y,t),S;(S=f&&f.merge(v))&&(v=S,m?l.pop():c=c.slice(0,c.length-1)),l.push(v),t&&(a++,t=void 0),o||(f=v)}let h=a-r.depth;return h>MC&&(c=TC(c,h),a-=h),new Zt(c.append(l),a)}remapping(e,t){let r=new di;return this.items.forEach((o,l)=>{let a=o.mirrorOffset!=null&&l-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Zt(this.items.append(e.map(t=>new an(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),l=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},o);let f=t;this.items.forEach(v=>{let S=l.getMirror(--f);if(S==null)return;a=Math.min(a,S);let w=l.maps[S];if(v.step){let x=e.steps[S].invert(e.docs[S]),E=v.selection&&v.selection.map(l.slice(f+1,S));E&&c++,r.push(new an(w,x,E))}else r.push(new an(w))},o);let h=[];for(let v=t;v<a;v++)h.push(new an(l.maps[v]));let m=this.items.slice(0,o).append(h).append(r),y=new Zt(m,c);return y.emptyItemCount()>EC&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],l=0;return this.items.forEach((a,c)=>{if(c>=e)o.push(a),a.selection&&l++;else if(a.step){let f=a.step.map(t.slice(r)),h=f&&f.getMap();if(r--,h&&t.appendMap(h,r),f){let m=a.selection&&a.selection.map(t.slice(r));m&&l++;let y=new an(h.invert(),f,m),v,S=o.length-1;(v=o.length&&o[S].merge(y))?o[S]=v:o.push(y)}}else a.map&&r--},this.items.length,0),new Zt(Xe.from(o.reverse()),l)}}Zt.empty=new Zt(Xe.empty,0);function TC(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class an{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new an(t.getMap().invert(),t,this.selection)}}}class Kn{constructor(e,t,r,o,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=l}}const MC=20;function NC(n,e,t,r){let o=t.getMeta(Ar),l;if(o)return o.historyState;t.getMeta(AC)&&(n=new Kn(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Ar))return a.getMeta(Ar).redo?new Kn(n.done.addTransform(t,void 0,r,cl(e)),n.undone,fm(t.mapping.maps),n.prevTime,n.prevComposition):new Kn(n.done,n.undone.addTransform(t,void 0,r,cl(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!OC(t,n.prevRanges)),h=a?nc(n.prevRanges,t.mapping):fm(t.mapping.maps);return new Kn(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,cl(e)),Zt.empty,h,t.time,c??n.prevComposition)}else return(l=t.getMeta("rebased"))?new Kn(n.done.rebased(t,l),n.undone.rebased(t,l),nc(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Kn(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),nc(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function OC(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&o>=e[l]&&(t=!0)}),t}function fm(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,l,a)=>e.push(l,a));return e}function nc(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),l=e.map(n[r+1],-1);o<=l&&t.push(o,l)}return t}function bC(n,e,t){let r=cl(e),o=Ar.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),c=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),f=new Kn(t?c:l.remaining,t?l.remaining:c,null,0,-1);return l.transform.setSelection(a).setMeta(Ar,{redo:t,historyState:f})}let rc=!1,dm=null;function cl(n){let e=n.plugins;if(dm!=e){rc=!1,dm=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){rc=!0;break}}return rc}const Ar=new dn("history"),AC=new dn("closeHistory");function RC(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ot({key:Ar,state:{init(){return new Kn(Zt.empty,Zt.empty,null,0,-1)},apply(e,t,r){return NC(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?gy:r=="historyRedo"?yy:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function my(n,e){return(t,r)=>{let o=Ar.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let l=bC(o,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const gy=my(!1,!0),yy=my(!0,!0),DC=kt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>gy(n,e),redo:()=>({state:n,dispatch:e})=>yy(n,e)}},addProseMirrorPlugins(){return[RC(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),PC=Nt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",ct(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:o}=t,l=n();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):qw(t)?l.insertContentAt(o.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:a,dispatch:c})=>{var f;if(c){const{$to:h}=a.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?a.setSelection(le.create(a.doc,h.pos+1)):h.nodeAfter.isBlock?a.setSelection(ie.create(a.doc,h.pos)):a.setSelection(le.create(a.doc,h.pos));else{const y=(f=h.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();y&&(a.insert(m,y),a.setSelection(le.create(a.doc,m+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Cx({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),IC=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,_C=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,LC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,zC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,BC=Tn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Si({find:IC,type:this.type}),Si({find:LC,type:this.type})]},addPasteRules(){return[wi({find:_C,type:this.type}),wi({find:zC,type:this.type})]}}),FC=Nt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ct(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),VC="listItem",hm="textStyle",pm=/^(\d+)\.\s$/,jC=Nt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",ct(this.options.HTMLAttributes,t),0]:["ol",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(VC,this.editor.getAttributes(hm)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Po({find:pm,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Po({find:pm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(hm)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),$C=Nt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),HC=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,UC=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,WC=Tn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Si({find:HC,type:this.type})]},addPasteRules(){return[wi({find:UC,type:this.type})]}}),qC=Nt.create({name:"text",group:"inline"}),KC=kt.create({name:"starterKit",addExtensions(){var n,e,t,r,o,l,a,c,f,h,m,y,v,S,w,x,E,R;const _=[];return this.options.bold!==!1&&_.push(eC.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&_.push(Gx.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&_.push(nC.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&_.push(oC.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&_.push(aC.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&_.push(uC.configure((l=this.options)===null||l===void 0?void 0:l.document)),this.options.dropcursor!==!1&&_.push(dC.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&_.push(SC.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&_.push(wC.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&_.push(xC.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&_.push(DC.configure((m=this.options)===null||m===void 0?void 0:m.history)),this.options.horizontalRule!==!1&&_.push(PC.configure((y=this.options)===null||y===void 0?void 0:y.horizontalRule)),this.options.italic!==!1&&_.push(BC.configure((v=this.options)===null||v===void 0?void 0:v.italic)),this.options.listItem!==!1&&_.push(FC.configure((S=this.options)===null||S===void 0?void 0:S.listItem)),this.options.orderedList!==!1&&_.push(jC.configure((w=this.options)===null||w===void 0?void 0:w.orderedList)),this.options.paragraph!==!1&&_.push($C.configure((x=this.options)===null||x===void 0?void 0:x.paragraph)),this.options.strike!==!1&&_.push(WC.configure((E=this.options)===null||E===void 0?void 0:E.strike)),this.options.text!==!1&&_.push(qC.configure((R=this.options)===null||R===void 0?void 0:R.text)),_}}),JC=Tn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",ct(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),GC=[KC,JC],XC="",QC=({onEditorContentSaved:n})=>{const e=Ux({extensions:GC,content:XC});if(!e)return null;const t=()=>{const r=e.getHTML();n(r)};return ue.jsxs("div",{children:[ue.jsxs("div",{className:"toolbar",children:[ue.jsx("button",{onClick:()=>e.chain().focus().toggleBold().run(),disabled:!e.can().chain().focus().toggleBold().run(),className:e.isActive("bold")?"is-active":"",children:ue.jsx("strong",{children:"B"})}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!e.can().chain().focus().toggleItalic().run(),className:e.isActive("italic")?"is-active":"",children:"Italic"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleStrike().run(),disabled:!e.can().chain().focus().toggleStrike().run(),className:e.isActive("strike")?"is-active":"",children:"Strike"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleCode().run(),disabled:!e.can().chain().focus().toggleCode().run(),className:e.isActive("code")?"is-active":"",children:"Code"}),ue.jsx("button",{onClick:()=>e.chain().focus().unsetAllMarks().run(),children:"Clear marks"}),ue.jsx("button",{onClick:()=>e.chain().focus().clearNodes().run(),children:"Clear nodes"}),ue.jsx("button",{onClick:()=>e.chain().focus().setParagraph().run(),className:e.isActive("paragraph")?"is-active":"",children:"Paragraph"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:e.isActive("heading",{level:1})?"is-active":"",children:"H1"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:e.isActive("heading",{level:2})?"is-active":"",children:"H2"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:e.isActive("heading",{level:3})?"is-active":"",children:"H3"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:4}).run(),className:e.isActive("heading",{level:4})?"is-active":"",children:"H4"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:5}).run(),className:e.isActive("heading",{level:5})?"is-active":"",children:"H5"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:6}).run(),className:e.isActive("heading",{level:6})?"is-active":"",children:"H6"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:e.isActive("bulletList")?"is-active":"",children:"Bullet list"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleOrderedList().run(),className:e.isActive("orderedList")?"is-active":"",children:"Ordered list"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleCodeBlock().run(),className:e.isActive("codeBlock")?"is-active":"",children:"Code block"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleBlockquote().run(),className:e.isActive("blockquote")?"is-active":"",children:"Blockquote"}),ue.jsx("button",{onClick:()=>e.chain().focus().setHorizontalRule().run(),children:"Horizontal rule"}),ue.jsx("button",{onClick:()=>e.chain().focus().setHardBreak().run(),children:"Hard break"}),ue.jsx("button",{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().chain().focus().undo().run(),children:"Undo"}),ue.jsx("button",{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().chain().focus().redo().run(),children:"Redo"}),ue.jsx("button",{onClick:()=>e.chain().focus().setColor("#958DF1").run(),className:e.isActive("textStyle",{color:"#958DF1"})?"is-active":"",children:"Purple"}),ue.jsx("button",{onClick:()=>e.chain().focus().toggleUnderline().run(),className:e.isActive("underline")?"is-active":"",children:"Toggle underline"})]}),ue.jsx("div",{children:ue.jsx(Px,{editor:e})}),ue.jsx("div",{children:ue.jsx("button",{onClick:t,children:"Save"})})]})};var rl={},co={},il={},Sr={},fo={},ic={},mm;function vy(){return mm||(mm=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function t(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}n.isTag=t,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype}(ic)),ic}var de={},gm;function ym(){if(gm)return de;gm=1;var n=de.__extends||function(){var T=function(b,I){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,$){W.__proto__=$}||function(W,$){for(var pe in $)Object.prototype.hasOwnProperty.call($,pe)&&(W[pe]=$[pe])},T(b,I)};return function(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");T(b,I);function W(){this.constructor=b}b.prototype=I===null?Object.create(I):(W.prototype=I.prototype,new W)}}(),e=de.__assign||function(){return e=Object.assign||function(T){for(var b,I=1,W=arguments.length;I<W;I++){b=arguments[I];for(var $ in b)Object.prototype.hasOwnProperty.call(b,$)&&(T[$]=b[$])}return T},e.apply(this,arguments)};Object.defineProperty(de,"__esModule",{value:!0}),de.cloneNode=de.hasChildren=de.isDocument=de.isDirective=de.isComment=de.isText=de.isCDATA=de.isTag=de.Element=de.Document=de.CDATA=de.NodeWithChildren=de.ProcessingInstruction=de.Comment=de.Text=de.DataNode=de.Node=void 0;var t=vy(),r=function(){function T(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(b){this.parent=b},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(b){this.prev=b},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(b){this.next=b},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(b){return b===void 0&&(b=!1),H(this,b)},T}();de.Node=r;var o=function(T){n(b,T);function b(I){var W=T.call(this)||this;return W.data=I,W}return Object.defineProperty(b.prototype,"nodeValue",{get:function(){return this.data},set:function(I){this.data=I},enumerable:!1,configurable:!0}),b}(r);de.DataNode=o;var l=function(T){n(b,T);function b(){var I=T!==null&&T.apply(this,arguments)||this;return I.type=t.ElementType.Text,I}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),b}(o);de.Text=l;var a=function(T){n(b,T);function b(){var I=T!==null&&T.apply(this,arguments)||this;return I.type=t.ElementType.Comment,I}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),b}(o);de.Comment=a;var c=function(T){n(b,T);function b(I,W){var $=T.call(this,W)||this;return $.name=I,$.type=t.ElementType.Directive,$}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),b}(o);de.ProcessingInstruction=c;var f=function(T){n(b,T);function b(I){var W=T.call(this)||this;return W.children=I,W}return Object.defineProperty(b.prototype,"firstChild",{get:function(){var I;return(I=this.children[0])!==null&&I!==void 0?I:null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"childNodes",{get:function(){return this.children},set:function(I){this.children=I},enumerable:!1,configurable:!0}),b}(r);de.NodeWithChildren=f;var h=function(T){n(b,T);function b(){var I=T!==null&&T.apply(this,arguments)||this;return I.type=t.ElementType.CDATA,I}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),b}(f);de.CDATA=h;var m=function(T){n(b,T);function b(){var I=T!==null&&T.apply(this,arguments)||this;return I.type=t.ElementType.Root,I}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),b}(f);de.Document=m;var y=function(T){n(b,T);function b(I,W,$,pe){$===void 0&&($=[]),pe===void 0&&(pe=I==="script"?t.ElementType.Script:I==="style"?t.ElementType.Style:t.ElementType.Tag);var Me=T.call(this,$)||this;return Me.name=I,Me.attribs=W,Me.type=pe,Me}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"tagName",{get:function(){return this.name},set:function(I){this.name=I},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"attributes",{get:function(){var I=this;return Object.keys(this.attribs).map(function(W){var $,pe;return{name:W,value:I.attribs[W],namespace:($=I["x-attribsNamespace"])===null||$===void 0?void 0:$[W],prefix:(pe=I["x-attribsPrefix"])===null||pe===void 0?void 0:pe[W]}})},enumerable:!1,configurable:!0}),b}(f);de.Element=y;function v(T){return(0,t.isTag)(T)}de.isTag=v;function S(T){return T.type===t.ElementType.CDATA}de.isCDATA=S;function w(T){return T.type===t.ElementType.Text}de.isText=w;function x(T){return T.type===t.ElementType.Comment}de.isComment=x;function E(T){return T.type===t.ElementType.Directive}de.isDirective=E;function R(T){return T.type===t.ElementType.Root}de.isDocument=R;function _(T){return Object.prototype.hasOwnProperty.call(T,"children")}de.hasChildren=_;function H(T,b){b===void 0&&(b=!1);var I;if(w(T))I=new l(T.data);else if(x(T))I=new a(T.data);else if(v(T)){var W=b?Q(T.children):[],$=new y(T.name,e({},T.attribs),W);W.forEach(function(ae){return ae.parent=$}),T.namespace!=null&&($.namespace=T.namespace),T["x-attribsNamespace"]&&($["x-attribsNamespace"]=e({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&($["x-attribsPrefix"]=e({},T["x-attribsPrefix"])),I=$}else if(S(T)){var W=b?Q(T.children):[],pe=new h(W);W.forEach(function(te){return te.parent=pe}),I=pe}else if(R(T)){var W=b?Q(T.children):[],Me=new m(W);W.forEach(function(te){return te.parent=Me}),T["x-mode"]&&(Me["x-mode"]=T["x-mode"]),I=Me}else if(E(T)){var je=new c(T.name,T.data);T["x-name"]!=null&&(je["x-name"]=T["x-name"],je["x-publicId"]=T["x-publicId"],je["x-systemId"]=T["x-systemId"]),I=je}else throw new Error("Not implemented yet: ".concat(T.type));return I.startIndex=T.startIndex,I.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(I.sourceCodeLocation=T.sourceCodeLocation),I}de.cloneNode=H;function Q(T){for(var b=T.map(function(W){return H(W,!0)}),I=1;I<b.length;I++)b[I].prev=b[I-1],b[I-1].next=b[I];return b}return de}var vm;function ky(){return vm||(vm=1,function(n){var e=fo.__createBinding||(Object.create?function(c,f,h,m){m===void 0&&(m=h);var y=Object.getOwnPropertyDescriptor(f,h);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,m,y)}:function(c,f,h,m){m===void 0&&(m=h),c[m]=f[h]}),t=fo.__exportStar||function(c,f){for(var h in c)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&e(f,c,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var r=vy(),o=ym();t(ym(),n);var l={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function c(f,h,m){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof h=="function"&&(m=h,h=l),typeof f=="object"&&(h=f,f=void 0),this.callback=f??null,this.options=h??l,this.elementCB=m??null}return c.prototype.onparserinit=function(f){this.parser=f},c.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(f){this.handleCallback(f)},c.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},c.prototype.onopentag=function(f,h){var m=this.options.xmlMode?r.ElementType.Tag:void 0,y=new o.Element(f,h,void 0,m);this.addNode(y),this.tagStack.push(y)},c.prototype.ontext=function(f){var h=this.lastNode;if(h&&h.type===r.ElementType.Text)h.data+=f,this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);else{var m=new o.Text(f);this.addNode(m),this.lastNode=m}},c.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=f;return}var h=new o.Comment(f);this.addNode(h),this.lastNode=h},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var f=new o.Text(""),h=new o.CDATA([f]);this.addNode(h),f.parent=h,this.lastNode=f},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(f,h){var m=new o.ProcessingInstruction(f,h);this.addNode(m)},c.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},c.prototype.addNode=function(f){var h=this.tagStack[this.tagStack.length-1],m=h.children[h.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),h.children.push(f),m&&(f.prev=m,m.next=f),f.parent=h,this.lastNode=null},c}();n.DomHandler=a,n.default=a}(fo)),fo}var oc={},km;function YC(){return km||(km=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CARRIAGE_RETURN_PLACEHOLDER_REGEX=n.CARRIAGE_RETURN_PLACEHOLDER=n.CARRIAGE_RETURN_REGEX=n.CARRIAGE_RETURN=n.CASE_SENSITIVE_TAG_NAMES_MAP=n.CASE_SENSITIVE_TAG_NAMES=void 0,n.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],n.CASE_SENSITIVE_TAG_NAMES_MAP=n.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,t){return e[t.toLowerCase()]=t,e},{}),n.CARRIAGE_RETURN="\r",n.CARRIAGE_RETURN_REGEX=new RegExp(n.CARRIAGE_RETURN,"g"),n.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),n.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(n.CARRIAGE_RETURN_PLACEHOLDER,"g")}(oc)),oc}var Sm;function Sy(){if(Sm)return Sr;Sm=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.formatAttributes=r,Sr.escapeSpecialCharacters=l,Sr.revertEscapedCharacters=a,Sr.formatDOM=c;var n=ky(),e=YC();function t(f){return e.CASE_SENSITIVE_TAG_NAMES_MAP[f]}function r(f){for(var h={},m=0,y=f.length;m<y;m++){var v=f[m];h[v.name]=v.value}return h}function o(f){f=f.toLowerCase();var h=t(f);return h||f}function l(f){return f.replace(e.CARRIAGE_RETURN_REGEX,e.CARRIAGE_RETURN_PLACEHOLDER)}function a(f){return f.replace(e.CARRIAGE_RETURN_PLACEHOLDER_REGEX,e.CARRIAGE_RETURN)}function c(f,h,m){h===void 0&&(h=null);for(var y=[],v,S=0,w=f.length;S<w;S++){var x=f[S];switch(x.nodeType){case 1:{var E=o(x.nodeName);v=new n.Element(E,r(x.attributes)),v.children=c(E==="template"?x.content.childNodes:x.childNodes,v);break}case 3:v=new n.Text(a(x.nodeValue));break;case 8:v=new n.Comment(x.nodeValue);break;default:continue}var R=y[S-1]||null;R&&(R.next=v),v.parent=h,v.prev=R,v.next=null,y.push(v)}return m&&(v=new n.ProcessingInstruction(m.substring(0,m.indexOf(" ")).toLowerCase(),m),v.next=y[0]||null,v.parent=h,y.unshift(v),y[1]&&(y[1].prev=y[0])),y}return Sr}var wm;function ZC(){if(wm)return il;wm=1,Object.defineProperty(il,"__esModule",{value:!0}),il.default=x;var n=Sy(),e="html",t="head",r="body",o=/<([a-zA-Z]+[0-9]?)/,l=/<head[^]*>/i,a=/<body[^]*>/i,c=function(E,R){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},f=function(E,R){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},h=typeof window=="object"&&window.DOMParser;if(typeof h=="function"){var m=new h,y="text/html";f=function(E,R){return R&&(E="<".concat(R,">").concat(E,"</").concat(R,">")),m.parseFromString(E,y)},c=f}if(typeof document=="object"&&document.implementation){var v=document.implementation.createHTMLDocument();c=function(E,R){if(R){var _=v.documentElement.querySelector(R);return _&&(_.innerHTML=E),v}return v.documentElement.innerHTML=E,v}}var S=typeof document=="object"&&document.createElement("template"),w;S&&S.content&&(w=function(E){return S.innerHTML=E,S.content.childNodes});function x(E){var R,_;E=(0,n.escapeSpecialCharacters)(E);var H=E.match(o),Q=H&&H[1]?H[1].toLowerCase():"";switch(Q){case e:{var T=f(E);if(!l.test(E)){var b=T.querySelector(t);(R=b==null?void 0:b.parentNode)===null||R===void 0||R.removeChild(b)}if(!a.test(E)){var b=T.querySelector(r);(_=b==null?void 0:b.parentNode)===null||_===void 0||_.removeChild(b)}return T.querySelectorAll(e)}case t:case r:{var I=c(E).querySelectorAll(Q);return a.test(E)&&l.test(E)?I[0].parentNode.childNodes:I}default:{if(w)return w(E);var b=c(E,r).querySelector(r);return b.childNodes}}}return il}var xm;function eE(){if(xm)return co;xm=1;var n=co.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(co,"__esModule",{value:!0}),co.default=o;var e=n(ZC()),t=Sy(),r=/<(![a-zA-Z\s]+)>/;function o(l){if(typeof l!="string")throw new TypeError("First argument must be a string");if(!l)return[];var a=l.match(r),c=a?a[1]:void 0;return(0,t.formatDOM)((0,e.default)(l),null,c)}return co}var ol={},jt={},ho={},Cm;function tE(){if(Cm)return ho;Cm=1;var n=0;ho.SAME=n;var e=1;return ho.CAMELCASE=e,ho.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},ho}var Em;function nE(){if(Em)return jt;Em=1;const n=0,e=1,t=2,r=3,o=4,l=5,a=6;function c(T){return h.hasOwnProperty(T)?h[T]:null}function f(T,b,I,W,$,pe,Me){this.acceptsBooleans=b===t||b===r||b===o,this.attributeName=W,this.attributeNamespace=$,this.mustUseProperty=I,this.propertyName=T,this.type=b,this.sanitizeURL=pe,this.removeEmptyString=Me}const h={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(T=>{h[T]=new f(T,n,!1,T,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([T,b])=>{h[T]=new f(T,e,!1,b,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(T=>{h[T]=new f(T,t,!1,T.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(T=>{h[T]=new f(T,t,!1,T,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(T=>{h[T]=new f(T,r,!1,T.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(T=>{h[T]=new f(T,r,!0,T,null,!1,!1)}),["capture","download"].forEach(T=>{h[T]=new f(T,o,!1,T,null,!1,!1)}),["cols","rows","size","span"].forEach(T=>{h[T]=new f(T,a,!1,T,null,!1,!1)}),["rowSpan","start"].forEach(T=>{h[T]=new f(T,l,!1,T.toLowerCase(),null,!1,!1)});const y=/[\-\:]([a-z])/g,v=T=>T[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(T=>{const b=T.replace(y,v);h[b]=new f(b,e,!1,T,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(T=>{const b=T.replace(y,v);h[b]=new f(b,e,!1,T,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(T=>{const b=T.replace(y,v);h[b]=new f(b,e,!1,T,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(T=>{h[T]=new f(T,e,!1,T.toLowerCase(),null,!1,!1)});const S="xlinkHref";h[S]=new f("xlinkHref",e,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(T=>{h[T]=new f(T,e,!1,T.toLowerCase(),null,!0,!0)});const{CAMELCASE:w,SAME:x,possibleStandardNames:E}=tE(),_=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",H=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+_+"]*$")),Q=Object.keys(E).reduce((T,b)=>{const I=E[b];return I===x?T[b]=b:I===w?T[b.toLowerCase()]=b:T[b]=I,T},{});return jt.BOOLEAN=r,jt.BOOLEANISH_STRING=t,jt.NUMERIC=l,jt.OVERLOADED_BOOLEAN=o,jt.POSITIVE_NUMERIC=a,jt.RESERVED=n,jt.STRING=e,jt.getPropertyInfo=c,jt.isCustomAttribute=H,jt.possibleStandardNames=Q,jt}var sl={},po={},sc,Tm;function rE(){if(Tm)return sc;Tm=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,h="/",m="*",y="",v="comment",S="declaration";sc=function(x,E){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];E=E||{};var R=1,_=1;function H(ae){var te=ae.match(e);te&&(R+=te.length);var Pe=ae.lastIndexOf(f);_=~Pe?ae.length-Pe:_+ae.length}function Q(){var ae={line:R,column:_};return function(te){return te.position=new T(ae),W(),te}}function T(ae){this.start=ae,this.end={line:R,column:_},this.source=E.source}T.prototype.content=x;function b(ae){var te=new Error(E.source+":"+R+":"+_+": "+ae);if(te.reason=ae,te.filename=E.source,te.line=R,te.column=_,te.source=x,!E.silent)throw te}function I(ae){var te=ae.exec(x);if(te){var Pe=te[0];return H(Pe),x=x.slice(Pe.length),te}}function W(){I(t)}function $(ae){var te;for(ae=ae||[];te=pe();)te!==!1&&ae.push(te);return ae}function pe(){var ae=Q();if(!(h!=x.charAt(0)||m!=x.charAt(1))){for(var te=2;y!=x.charAt(te)&&(m!=x.charAt(te)||h!=x.charAt(te+1));)++te;if(te+=2,y===x.charAt(te-1))return b("End of comment missing");var Pe=x.slice(2,te-2);return _+=2,H(Pe),x=x.slice(te),_+=2,ae({type:v,comment:Pe})}}function Me(){var ae=Q(),te=I(r);if(te){if(pe(),!I(o))return b("property missing ':'");var Pe=I(l),rt=ae({type:S,property:w(te[0].replace(n,y)),value:Pe?w(Pe[0].replace(n,y)):y});return I(a),rt}}function je(){var ae=[];$(ae);for(var te;te=Me();)te!==!1&&(ae.push(te),$(ae));return ae}return W(),je()};function w(x){return x?x.replace(c,y):y}return sc}var Mm;function iE(){if(Mm)return po;Mm=1;var n=po.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(po,"__esModule",{value:!0}),po.default=t;var e=n(rE());function t(r,o){var l=null;if(!r||typeof r!="string")return l;var a=(0,e.default)(r),c=typeof o=="function";return a.forEach(function(f){if(f.type==="declaration"){var h=f.property,m=f.value;c?o(h,m,f):m&&(l=l||{},l[h]=m)}}),l}return po}var mo={},Nm;function oE(){if(Nm)return mo;Nm=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(h){return!h||t.test(h)||n.test(h)},a=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},f=function(h,m){return m===void 0&&(m={}),l(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(o,c):h=h.replace(r,c),h.replace(e,a))};return mo.camelCase=f,mo}var go,Om;function sE(){if(Om)return go;Om=1;var n=go&&go.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=n(iE()),t=oE();function r(o,l){var a={};return!o||typeof o!="string"||(0,e.default)(o,function(c,f){c&&f&&(a[(0,t.camelCase)(c,l)]=f)}),a}return r.default=r,go=r,go}var bm;function wy(){return bm||(bm=1,function(n){var e=sl.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.returnFirstArg=n.canTextBeChildOfNode=n.ELEMENTS_WITH_NO_TEXT_CHILDREN=n.PRESERVE_CUSTOM_ATTRIBUTES=void 0,n.isCustomComponent=l,n.setStyleProp=c;var t=Io(),r=e(sE()),o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function l(m,y){return m.includes("-")?!o.has(m):!!(y&&typeof y.is=="string")}var a={reactCompat:!0};function c(m,y){if(typeof m=="string"){if(!m.trim()){y.style={};return}try{y.style=(0,r.default)(m,a)}catch{y.style={}}}}n.PRESERVE_CUSTOM_ATTRIBUTES=Number(t.version.split(".")[0])>=16,n.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var f=function(m){return!n.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(m.name)};n.canTextBeChildOfNode=f;var h=function(m){return m};n.returnFirstArg=h}(sl)),sl}var Am;function xy(){if(Am)return ol;Am=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.default=l;var n=nE(),e=wy(),t=["checked","value"],r=["input","select","textarea"],o={reset:!0,submit:!0};function l(c,f){c===void 0&&(c={});var h={},m=!!(c.type&&o[c.type]);for(var y in c){var v=c[y];if((0,n.isCustomAttribute)(y)){h[y]=v;continue}var S=y.toLowerCase(),w=a(S);if(w){var x=(0,n.getPropertyInfo)(w);switch(t.includes(w)&&r.includes(f)&&!m&&(w=a("default"+S)),h[w]=v,x&&x.type){case n.BOOLEAN:h[w]=!0;break;case n.OVERLOADED_BOOLEAN:v===""&&(h[w]=!0);break}continue}e.PRESERVE_CUSTOM_ATTRIBUTES&&(h[y]=v)}return(0,e.setStyleProp)(c.style,h),h}function a(c){return n.possibleStandardNames[c]}return ol}var yo={},Rm;function lE(){if(Rm)return yo;Rm=1;var n=yo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(yo,"__esModule",{value:!0}),yo.default=l;var e=Io(),t=n(xy()),r=wy(),o={cloneElement:e.cloneElement,createElement:e.createElement,isValidElement:e.isValidElement};function l(c,f){f===void 0&&(f={});for(var h=[],m=typeof f.replace=="function",y=f.transform||r.returnFirstArg,v=f.library||o,S=v.cloneElement,w=v.createElement,x=v.isValidElement,E=c.length,R=0;R<E;R++){var _=c[R];if(m){var H=f.replace(_,R);if(x(H)){E>1&&(H=S(H,{key:H.key||R})),h.push(y(H,_,R));continue}}if(_.type==="text"){var Q=!_.data.trim().length;if(Q&&_.parent&&!(0,r.canTextBeChildOfNode)(_.parent)||f.trim&&Q)continue;h.push(y(_.data,_,R));continue}var T=_,b={};a(T)?((0,r.setStyleProp)(T.attribs.style,T.attribs),b=T.attribs):T.attribs&&(b=(0,t.default)(T.attribs,T.name));var I=void 0;switch(_.type){case"script":case"style":_.children[0]&&(b.dangerouslySetInnerHTML={__html:_.children[0].data});break;case"tag":_.name==="textarea"&&_.children[0]?b.defaultValue=_.children[0].data:_.children&&_.children.length&&(I=l(_.children,f));break;default:continue}E>1&&(b.key=R),h.push(y(w(_.name,b,I),_,R))}return h.length===1?h[0]:h}function a(c){return r.PRESERVE_CUSTOM_ATTRIBUTES&&c.type==="tag"&&(0,r.isCustomComponent)(c.name,c.attribs)}return yo}var Dm;function aE(){return Dm||(Dm=1,function(n){var e=rl.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0}),n.htmlToDOM=n.domToReact=n.attributesToProps=n.Text=n.ProcessingInstruction=n.Element=n.Comment=void 0,n.default=c;var t=e(eE());n.htmlToDOM=t.default;var r=e(xy());n.attributesToProps=r.default;var o=e(lE());n.domToReact=o.default;var l=ky();Object.defineProperty(n,"Comment",{enumerable:!0,get:function(){return l.Comment}}),Object.defineProperty(n,"Element",{enumerable:!0,get:function(){return l.Element}}),Object.defineProperty(n,"ProcessingInstruction",{enumerable:!0,get:function(){return l.ProcessingInstruction}}),Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return l.Text}});var a={lowerCaseAttributeNames:!1};function c(f,h){if(typeof f!="string")throw new TypeError("First argument must be a string");return f?(0,o.default)((0,t.default)(f,(h==null?void 0:h.htmlparser2)||a),h):[]}}(rl)),rl}var uE=aE();const Pm=Oc(uE),cE=Pm.default||Pm,fE=({content:n})=>ue.jsx("div",{children:cE(n)}),dE=()=>{const[n,e]=mt.useState(""),t=r=>{e(r)};return ue.jsxs(ue.Fragment,{children:[ue.jsx(QC,{onEditorContentSaved:t}),ue.jsx("hr",{}),ue.jsx(fE,{content:n})]})};function hE(){return ue.jsx(ue.Fragment,{children:ue.jsx(dE,{})})}T1.createRoot(document.getElementById("root")).render(ue.jsx(mt.StrictMode,{children:ue.jsx(hE,{})}));
